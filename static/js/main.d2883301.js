/*! For license information please see main.d2883301.js.LICENSE.txt */
!function(){var e={1202:function(e,t,n){var r=n(861).default,i=n(2122).default,a=n(1588).default,o=n(3808).default,s=n(7424).default,u=n(4704).default,f=n(1655).default,c=n(6389).default,l=n(3496).default,d=n(8416).default,h=n(6690).default,p=n(9728).default;!function(e){"use strict";var t=function(e){"string"!=typeof e?e&&"function"==typeof e.toString?console.warn("[nlux] ".concat(e.toString())):console.warn("[nlux]"):console.warn("[nlux] ".concat(e))},n=[],v=function(e){n.includes(e)||(n.push(e),t(e))},m=function(){function e(){h(this,e)}return p(e,null,[{key:"register",value:function(n){var r=n.__compId;r?void 0===e.componentDefs.get(r)&&(n.__renderer&&n.__updater?e.componentDefs.set(r,{id:r,model:n,render:n.__renderer,update:n.__updater}):t('Component with id "'.concat(r,'" missing renderer or updater'))):t("Component definition missing valid id")}},{key:"retrieve",value:function(n){var r=e.componentDefs.get(n);if(r)return r;t('Component with id "'.concat(n,'" not registered'))}}]),e}();m.componentDefs=new Map;var g=m,y=d({version:"{versions.nlux}"},btoa("componentsRegistered"),!1),b=function(){if("undefined"!=typeof window){var e=window;return"object"==typeof e.nlux&&"string"==typeof e.nlux.version?e.nlux:(window.nlux=y,y)}},k=function(e){var t=requestAnimationFrame((function(){e()}));return function(){cancelAnimationFrame(t)}},w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},_=function(e){f(n,e);var t=c(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(r=t.call(this,i.message)).message=null!==(e=i.message)&&void 0!==e?e:"",r.source=i.source,r.type=r.constructor.name,r.exceptionId=i.exceptionId,r}return p(n)}(l(Error)),E=function(e){f(n,e);var t=c(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(_),C=function(e){f(n,e);var t=c(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(_),x=function(e){f(n,e);var t=c(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(_),S=function(){function e(n,r){var i,a=this;h(this,e),this.subComponentElementIds=new Map,this.subComponents=new Map,this.__context=null,this.__destroyed=!1,this.actionsOnDomReady=[],this.compEventGetter=function(e){var t=a.rendererEventListeners.get(e);if(!t)throw new _({source:a.constructor.name,message:'Unable to call renderer event "'.concat(e,'" because no matching event listener was found. Make sure that the event listener is registered using @CompEventListener() decorator in the component model class, and use class methods instead of arrow function attributes.')});return t};var o=Object.getPrototypeOf(this).constructor.__compId;if(!o)throw new E({source:this.constructor.name,message:"Unable to instantiate component: missing compId in implementation. Component should be annotated using @Model() to set compId before iy can be instantiated."});if(this.def=null!==(i=g.retrieve(o))&&void 0!==i?i:null,!this.def)throw new E({source:this.constructor.name,message:'Unable to instantiate component "'.concat(o,"\" because it's not registered. Component should be registered using CompRegistry.register(ComponentClass) before instantiating a component.")});this.__instanceId=w(),this.__destroyed=!1,this.__context=n,this.renderedDom=null,this.renderingRoot=null,this.props=r,this.elementProps=new Map(r?Object.entries(r):[]),this.rendererEventListeners=new Map;var s=this.constructor.__compEventListeners;s&&s.forEach((function(e,n){e.forEach((function(e){var r=Object.getPrototypeOf(a)[e];"function"==typeof r?a.addRendererEventListener(n,r.bind(a)):t('Unable to set event listener "'.concat(n,'" because method "').concat(e,'" cannot be found on component "').concat(a.constructor.name,' at runtime!"'))}))})),this.rendererProps=Object.freeze(r)}return p(e,[{key:"destroyed",get:function(){return this.__destroyed}},{key:"id",get:function(){return this.__instanceId}},{key:"rendered",get:function(){return null!==this.renderedDom}},{key:"root",get:function(){return this.throwIfDestroyed(),this.renderedDom&&this.renderingRoot?this.renderingRoot:null}},{key:"context",get:function(){if(!this.__context)throw new E({source:this.constructor.name,message:"Unable to get context because it's not set"});return this.__context}},{key:"destroy",value:function(){this.destroyComponent()}},{key:"destroyListItemComponent",value:function(){this.destroyComponent(!0)}},{key:"render",value:function(e){var n,r=this;if(this.def)if(this.destroyed)t('Unable to render component "'.concat(null===(n=this.def)||void 0===n?void 0:n.id,'" because it is already destroyed'));else if(this.rendered||this.renderedDom)t('Unable to render component "'.concat(this.def.id,'" because it is already rendered'));else{var i=document.createDocumentFragment(),a=Object.getPrototypeOf(this).constructor.__compId,o=this.executeRenderer(i);if(!o)throw new _({source:this.constructor.name,message:'Unable to render component "'.concat(a,'" because renderer returned null')});this.renderedDom=o;var f,c=u(this.subComponents);try{for(c.s();!(f=c.n()).done;){var l=s(f.value,2)[1],d=this.getSubComponentPortal(l.id);d&&this.mountSubComponentToPortal(l.id,d)}}catch(h){c.e(h)}finally{c.f()}k((function(){r.destroyed||(e.append(i),r.renderingRoot=e)}))}}},{key:"updateSubComponent",value:function(e,t,n){this.throwIfDestroyed();var r=this.subComponents.get(e);r&&!r.destroyed&&r.setProp(t,n)}},{key:"addSubComponent",value:function(e,t,n){if(this.throwIfDestroyed(),this.subComponents.has(e))throw new E({source:this.constructor.name,message:'Unable to add sub-component "'.concat(e,'" because it already exists')});if(this.subComponents.set(e,t),n&&this.subComponentElementIds.set(e,n),this.renderedDom){var r=this.getSubComponentPortal(e);r&&this.mountSubComponentToPortal(e,r)}}},{key:"executeDomAction",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.throwIfDestroyed(),this.renderedDom){if(!this.renderingRoot)throw new _({source:this.constructor.name,message:"Unable to execute DOM action because renderingRoot is not set"});var a=this.renderedDom.actions[e];if(!a)throw new _({source:this.constructor.name,message:'Unable to execute DOM action "'.concat(String(e),'" because it does not exist')});return k((function(){return a.apply(void 0,r)}))}this.actionsOnDomReady.push((function(){return t.executeDomAction.apply(t,[e].concat(r))}))}},{key:"executeRenderer",value:function(e){var t,n=this,r=null===(t=this.def)||void 0===t?void 0:t.render;if(!r)return null;if(this.renderingRoot)throw new _({source:this.constructor.name,message:"Unable to render component because renderingRoot is already set"});var i=r({appendToRoot:function(t){e.append(t),n.runDomActionsQueue()},compEvent:this.compEventGetter,props:this.rendererProps,context:this.context});return i&&(this.renderingRoot=e),i}},{key:"getProp",value:function(e){var t;return this.throwIfDestroyed(),null!==(t=this.elementProps.get(e))&&void 0!==t?t:null}},{key:"getSubComponent",value:function(e){return this.subComponents.get(e)}},{key:"hasSubComponent",value:function(e){return this.subComponents.has(e)}},{key:"removeSubComponent",value:function(e){this.throwIfDestroyed();var t=this.subComponents.get(e);t&&(t.destroyed||t.destroy(),this.subComponents.delete(e),this.subComponentElementIds.delete(e))}},{key:"runDomActionsQueue",value:function(){if(this.actionsOnDomReady.length>0&&this.rendered){var e=this.actionsOnDomReady;this.actionsOnDomReady=[];var t,n=u(e);try{var r=function(){var e=t.value;k((function(){return e()}))};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}}},{key:"setProp",value:function(e,n){this.destroyed?t('Unable to set prop "'.concat(String(e),'" because component "').concat(this.constructor.name,'" is destroyed')):(null===n?this.elementProps.delete(e):this.elementProps.set(e,n),this.schedulePropUpdate(e),this.props=Object.freeze(Object.fromEntries(this.elementProps)))}},{key:"throwIfDestroyed",value:function(){if(this.__destroyed)throw new E({source:this.constructor.name,message:"Unable to call method on destroyed component"})}},{key:"addRendererEventListener",value:function(e,t){if(this.throwIfDestroyed(),this.rendererEventListeners.has(e))throw new E({source:this.constructor.name,message:'Unable to add event listener to rendererEvents "'.concat(e,'" because it already exists')});this.rendererEventListeners.set(e,t)}},{key:"destroyComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.throwIfDestroyed(),this.subComponents.forEach((function(e){e.destroy()})),this.renderedDom){this.renderedDom.elements&&(this.renderedDom.elements=void 0),this.renderedDom.actions&&(this.renderedDom.actions=void 0),this.renderedDom.onDestroy&&this.renderedDom.onDestroy();var t=this.renderingRoot;k((function(){var n;if(t)if(t instanceof DocumentFragment)for(;t.firstChild;)t.removeChild(t.firstChild);else e?null===(n=t.parentElement)||void 0===n||n.removeChild(t):t.innerHTML=""})),this.renderedDom=null,this.renderingRoot=null}this.__destroyed=!0,this.__context=null,this.props=void 0,this.rendererEventListeners.clear(),this.subComponents.clear()}},{key:"getSubComponentPortal",value:function(e){var t,n=this.subComponents.get(e),r=this.subComponentElementIds.get(e);if(!n||!r)return null;var i=(null===(t=this.renderedDom)||void 0===t?void 0:t.elements)[r];return i instanceof HTMLElement?i:null}},{key:"mountSubComponentToPortal",value:function(e,t){var n=this.subComponents.get(e);null===n||void 0===n||n.render(t)}},{key:"schedulePropUpdate",value:function(e){var t,n=this;if(this.renderedDom&&null!==(t=this.def)&&void 0!==t&&t.update){var r=this.elementProps.get(e),i=this.renderedDom,a=this.renderingRoot,o=this.def.update;a&&k((function(){o({propName:e,newValue:r,dom:{root:a,elements:i.elements,actions:i.actions},updateSubComponent:n.updateSubComponent})}))}}}]),e}();S.__compEventListeners=null,S.__compId=null,S.__renderer=null,S.__updater=null;var T=function(e){var t,n="function"==typeof e?e.__compId:void 0;if(!n)throw new Error("Invalid compClass! Component should be registered before using");var r=null===(t=g.retrieve(n))||void 0===t?void 0:t.model;if("function"!=typeof r)throw new Error('Component "'.concat(n,'" is not registered'));return{withContext:function(e){return{create:function(){return new r(e,{})},withProps:function(t){return{create:function(){return new r(e,t)}}}}}}},A=function(e,t,n){return function(r){r.__compId=e,r.__renderer=t,r.__updater=n}},I=function(e){return function(t,n){if("function"!=typeof t.constructor)throw new E({source:"CallbackFor",message:"@CallbackFor can only be used on methods of a class!"});t.constructor.hasOwnProperty("__compEventListeners")&&null!==t.constructor.__compEventListeners||(t.constructor.__compEventListeners=new Map);var r=t.constructor.__compEventListeners,i=r.get(e);i?i.push(n):r.set(e,[n])}},R=Object.defineProperty,N=Object.getOwnPropertyDescriptor,P=function(e){f(n,e);var t=c(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).componentsById=new Map,i.componentsToRender=[],i.renderedComponents=[],i}return p(n,[{key:"size",get:function(){return this.renderedComponents.length}},{key:"appendComponent",value:function(e,t){var n=this;if(e.destroyed)throw new _({source:this.constructor.name,message:'Unable to append component "'.concat(e.id,'" because it is already destroyed')});if(e.rendered)throw new _({source:this.constructor.name,message:'Unable to append component "'.concat(e.id,'" because it is already rendered')});if(this.componentsById.has(e.id))throw new _({source:this.constructor.name,message:'Unable to append component "'.concat(e.id,'" because it a component with the same id is already appended')});if(this.renderedComponents.includes(e))throw new _({source:this.constructor.name,message:'Unable to append component "'.concat(e.id,'" because it is already appended')});if(!this.rendered)return this.componentsToRender.push({component:e,containerCssClass:t}),void this.componentsById.set(e.id,e);this.renderedComponents.push(e),k((function(){if(n.renderingRoot){var r=document.createElement("div");t&&(r.className=t),e.render(r),n.renderingRoot.append(r)}}))}},{key:"forEachComponent",value:function(e){this.renderedComponents.forEach(e)}},{key:"getComponentAt",value:function(e){if(!(e<0||e>=this.renderedComponents.length))return this.renderedComponents[e]}},{key:"getComponentById",value:function(e){var t,n=u(this.renderedComponents);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r}}catch(i){n.e(i)}finally{n.f()}}},{key:"removeComponent",value:function(e){for(var t=0;t<this.renderedComponents.length;t++)if(this.renderedComponents[t]===e)return void this.removeComponentAt(t)}},{key:"removeComponentAt",value:function(e){e<0||e>=this.renderedComponents.length||(this.renderedComponents[e].destroyListItemComponent(),this.renderedComponents.splice(e,1))}},{key:"removeComponentById",value:function(e){for(var t=0;t<this.renderedComponents.length;t++)if(this.renderedComponents[t].id===e)return void this.removeComponentAt(t)}},{key:"render",value:function(e){if(this.throwIfDestroyed(),!this.def)return null;if(!this.renderedDom){var t=Object.getPrototypeOf(this).constructor.__compId,n=this.executeRenderer(e);if(!n)throw new _({source:this.constructor.name,message:'Unable to render list component "'.concat(t,'" because renderer returned null')});this.renderedDom=n}if(this.componentsToRender.length>0){if(!(e instanceof HTMLElement))throw new _({source:this.constructor.name,message:"Unable to render list component because root is not an HTMLElement"});this.renderingRoot=e;var r,i=u(this.componentsToRender);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.component,s=a.containerCssClass,f=document.createElement("div");s&&(f.className=s),o.render(f),e.append(f),this.renderedComponents.push(o)}}catch(c){i.e(c)}finally{i.f()}this.componentsToRender=[]}}}]),n}(S);P=function(e,t,n,r){for(var i,a=r>1?void 0:r?N(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&R(t,n,a),a}([A("list",(function(){return{elements:{}}}),(function(){}))],P);var O=function(e){return/^[ \t]{2}\n$/m.test(e)},D=function(e){return/^[ \t\n]{1}$/.test(e)},M=["Root","Paragraph","LineBreak","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Blockquote","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","OrderedList","UnorderedList","Code","CodeBlock","HorizontalRule","Link","Image"],L=["^\\[$","^\\[[^\\]]+$","^\\[[^\\]]+\\]$","^\\[[^\\]]+\\]\\($","^\\[[^\\]]+\\]\\([^\\)]*$"],j={shouldOpen:/\[([^\]]+)\]\(([^\)]*)\)/,canOpen:function(e){return L.some((function(t){return new RegExp(t).test(e)}))},shouldClose:function(){return!0},canClose:function(){return!1}},U=function(e,t){return function(n){var r=F.get(e);if(!r)throw new Error("No sequence parsers found for markdown element ".concat(e));var i=r[t];return i instanceof RegExp?i.test(n):i(n)}},F=new Map;F.set("Code",{shouldOpen:/^`[^`]$/,canOpen:/^`$/,shouldClose:/^`[\s\S]+$/,canClose:/^`$/}),F.set("CodeBlock",{shouldOpen:/^```.*\n$/,canOpen:/^`{1,3}.*$/,shouldClose:/^\n?```[\s\S]+$/,canClose:/^\n$|^\n?`{1,3}$/}),F.set("Heading1",{shouldOpen:/^\n*#{1} $/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("Heading2",{shouldOpen:/^\n*#{2} +$/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("Heading3",{shouldOpen:/^\n*#{3} +$/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("Heading4",{shouldOpen:/^\n*#{4} +$/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("Heading5",{shouldOpen:/^\n*#{5} +$/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("Heading6",{shouldOpen:/^\n*#{6} +$/,canOpen:/^\n*#*$/,shouldClose:/^\n$/,canClose:function(){return!1}}),F.set("BoldAsterisk",{canOpen:/^\*{1,2}$/,shouldOpen:/^\*{2}[^(\s\n)]$/,canClose:/^\*{1,2}$/,shouldClose:/^\*{2}[\s\S]$/}),F.set("BoldUnderscore",{canOpen:/^_{1,2}$/,shouldOpen:/^_{2}[^(\s\n)]$/,canClose:/^_{1,2}$/,shouldClose:/^_{2}[\s\S]$/}),F.set("ItalicAsterisk",{canOpen:/^\*$/,shouldOpen:/^\*[^(\*\s\n)]$/,canClose:/^\*$/,shouldClose:/^\*[\s\S]$/}),F.set("ItalicUnderscore",{canOpen:/^_$/,shouldOpen:/^_[^(_\s\n)]$/,canClose:/^_$/,shouldClose:/^_[\s\S]$/}),F.set("Link",j),F.set("LineBreak",{shouldOpen:function(){return!1},canOpen:function(){return!1},shouldClose:function(){return!1},canClose:function(){return!1}}),F.set("Root",{canOpen:function(){return!1},shouldOpen:function(){return!1},canClose:function(){return!1},shouldClose:function(){return!1}}),F.set("Paragraph",{canOpen:/^\n+$/,shouldOpen:/^\n{2,}$/,canClose:/^\n$/,shouldClose:/^\n{2,}$/}),F.set("Blockquote",{shouldOpen:/^$/,canOpen:/^>$/,shouldClose:/^$/,canClose:/^$/}),F.set("OrderedList",{shouldOpen:/^$/,canOpen:/^\d+\. $/,shouldClose:/^\n$/,canClose:/^\n$/}),F.set("UnorderedList",{shouldOpen:/^$/,canOpen:/^\* $/,shouldClose:/^\n$/,canClose:/^\n$/}),F.set("HorizontalRule",{shouldOpen:/^$/,canOpen:/^---$/,shouldClose:/^$/,canClose:/^$/}),F.set("Image",{shouldOpen:/^$/,canOpen:/^!\[.*\]\(.*\)$/,shouldClose:/^$/,canClose:/^$/});var B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";h(this,e),this.__canLeadToClosingMarkdown=!1,this.__latestSequenceProcessed=!1,this.__markdownThatShouldBeNested=void 0,this.__markdownThatShouldBeRenderedAtParentLevel=void 0,this.__potentialNestedMarkdownElements=[],this.__potentialYieldingMarkdownElements=[],this.__sequence="",this.__shouldCloseCurrentMarkdown=!1,this.__markdownElement=t,this.__possibleNestedMarkdownElements="all"===n?M:"none"===n?[]:n,this.__possibleYieldingMarkdownElements="none"===r?[]:r}return p(e,[{key:"canLeadToClosingOrNewMarkdown",get:function(){return this.__latestSequenceProcessed||this.processSequence(),this.__canLeadToClosingMarkdown||this.__potentialYieldingMarkdownElements.length>0||this.__potentialNestedMarkdownElements.length>0}},{key:"elementToCreateAtParentLevel",get:function(){return this.__latestSequenceProcessed||this.processSequence(),this.__markdownThatShouldBeRenderedAtParentLevel}},{key:"nestedElementToCreate",get:function(){return this.__latestSequenceProcessed||this.processSequence(),this.__markdownThatShouldBeNested}},{key:"sequence",get:function(){return this.__sequence}},{key:"shouldCloseCurrentMarkdown",get:function(){return this.__latestSequenceProcessed||this.processSequence(),this.__shouldCloseCurrentMarkdown}},{key:"appendCharacter",value:function(e){this.__sequence+=e,this.__latestSequenceProcessed=!1}},{key:"reset",value:function(){this.__sequence="",this.__latestSequenceProcessed=!1,this.__canLeadToClosingMarkdown=!1,this.__potentialYieldingMarkdownElements=[],this.__potentialNestedMarkdownElements=[],this.__shouldCloseCurrentMarkdown=!1,this.__markdownThatShouldBeRenderedAtParentLevel=void 0,this.__markdownThatShouldBeNested=void 0}},{key:"processSequence",value:function(){if(!this.__latestSequenceProcessed){var e=this.__sequence;this.__canLeadToClosingMarkdown=U(this.__markdownElement,"canClose")(e),this.__potentialYieldingMarkdownElements=this.__possibleYieldingMarkdownElements.filter((function(t){return U(t,"canOpen")(e)})),this.__potentialNestedMarkdownElements=this.__possibleNestedMarkdownElements.filter((function(t){return U(t,"canOpen")(e)})),this.__shouldCloseCurrentMarkdown=U(this.__markdownElement,"shouldClose")(e),this.__markdownThatShouldBeRenderedAtParentLevel=this.__possibleYieldingMarkdownElements.find((function(t){return U(t,"shouldOpen")(e)})),this.__markdownThatShouldBeNested=this.__possibleNestedMarkdownElements.find((function(t){return U(t,"shouldOpen")(e)}))}}}]),e}(),z=function(){function e(t,n,r,i,a){h(this,e),this.__initialized=!1,this.__last3Characters="",this.__options={},this.__yielded=!1,this.__markdownElementName=n,this.__parent=null!==t&&void 0!==t?t:void 0,this.__options=a||{},this.__openingSequence=null!==r&&void 0!==r?r:void 0,this.__initialContent="Root"!==n&&null!==i&&void 0!==i?i:void 0}return p(e,[{key:"domElement",get:function(){return this.__element}},{key:"markdownElementName",get:function(){return this.__markdownElementName}},{key:"parsingChild",get:function(){return this.__parsingChild}},{key:"removeWhenEmpty",get:function(){return!1}},{key:"sequenceParser",get:function(){if(this.yielded)throw new Error("Cannot access sequence parser of a yielded processor");return this.__sequenceParser||(this.__sequenceParser=new B(this.__markdownElementName,this.nestedMarkdownElements,this.yieldingMarkdownElements)),this.__sequenceParser}},{key:"yielded",get:function(){return this.__yielded}},{key:"last3Characters",get:function(){return this.__last3Characters}},{key:"markdownProcessorOptions",get:function(){return this.__options}},{key:"syntaxHighlighter",get:function(){return this.__options.syntaxHighlighter}},{key:"initialContent",get:function(){return this.__initialContent}},{key:"init",value:function(){if(!this.__initialized&&(this.__initialized=!0,"Root"!==this.__markdownElementName?this.__element=this.createElement(this.__openingSequence):this.__element=void 0,this.__initialContent))for(var e=0;e<this.__initialContent.length;e++){var t=this.__initialContent[e];this.processCharacter(t)}}},{key:"parsingChildYielded",value:function(e,t,n,r){this.__parsingChild===e&&(this.__parsingChild=void 0),t&&this.createAndAppendMarkdown(t,n),r&&this.processCharacter(r)}},{key:"preProcessCharacter",value:function(e){this.__last3Characters.length<3?this.__last3Characters+=e:this.__last3Characters=this.__last3Characters.slice(1)+e}},{key:"purgeSequence",value:function(){var e,t;this.__parsingChild&&this.__parsingChild.purgeSequence(),(null===(e=this.__sequenceParser)||void 0===e?void 0:e.sequence)&&(null!==(t=this.__element)&&void 0!==t&&t.append(this.__sequenceParser.sequence),this.__sequenceParser.reset())}},{key:"resetSequenceParser",value:function(){var e;null!==(e=this.__sequenceParser)&&void 0!==e&&e.reset(),this.__sequenceParser=new B(this.__markdownElementName,this.nestedMarkdownElements,this.yieldingMarkdownElements)}},{key:"setParsingChild",value:function(e){var t;if(this.__parsingChild&&"Root"!==this.__markdownElementName)throw new Error("Cannot set spawn child while parsing child");this.__parsingChild=e,e.domElement&&null!==(t=this.domElement)&&void 0!==t&&t.append(e.domElement),e.__parent=this}},{key:"yield",value:function(e,t){var n,r;if(!this.yielded){var i=!this.__sequenceParser||null!==(n=this.__sequenceParser)&&void 0!==n&&n.shouldCloseCurrentMarkdown||null===(r=this.__sequenceParser)||void 0===r?void 0:r.sequence;this.__yielded=!0,this.__sequenceParser=void 0,this.__parsingChild&&(this.__parsingChild.yield(),this.__parsingChild=void 0),this.__element&&(this.__element.innerHTML=this.__element.innerHTML.trim(),this.removeWhenEmpty&&""===this.__element.innerHTML&&this.__element.remove(),this.__element=void 0),this.__parent&&(this.__parent.parsingChildYielded(this,e,i,t),this.__parent=void 0)}}}]),e}(),V=function(e){f(n,e);var t=c(n);function n(e,r,i,a,o){return h(this,n),t.call(this,e,r,i,a,o)}return p(n,[{key:"createAndAppendMarkdown",value:function(e,t){ee(e,this,t,void 0,this.markdownProcessorOptions),this.sequenceParser.reset()}},{key:"processCharacter",value:function(e){var t,n;if(this.preProcessCharacter(e),this.parsingChild)this.parsingChild.processCharacter(e);else{var r=this.processSequence(e),i=r.sequenceDiscarded,a=r.discardedSequence;if(!r.yielded)if(O(this.last3Characters)&&(this.nestedMarkdownElements.includes("LineBreak")||"all"===this.nestedMarkdownElements))null!==(t=this.domElement)&&void 0!==t&&t.innerHTML&&(this.domElement.innerHTML=null===(n=this.domElement)||void 0===n?void 0:n.innerHTML.trim()),this.createAndAppendMarkdown("LineBreak"),this.sequenceParser.reset();else if(i){var o,s;this.resetSequenceParser(),this.processSequence(e).sequenceDiscarded?(this.sequenceParser.reset(),a&&(null===(o=this.domElement)||void 0===o||o.append(a))):a&&a.length>1&&(null===(s=this.domElement)||void 0===s||s.append(a.slice(0,-1)))}}}},{key:"processSequence",value:function(e){if(this.sequenceParser.appendCharacter(e),this.sequenceParser.shouldCloseCurrentMarkdown)return this.yield(void 0,e),{sequenceDiscarded:!1,yielded:!0};if(this.sequenceParser.elementToCreateAtParentLevel)return this.yield(this.sequenceParser.elementToCreateAtParentLevel,e),{sequenceDiscarded:!1,yielded:!0};var t=this.sequenceParser.nestedElementToCreate;if(t)return ee(t,this,this.sequenceParser.sequence,e,this.markdownProcessorOptions),this.sequenceParser.reset(),{sequenceDiscarded:!1};if(this.sequenceParser.canLeadToClosingOrNewMarkdown)return{sequenceDiscarded:!1};var n=this.sequenceParser.sequence;return this.sequenceParser.reset(),{sequenceDiscarded:!0,discardedSequence:n}}}]),n}(z),q=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"BoldAsterisk",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["LineBreak","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("strong")}}]),n}(V),H=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"BoldUnderscore",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["LineBreak","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("strong")}}]),n}(V),W=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"Code",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("code")}}]),n}(V),G=function(e){f(n,e);var t=c(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return h(this,n),(a=t.call(this,e,"CodeBlock",null!==r&&void 0!==r?r:null,!i||D(i)?null:i,o)).codeContainer=null,a.currentLineContainer=null,a.language=a.extractLanguageFromOpeningSequence(r),a}return p(n,[{key:"canExistAtRootLevel",get:function(){return!0}},{key:"nestedMarkdownElements",get:function(){return"none"}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){var e=document.createElement("div");return e.classList.add("code-block"),this.codeContainer=document.createElement("pre"),e.append(this.codeContainer),this.language&&(this.codeContainer.dataset.language=this.language),e}},{key:"processCharacter",value:function(e){this.preProcessCharacter(e);var t=this.processSequence(e),n=t.sequenceDiscarded,r=t.discardedSequence;if(!t.yielded&&n){if(r&&r.length>1&&this.codeContainer)for(var i=0;i<r.length-1;i++)this.appendCharacterToCodeBlock(r[i]);this.resetSequenceParser(),this.processSequence(e).sequenceDiscarded&&(this.sequenceParser.reset(),this.appendCharacterToCodeBlock(e))}}},{key:"yield",value:function(e,t){this.highlightCurrentLine(),this.markdownProcessorOptions.skipCopyToClipboardButton||this.insertCopyToClipboardButton(),a(o(n.prototype),"yield",this).call(this,e,t),this.codeContainer=null,this.currentLineContainer=null}},{key:"appendCharacterToCodeBlock",value:function(e){if(this.codeContainer)if("\n"!==e)this.currentLineContainer||(this.currentLineContainer=document.createElement("div"),this.codeContainer.append(this.currentLineContainer)),this.currentLineContainer.append(e);else if(this.currentLineContainer)this.currentLineContainer.innerHTML?this.highlightCurrentLine():this.currentLineContainer.innerHTML=" ",this.currentLineContainer=null;else if(this.codeContainer.innerHTML){var t=document.createElement("div");t.innerHTML=" ",this.codeContainer.append(t)}}},{key:"extractLanguageFromOpeningSequence",value:function(e){if(e){var t=e.match(/```(\w+)/);return Array.isArray(t)&&t.length>1?t[1]:void 0}}},{key:"highlightCurrentLine",value:function(){var e;if(this.domElement&&this.currentLineContainer){var t=null!==(e=this.currentLineContainer.innerText)&&void 0!==e?e:this.currentLineContainer.innerHTML;if(this.syntaxHighlighter&&this.codeContainer&&t){var n=this.codeContainer.dataset.language;if(n){var r=this.syntaxHighlighter.createHighlighter({language:n,colorMode:"dark"}),i=this.syntaxHighlighter.highlightingClass(n);this.codeContainer.classList.contains(i)||this.codeContainer.classList.add(i),this.currentLineContainer.innerHTML=r(t,n)}}}}},{key:"insertCopyToClipboardButton",value:function(){if(this.domElement){var e="Copy code to clipboard",t=document.createElement("button");t.classList.add("copy-button"),t.setAttribute("aria-label",e),t.setAttribute("title",e),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 1.25H10.9436C9.10583 1.24998 7.65019 1.24997 6.51098 1.40314C5.33856 1.56076 4.38961 1.89288 3.64124 2.64124C2.89288 3.38961 2.56076 4.33856 2.40314 5.51098C2.24997 6.65019 2.24998 8.10582 2.25 9.94357V16C2.25 17.8722 3.62205 19.424 5.41551 19.7047C5.55348 20.4687 5.81753 21.1208 6.34835 21.6517C6.95027 22.2536 7.70814 22.5125 8.60825 22.6335C9.47522 22.75 10.5775 22.75 11.9451 22.75H15.0549C16.4225 22.75 17.5248 22.75 18.3918 22.6335C19.2919 22.5125 20.0497 22.2536 20.6517 21.6517C21.2536 21.0497 21.5125 20.2919 21.6335 19.3918C21.75 18.5248 21.75 17.4225 21.75 16.0549V10.9451C21.75 9.57754 21.75 8.47522 21.6335 7.60825C21.5125 6.70814 21.2536 5.95027 20.6517 5.34835C20.1208 4.81753 19.4687 4.55348 18.7047 4.41551C18.424 2.62205 16.8722 1.25 15 1.25ZM17.1293 4.27117C16.8265 3.38623 15.9876 2.75 15 2.75H11C9.09318 2.75 7.73851 2.75159 6.71085 2.88976C5.70476 3.02502 5.12511 3.27869 4.7019 3.7019C4.27869 4.12511 4.02502 4.70476 3.88976 5.71085C3.75159 6.73851 3.75 8.09318 3.75 10V16C3.75 16.9876 4.38624 17.8265 5.27117 18.1293C5.24998 17.5194 5.24999 16.8297 5.25 16.0549V10.9451C5.24998 9.57754 5.24996 8.47522 5.36652 7.60825C5.48754 6.70814 5.74643 5.95027 6.34835 5.34835C6.95027 4.74643 7.70814 4.48754 8.60825 4.36652C9.47522 4.24996 10.5775 4.24998 11.9451 4.25H15.0549C15.8297 4.24999 16.5194 4.24998 17.1293 4.27117ZM7.40901 6.40901C7.68577 6.13225 8.07435 5.9518 8.80812 5.85315C9.56347 5.75159 10.5646 5.75 12 5.75H15C16.4354 5.75 17.4365 5.75159 18.1919 5.85315C18.9257 5.9518 19.3142 6.13225 19.591 6.40901C19.8678 6.68577 20.0482 7.07435 20.1469 7.80812C20.2484 8.56347 20.25 9.56458 20.25 11V16C20.25 17.4354 20.2484 18.4365 20.1469 19.1919C20.0482 19.9257 19.8678 20.3142 19.591 20.591C19.3142 20.8678 18.9257 21.0482 18.1919 21.1469C17.4365 21.2484 16.4354 21.25 15 21.25H12C10.5646 21.25 9.56347 21.2484 8.80812 21.1469C8.07435 21.0482 7.68577 20.8678 7.40901 20.591C7.13225 20.3142 6.9518 19.9257 6.85315 19.1919C6.75159 18.4365 6.75 17.4354 6.75 16V11C6.75 9.56458 6.75159 8.56347 6.85315 7.80812C6.9518 7.07435 7.13225 6.68577 7.40901 6.40901Z" fill="currentColor"/></svg>';var n=this.codeContainer,r=!1;t.addEventListener("click",(function(){if(!r&&n){var e=n.innerText;navigator.clipboard.writeText(null!==e&&void 0!==e?e:""),r=!0,t.classList.add("clicked"),setTimeout((function(){r=!1,t.classList.remove("clicked")}),1e3)}})),this.domElement.insertAdjacentElement("beforebegin",t)}}}]),n}(V),K=function(e){f(n,e);var t=c(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,r,Q(e),null!==i&&void 0!==i?i:null,null!==a&&void 0!==a?a:null,null)).__headingLevel=e,o}return p(n,[{key:"canExistAtRootLevel",get:function(){return!0}},{key:"nestedMarkdownElements",get:function(){return["BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("h"+this.__headingLevel)}},{key:"processCharacter",value:function(e){var t;if(this.preProcessCharacter(e),this.parsingChild)this.parsingChild.processCharacter(e);else{var n=this.processSequence(e),r=n.sequenceDiscarded,i=n.discardedSequence;n.yielded||r&&i&&(/^\s+$/.test(i)||null===(t=this.domElement)||void 0===t||t.append(i))}}}]),n}(V),Q=function(e){switch(e){case 1:return"Heading1";case 2:return"Heading2";case 3:return"Heading3";case 4:return"Heading4";case 5:return"Heading5";case 6:return"Heading6"}},J=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"ItalicAsterisk",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["LineBreak","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("em")}}]),n}(V),X=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"ItalicUnderscore",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["LineBreak","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createElement",value:function(){return document.createElement("em")}}]),n}(V),Y=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"LineBreak",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!0}},{key:"nestedMarkdownElements",get:function(){return"none"}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"createAndAppendMarkdown",value:function(e,t){ee(e,this,t,void 0,this.markdownProcessorOptions),this.sequenceParser.reset()}},{key:"createElement",value:function(){return document.createElement("br")}},{key:"init",value:function(){a(o(n.prototype),"init",this).call(this)}},{key:"processCharacter",value:function(e){this.yield(void 0,e)}}]),n}(z),$=function(e){f(n,e);var t=c(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,"Link",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)).linkContentProcessed="",a}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"nestedMarkdownElements",get:function(){return["BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code"]}},{key:"yieldingMarkdownElements",get:function(){return["Paragraph","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code"]}},{key:"createElement",value:function(e){var t=/\[(.*[^\]])\]\((.*[^\)])\)/.exec(e),n=document.createElement("a");return n.textContent="",t&&t.length>=3&&t[2]&&(n.href=t[2]),n}},{key:"processCharacter",value:function(e){a(o(n.prototype),"processCharacter",this).call(this,e),this.yielded||(this.linkContentProcessed+=e)}},{key:"processSequence",value:function(e){if(!this.initialContent||this.initialContent===this.linkContentProcessed)return this.yield(void 0,e),{yielded:!0,sequenceDiscarded:!0,discardedSequence:e};this.sequenceParser.appendCharacter(e);var t=this.sequenceParser.nestedElementToCreate;if(t)return ee(t,this,this.sequenceParser.sequence,e,this.markdownProcessorOptions),this.sequenceParser.reset(),{sequenceDiscarded:!1};if(this.sequenceParser.canLeadToClosingOrNewMarkdown)return{sequenceDiscarded:!1};var n=this.sequenceParser.sequence;return this.sequenceParser.reset(),{sequenceDiscarded:!0,discardedSequence:n}}}]),n}(V),Z=function(e){f(n,e);var t=c(n);function n(e,r,i){return h(this,n),t.call(this,e,"Paragraph",null!==r&&void 0!==r?r:null,null!==i&&void 0!==i?i:null,null)}return p(n,[{key:"canExistAtRootLevel",get:function(){return!0}},{key:"nestedMarkdownElements",get:function(){return["LineBreak","Blockquote","BoldAsterisk","ItalicAsterisk","BoldUnderscore","ItalicUnderscore","Code","Link"]}},{key:"removeWhenEmpty",get:function(){return!0}},{key:"yieldingMarkdownElements",get:function(){return["Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","CodeBlock","UnorderedList","OrderedList","HorizontalRule","Image"]}},{key:"createElement",value:function(){return document.createElement("p")}}]),n}(V),ee=function(e,t,n,r,i){if("Paragraph"===e){var a=new Z(t,n,r);return a.init(),void t.setParsingChild(a)}if("LineBreak"===e){var o=new Y(t,n,r);return o.init(),void t.setParsingChild(o)}if("Link"===e){var s=/\[([^\]]+)\]\(([^\)]*)\)/.exec(n),u=s&&s.length>=3?s[1]:"",f=new $(t,n,u);return f.init(),void t.setParsingChild(f)}if("Heading1"===e||"Heading2"===e||"Heading3"===e||"Heading4"===e||"Heading5"===e||"Heading6"===e){var c=parseInt(e[e.length-1]);if(Number.isNaN(c)||!Number.isFinite(c)||c<1||c>6)throw new Error("Invalid heading level");var l=new K(c,t,n,r);return l.init(),void t.setParsingChild(l)}if("Code"===e){var d=new W(t,n,r);return d.init(),void t.setParsingChild(d)}if("CodeBlock"===e){var h=new G(t,n,r,i);return h.init(),void t.setParsingChild(h)}if("BoldAsterisk"===e){var p=new q(t,n,r);return p.init(),void t.setParsingChild(p)}if("BoldUnderscore"===e){var v=new H(t,n,r);return v.init(),void t.setParsingChild(v)}if("ItalicAsterisk"===e){var m=new J(t,n,r);return m.init(),void t.setParsingChild(m)}if("ItalicUnderscore"===e){var g=new X(t,n,r);return g.init(),void t.setParsingChild(g)}throw new Error("Unable to create child processor for markdown element "+e)},te=function(e){f(n,e);var t=c(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,null,"Root",null!==r&&void 0!==r?r:null,null,null!==i&&void 0!==i?i:null)).__rootDomElement=e,a}return p(n,[{key:"canExistAtRootLevel",get:function(){return!1}},{key:"domElement",get:function(){return this.__rootDomElement}},{key:"nestedMarkdownElements",get:function(){return"all"}},{key:"yieldingMarkdownElements",get:function(){return"none"}},{key:"complete",value:function(){var e,t,n,r;this.parsingChild&&this.parsingChild.purgeSequence(),this.purgeSequence(),(r=null===(e=this.domElement)||void 0===e?void 0:e.lastChild)instanceof HTMLElement&&"BR"===r.tagName&&(null===(t=this.domElement)||void 0===t||null===(n=t.lastChild)||void 0===n||n.remove())}},{key:"createAndAppendMarkdown",value:function(e,t){ee(e,this,t,void 0,this.markdownProcessorOptions),this.sequenceParser.reset()}},{key:"createElement",value:function(){throw new Error("Root cannot create an element")}},{key:"processCharacter",value:function(e){this.preProcessCharacter(e),this.parsingChild?this.parsingChild.processCharacter(e):(this.sequenceParser.appendCharacter(e),this.processSequence(e))}},{key:"yield",value:function(){a(o(n.prototype),"yield",this).call(this),this.__rootDomElement=void 0}},{key:"processSequence",value:function(e){if(!this.sequenceParser.shouldCloseCurrentMarkdown){var t=this.sequenceParser.nestedElementToCreate;if(t){var n;ee(t,this,this.sequenceParser.sequence,e,this.markdownProcessorOptions);var r=this.parsingChild;return r&&!r.canExistAtRootLevel&&(ee("Paragraph",this),null!==(n=this.parsingChild)&&void 0!==n&&n.setParsingChild(r)),void this.sequenceParser.reset()}this.sequenceParser.canLeadToClosingOrNewMarkdown||(O(this.last3Characters)?this.createAndAppendMarkdown("LineBreak"):e&&!D(e)&&(ee("Paragraph",this,void 0,this.sequenceParser.sequence),this.sequenceParser.reset()))}}}]),n}(z),ne=10,re=function(e,t,n){var r=n||{},i=r.streamingAnimationSpeed,a=void 0===i?ne:i,o=r.skipAnimation,s=void 0!==o&&o,u=r.skipCopyToClipboardButton,f=new te(e,void 0,{syntaxHighlighter:t,skipCopyToClipboardButton:void 0!==u&&u}),c=[],l=new Set,d=0,h=!1,p=!1,v=s?0:Math.max(a,0),m=Math.ceil(200/ne),g=function e(){if(0===c.length&&d<m)return d+=1,void setTimeout(e,v);if(0===c.length&&d===m)return h=!1,void(p&&(f.processCharacter("\n"),f.complete(),f.yield(),l.forEach((function(e){return e()})),l.clear()));if(c.length>0){var t=c.shift();t&&f.processCharacter(t),h=!0,d=0}setTimeout(e,v)};return{next:function(e){if(e){for(var t=0;t<e.length;t++)c.push(e[t]);h||g()}},complete:function(){p=!0},onComplete:function(e){p||l.add(e)}}},ie=function(e,t){var n=!1,r=t?e.querySelector(t):e,i=r instanceof HTMLElement?r:void 0;if(!i)throw new x({source:"dom/listenTo",message:'Could not find element with query "'.concat(t,'". Make sure the query provided matches an element that exists in the root element.')});var a=new Map,o=new Map,s=function(){i&&(a.forEach((function(e,t){i.removeEventListener(t,e)})),a.clear(),o.clear())},u={on:function(e,t){if(!t||!i)return u;if(!a.has(e)){var n=function(t){var n;null===(n=o.get(e))||void 0===n||n.forEach((function(e){return e(t)}))};a.set(e,n),i.addEventListener(e,n)}return o.has(e)||o.set(e,new Set),o.get(e).add(t),u},get:function(){if(n)throw new Error("listenTo().get() can only be used once!");return n=!0,[i,s]}};return u},ae=function(e){return new Array(e.length+1).join("&nbsp;")},oe=function(e){var n=document.createElement("div");n.innerHTML=e.trim();for(var r=document.createDocumentFragment();n.firstChild;)r.append(n.firstChild);if(r.firstChild){for(var i=0;i<r.children.length;i++)if(!(r.children[i]instanceof HTMLElement))return void t("render() function rendered a non HTMLElement");return 1===r.children.length?r.children[0]:r}},se=function(e,t){return"#".concat(e,"/").concat(t)},ue=function(e){var n=oe('<div class="'.concat(fe("persona"),'"></div>'));if(n&&n instanceof HTMLElement){if(e.picture&&(e.picture instanceof HTMLElement||"string"==typeof e.picture)){var r=e.name?e.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",i=document.createElement("div");if(i.classList.add(fe("persona-photo-container")),i.ariaRoleDescription="Persona Photo"+(r?" For Chat Participant ".concat(r):""),e.picture instanceof HTMLElement){var a=e.picture.cloneNode(!0);if(!(a instanceof HTMLElement))return void t("Photo dom element is not an HTMLElement");i.append(a)}else{var o=document.createElement("span");o.classList.add(fe("persona-letter"));var s=e.name&&e.name.length>0?e.name[0].toUpperCase():"";s.length>0&&o.append(s),i.append(o);var u=document.createElement("div");u.classList.add(fe("persona-rendered-photo")),u.style.backgroundImage='url("'.concat(encodeURI(e.picture),'")'),i.append(u)}return n.append(i),n}t("Persona picture is not a string or a valid HTMLElement")}},fe=function(e){return"nluxc-text-message-".concat(e)},ce=function(e){var t=e.content;return'<div class="'.concat(fe("content"),'" tabindex="0">').concat(t?function(e){var t=e.replace(/<\/?[^>]+(>|$)/g,"");return t=(t=t.replace(/\n/g,"<br />")).replace(/\s\s+/g,ae)}(t):"","</div>")},le=Object.defineProperty,de=Object.getOwnPropertyDescriptor,he=function(e,t,n,r){for(var i,a=r>1?void 0:r?de(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&le(t,n,a),a},pe=function(e){f(r,e);var n=c(r);function r(e,t){var i;return h(this,r),(i=n.call(this,e,t)).contentStatusChangeListeners=new Set,i.domChangeListeners=new Set,i.resizeListeners=new Set,i.__content=t.content,i.contentType=t.contentType,i.contentStatus=t.loadingStatus,i}return p(r,[{key:"content",get:function(){return this.__content}},{key:"direction",get:function(){var e;return null===(e=this.props)||void 0===e?void 0:e.direction}},{key:"appendContent",value:function(e){if("stream"!==this.contentType)throw new Error("CompMessage: content can only be appended when contentType is 'stream'!");if("streaming"!==this.contentStatus&&"connecting"!==this.contentStatus)throw new Error("CompMessage: Content can only be appended when contentStatus is 'streaming' or 'connecting'!");"connecting"===this.contentStatus&&this.setContentLoadingStatus("streaming"),this.__content=this.content?this.content+e:e,this.executeDomAction("appendContent",e)}},{key:"commitContent",value:function(){if("stream"!==this.contentType)throw new Error("CompMessage: content can only be committed when contentType is 'stream'!");if("streaming"!==this.contentStatus&&"connecting"!==this.contentStatus)throw new Error("CompMessage: content can only be committed when contentStatus is 'streaming' or 'connecting'!");this.executeDomAction("commitContent"),this.setContentLoadingStatus("loaded")}},{key:"destroy",value:function(){this.resizeListeners.clear(),this.contentStatusChangeListeners.clear(),a(o(r.prototype),"destroy",this).call(this)}},{key:"onContentStatusChange",value:function(e){this.contentStatusChangeListeners.add(e)}},{key:"onDomChange",value:function(e){this.domChangeListeners.add(e)}},{key:"onResize",value:function(e){this.resizeListeners.add(e)}},{key:"removeContentStatusChangeListener",value:function(e){this.contentStatusChangeListeners.delete(e)}},{key:"removeDomChangeListener",value:function(e){this.domChangeListeners.delete(e)}},{key:"removeResizeListener",value:function(e){this.resizeListeners.delete(e)}},{key:"setContent",value:function(e){if("promise"!==this.contentType)throw new Error("CompMessage: content can only be set when contentType is 'promise'!");if("loading"!==this.contentStatus)throw new Error("CompMessage: content can only be set when contentStatus is 'loading'!");this.__content=e,this.setContentLoadingStatus("loaded"),this.executeDomAction("appendContent",e)}},{key:"setErrored",value:function(){if("loaded"===this.contentStatus||"loading-error"===this.contentStatus)throw new Error("CompMessage: Content cannot be erred when it is already loaded or errored!");this.setContentLoadingStatus("loading-error")}},{key:"setPersona",value:function(e){if(!this.props)throw new Error("CompMessage: Cannot set bot persona before props are initialized!");this.executeDomAction("updatePersona",e)}},{key:"setStreamingAnimationSpeed",value:function(e){this.setProp("streamingAnimationSpeed",e)}},{key:"handleCompCopyToClipboardTriggered",value:function(e){e.preventDefault(),this.__content&&navigator.clipboard.writeText(this.__content).catch((function(e){t("Failed to copy selected message to clipboard!")}))}},{key:"handleDomChange",value:function(){this.domChangeListeners.forEach((function(e){return e()}))}},{key:"handleResize",value:function(){this.resizeListeners.forEach((function(e){return e()}))}},{key:"setContentLoadingStatus",value:function(e){var t=this;if(this.contentStatus!==e){if("static"===this.contentType&&"loaded"!==e)throw new Error("CompMessage: contentStatus can only be 'loaded' when contentType is 'static'!");if("stream"===this.contentType&&"loading"===e)throw new Error("CompMessage: contentStatus cannot be 'loading' when contentType is 'stream'!");this.contentStatus=e,this.setProp("loadingStatus",e),this.contentStatusChangeListeners.forEach((function(e){return e(t.contentStatus)})),"loaded"!==e&&"loading-error"!==e||this.contentStatusChangeListeners.clear()}}}]),r}(S);he([I("copy-to-clipboard-triggered")],pe.prototype,"handleCompCopyToClipboardTriggered",1),he([I("message-container-dom-changed")],pe.prototype,"handleDomChange",1),he([I("message-container-resized")],pe.prototype,"handleResize",1),pe=he([A("message",(function(e){var t=e.appendToRoot,n=e.props,r=e.context,i=e.compEvent;if("text"!==n.format)throw new x({source:se("message","render"),message:"Unsupported format: ".concat(n.format,"! Only text is currently supported!")});var a,o=oe(ce(n));if(!o)throw new x({source:se("prompt-box","render"),message:"Message could not be rendered"});"in"===n.direction&&n.botPersona?a=ue(n.botPersona):"out"===n.direction&&n.userPersona&&(a=ue(n.userPersona));var u=document.createElement("div");a&&u.prepend(a);var f="in"===n.direction?"received":"sent",c="message-status-".concat(n.loadingStatus);u.append(o);var l=oe('<div class="'.concat(fe("loader"),'"><div class="spinning-loader-container"><span class="spinning-loader"></span></div></div>')),d=l instanceof HTMLElement?l:void 0;!d||"loading"!==n.loadingStatus&&"connecting"!==n.loadingStatus||u.append(d),u.classList.add(fe("container")),u.classList.add(fe(f)),u.classList.add(c);var h=ie(u,":scope > .".concat(fe("content"))).on("keydown",(function(e){if((e.ctrlKey||e.metaKey)&&"c"===e.key){var t=i("copy-to-clipboard-triggered");"function"==typeof t&&t(e)}})).on("click",(function(e){!e||!e.target||e.target instanceof HTMLAnchorElement||(e.stopPropagation(),e.preventDefault())})).get(),p=s(h,2),v=p[0],m=p[1];t(u);var g,y,b,k=n.trackResize,w=n.trackDomChange;k&&(y=new ResizeObserver((function(){i("message-container-resized")()}))).observe(v),w&&(b=new MutationObserver((function(){i("message-container-dom-changed")()}))).observe(v,{childList:!0,subtree:!0,characterData:!0});var _=function(){var e,t;null!==(e=y)&&void 0!==e&&e.disconnect(),null!==(t=b)&&void 0!==t&&t.disconnect(),y=void 0,b=void 0,g=void 0};return{elements:{container:u,contentContainer:v,loader:d},actions:{focus:function(){v.focus()},appendContent:function(e){g||(g=re(v,r.syntaxHighlighter,{streamingAnimationSpeed:n.streamingAnimationSpeed,skipAnimation:!1,skipCopyToClipboardButton:!1})).onComplete(_),g.next(e)},commitContent:function(){var e;(null===(e=g)||void 0===e?void 0:e.complete)&&g.complete()},setContentStatus:function(e){u.classList.remove(c),c="message-status-".concat(e),u.classList.add(c),d&&("loading"===e||"connecting"===e?!d.parentNode&&u.append(d):d.parentNode&&d.remove())},updatePersona:function(e){var t;null!==(t=a)&&void 0!==t&&t.remove(),a=void 0,e&&(a=ue(e))&&u.prepend(a)}},onDestroy:function(){var e,t;m(),null!==(e=y)&&void 0!==e&&e.disconnect(),null!==(t=b)&&void 0!==t&&t.disconnect(),y=void 0,b=void 0}}}),(function(e){var t,n=e.propName,r=e.newValue,i=e.dom;"loadingStatus"===n&&r&&(null===(t=i.actions)||void 0===t||t.setContentStatus(r))}))],pe);var ve=function(){return'<div class="'.concat(ye("welcome-message"),'"></div>')},me=function(){var e=oe(ve());if(e&&e instanceof HTMLElement)return e},ge=function(e){var n=oe(ve());if(n&&n instanceof HTMLElement){if(e.picture&&(e.picture instanceof HTMLElement||"string"==typeof e.picture)){var r=document.createElement("div");if(r.classList.add(ye("welcome-message-photo-container")),r.ariaRoleDescription="Persona Photo"+(e.name?" For Chat Participant ".concat(e.name):""),e.picture instanceof HTMLElement){var i=e.picture.cloneNode(!0);if(!(i instanceof HTMLElement))return void t("Photo dom element is not an HTMLElement");r.append(i)}else{var a=document.createElement("span");a.classList.add(ye("welcome-message-letter")),a.innerText=e.name&&e.name.length>0?e.name[0].toUpperCase():"",r.append(a);var o=document.createElement("div");o.classList.add(ye("welcome-message-rendered-photo")),o.style.backgroundImage='url("'.concat(encodeURI(e.picture),'")'),r.append(o)}if(n.append(r),e.tagline){var s=document.createElement("div");s.classList.add(ye("welcome-message-name-and-tagline"));var u=document.createElement("h3");u.classList.add(ye("welcome-message-name")),u.append(e.name);var f=document.createElement("span");f.classList.add(ye("welcome-message-tagline")),f.append(e.tagline),s.append(u),s.append(f),n.append(s)}return n}t("Welcome persona picture is not a string or a valid HTMLElement")}},ye=function(e){return"nluxc-conversation-".concat(e)},be=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,we=function(e,t,n,r){for(var i,a=r>1?void 0:r?ke(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&be(t,n,a),a},_e=function(e){f(n,e);var t=c(n);function n(e,r){var a,o,s,u;return h(this,n),(u=t.call(this,e,r)).conversationContent=[],u.messagesContainerRendered=!1,u.scrollingStickToConversationEnd=!0,u.addConversation(),u.scrollWhenGeneratingUserOption=null===(a=r.scrollWhenGenerating)||void 0===a||a,u.conversationContent=null!==(o=null===(s=r.messages)||void 0===s?void 0:s.map((function(e){return i({},e)})))&&void 0!==o?o:[],u}return p(n,[{key:"addMessage",value:function(e,t,n,r){if(!this.messagesList||!this.props)throw new Error("CompConversation: messagesList is not initialized! Make sure you calladdConversation() before calling addMessage()!");this.messagesContainerRendered||(this.executeDomAction("removeWelcomeMessage"),this.messagesContainerRendered=!0);var a=this.props.scrollWhenGenerating,o=this.props,s=o.botPersona,u=o.userPersona,f=o.streamingAnimationSpeed,c=function(e,t,n,r,a,o,s,u,f){var c={format:"text",loadingStatus:"stream"===a?"connecting":"promise"===a?"loading":"loaded",streamingAnimationSpeed:r,contentType:a,content:o,createdAt:null!==s&&void 0!==s?s:new Date,trackResize:n,trackDomChange:n},l=i(i({},c),{},"in"===t?{direction:t,botPersona:u}:{direction:t,userPersona:f});return T(pe).withContext(e).withProps(l).create()}(this.context,e,a,f,t,r,n,s,u);if(this.lastMessageId&&this.lastMessageResizedListener){var l=this.getMessageById(this.lastMessageId);l&&(l.removeResizeListener(this.lastMessageResizedListener),l.removeDomChangeListener(this.lastMessageResizedListener)),this.lastMessageId=void 0,this.lastMessageResizedListener=void 0}return this.messagesList.appendComponent(c,"message-container-in-list"),this.executeDomAction("scrollToBottom"),this.lastMessageId=c.id,this.lastMessageResizedListener=this.createMessageResizedListener(c.id),this.lastMessageResizedListener&&(c.onResize(this.lastMessageResizedListener),c.onDomChange(this.lastMessageResizedListener)),c.id}},{key:"getConversationContentForAdapter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max";if("number"==typeof e&&e<=0)v("Invalid value provided for 'historyPayloadSize' : \"".concat(e,"\"! Value must be a positive integer or 'all'."));else if("none"!==e)return"max"===e?r(this.conversationContent):this.conversationContent.slice(-e)}},{key:"getMessageById",value:function(e){var t;return null===(t=this.messagesList)||void 0===t?void 0:t.getComponentById(e)}},{key:"removeMessage",value:function(e){var t;null!==(t=this.messagesList)&&void 0!==t&&t.removeComponentById(e),this.messagesList&&0!==this.messagesList.size||(this.executeDomAction("resetWelcomeMessage"),this.messagesContainerRendered=!1)}},{key:"setBotPersona",value:function(e){var t;this.setProp("botPersona",e),null===(t=this.messagesList)||void 0===t||t.forEachComponent((function(t){"in"===t.direction&&t.setPersona(e)}))}},{key:"setStreamingAnimationSpeed",value:function(e){var t;this.setProp("streamingAnimationSpeed",e),null===(t=this.messagesList)||void 0===t||t.forEachComponent((function(t){t.setStreamingAnimationSpeed(e)}))}},{key:"setUserPersona",value:function(e){var t;this.setProp("userPersona",e),null===(t=this.messagesList)||void 0===t||t.forEachComponent((function(t){"out"===t.direction&&t.setPersona(e)}))}},{key:"toggleAutoScrollToStreamingMessage",value:function(e){this.scrollWhenGeneratingUserOption=e}},{key:"updateConversationContent",value:function(e){this.conversationContent.push(e)}},{key:"addConversation",value:function(){var e,t=this;this.messagesList=T(P).withContext(this.context).create(),this.addSubComponent(this.messagesList.id,this.messagesList,"messagesContainer");var n=null===(e=this.props)||void 0===e?void 0:e.messages;n&&n.filter((function(e){return"system"!==e.role})).forEach((function(e){t.addMessage("ai"===e.role?"in":"out","static",new Date,e.message)}))}},{key:"createMessageResizedListener",value:function(e){var t=this;if(this.getMessageById(e))return function(){!t.destroyed&&t.scrollWhenGeneratingUserOption&&t.scrollingStickToConversationEnd&&t.executeDomAction("scrollToBottom")}}},{key:"handleUserScrolled",value:function(e){var t=e.scrolledToBottom,n=e.scrollDirection;this.scrollingStickToConversationEnd?"up"===n&&(this.scrollingStickToConversationEnd=!1):"down"===n&&t&&(this.scrollingStickToConversationEnd=!0)}}]),n}(S);we([I("user-scrolled")],_e.prototype,"handleUserScrolled",1),_e=we([A("conversation",(function(e){var t=e.appendToRoot,n=e.compEvent,r=e.props,i={botPersona:r.botPersona,welcomeMessageContainer:void 0,shouldRenderWelcomeMessage:!r.messages||0===r.messages.length},a=oe('<div class="'.concat(ye("messages-container"),'"></div>'));if(!(a instanceof HTMLElement))throw new x({source:se("chat-room","render"),message:"Conversation component could not be rendered"});var o=new Set,u=function(e){var t,n;return function(r){var i=r.target;if(i instanceof HTMLElement){var a=i.scrollTop,o=i.clientHeight,s=i.scrollHeight,u=s-30,f=Math.ceil(a+o)>=u,c=void 0===t||void 0===n?void 0:a>t&&n===s?"down":a<t&&n===s?"up":void 0;n=s,t=a,e({scrolledToBottom:f,scrollDirection:c})}}}((function(e){n("user-scrolled")(e)})),f=ie(a).on("scroll",function(e,t){var n=!1;if("function"!=typeof e)throw new _({source:"x/throttle",message:"Callback must be a function"});return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n||(e.apply(void 0,i),n=!0,setTimeout((function(){n=!1}),t))}}(u,50)).get(),c=s(f,2)[1];if(t(a),i.shouldRenderWelcomeMessage)if(r.botPersona){var l=r.botPersona;i.welcomeMessageContainer=ge(l),i.welcomeMessageContainer&&a.append(i.welcomeMessageContainer)}else i.welcomeMessageContainer=me();return{elements:{messagesContainer:a},actions:{scrollToBottom:function(){a.scrollTo({top:5e4,behavior:"instant"})},removeWelcomeMessage:function(){i.welcomeMessageContainer&&(i.welcomeMessageContainer.remove(),i.welcomeMessageContainer=void 0)},resetWelcomeMessage:function(){i.welcomeMessageContainer&&(i.welcomeMessageContainer.remove(),i.welcomeMessageContainer=void 0),i.welcomeMessageContainer=i.botPersona?ge(i.botPersona):me(),i.welcomeMessageContainer&&a.append(i.welcomeMessageContainer)},updateBotPersona:function(e){i.botPersona=e,i.welcomeMessageContainer&&(i.welcomeMessageContainer.remove(),i.welcomeMessageContainer=void 0,i.welcomeMessageContainer=i.botPersona?ge(i.botPersona):me(),i.welcomeMessageContainer&&a.append(i.welcomeMessageContainer))},updateUserPersona:function(e){}},onDestroy:function(){o.clear(),c()}}}),(function(e){var t=e.propName,n=e.newValue,r=e.dom,i=(r.elements,r.actions);if("botPersona"!==t);else{if(!i)return;i.updateBotPersona(n)}}))],_e);var Ee=function(e){return"nluxc-prompt-box-".concat(e)},Ce=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,Se=function(e,t,n,r){for(var i,a=r>1?void 0:r?xe(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&Ce(t,n,a),a},Te=function(e){f(n,e);var t=c(n);function n(e,r){var i,a=r.props,o=r.eventListeners;return h(this,n),(i=t.call(this,e,a)).userEventListeners=o,i}return p(n,[{key:"enableTextInput",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setProp("enableTextInput",e),e&&this.focusTextInput()}},{key:"focusTextInput",value:function(){this.executeDomAction("focusTextInput")}},{key:"handleEnterKeyPressed",value:function(){this.handleSendButtonClick()}},{key:"handleEscapeKeyPressed",value:function(){this.handleTextChange("")}},{key:"handleSendButtonClick",value:function(){var e;if(this.getProp("textInputValue")){var t=null===(e=this.userEventListeners)||void 0===e?void 0:e.onSubmit;t&&t()}}},{key:"handleTextChange",value:function(e){var t,n=null===(t=this.userEventListeners)||void 0===t?void 0:t.onTextUpdated;n&&n(e),e!==this.getProp("textInputValue")&&this.setProp("textInputValue",e),""===e?this.setProp("sendButtonStatus","disabled"):this.setProp("sendButtonStatus","enabled")}},{key:"handleTextInputUpdated",value:function(e){var t=e.target;t instanceof HTMLTextAreaElement&&this.handleTextChange(t.value)}},{key:"resetSendButtonStatus",value:function(){""===this.getProp("textInputValue")?this.setProp("sendButtonStatus","disabled"):this.setProp("sendButtonStatus","enabled")}},{key:"resetTextInput",value:function(){this.handleTextChange("")}},{key:"setSendButtonStatus",value:function(e){this.setProp("sendButtonStatus",e)}}]),n}(S);Se([I("enter-key-pressed")],Te.prototype,"handleEnterKeyPressed",1),Se([I("escape-key-pressed")],Te.prototype,"handleEscapeKeyPressed",1),Se([I("send-message-clicked")],Te.prototype,"handleSendButtonClick",1),Se([I("text-updated")],Te.prototype,"handleTextInputUpdated",1),Te=Se([A("prompt-box",(function(e){var t=e.appendToRoot,n=e.props,r=e.compEvent,i=oe(function(e){var t,n="bt-primary-filled "+Ee("send-button")+" "+("loading"===e.sendButtonStatus?Ee("send-button-loading"):"")+" "+("disabled"===e.sendButtonStatus?Ee("send-button-disabled"):"");return'<textarea class="nluxc-textarea '.concat(Ee("text-input"),'" placeholder="').concat(e.placeholder||"",'" ').concat(e.enableTextInput?"":'disabled="disabled"'," ").concat(e.autoFocus?'autofocus="autofocus"':""," >").concat(null!==(t=e.textInputValue)&&void 0!==t?t:"",'</textarea><button class="').concat(n,'" ').concat("disabled"===e.sendButtonStatus?'disabled="disabled"':"",'><svg fill="currentColor" version="1.1" viewBox="0 0 495 495" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m164.71 456.69c0 2.966 1.647 5.686 4.266 7.072 2.617 1.385 5.799 1.207 8.245-0.468l55.09-37.616-67.6-32.22v63.232z"/><path d="m492.43 32.443c-1.513-1.395-3.466-2.125-5.44-2.125-1.19 0-2.377 0.264-3.5 0.816l-475.59 233.29c-4.861 2.389-7.937 7.353-7.904 12.783 0.033 5.423 3.161 10.353 8.057 12.689l125.34 59.724 250.62-205.99-219.56 220.79 156.14 74.4c1.918 0.919 4.012 1.376 6.084 1.376 1.768 0 3.519-0.322 5.186-0.977 3.637-1.438 6.527-4.318 7.97-7.956l154.6-390c1.224-3.069 0.426-6.578-2.005-8.814z"/></svg><span class="spinning-loader"></span></button>')}(n));if(!i)throw new x({source:se("prompt-box","render"),message:"Prompt box could not be rendered"});var a=document.createElement("div");a.append(i),a.className=Ee("container"),t(a);var o=ie(a,":scope > textarea").on("input",r("text-updated")).on("keydown",(function(e){return e.shiftKey||"Enter"!==e.key?"Escape"===e.key?(r("escape-key-pressed")(),void e.preventDefault()):void 0:(r("enter-key-pressed")(),void e.preventDefault())})).get(),u=s(o,2),f=u[0],c=u[1],l=ie(a,":scope > button").on("click",r("send-message-clicked")).get(),d=s(l,2),h=d[0],p=d[1];if(!(h instanceof HTMLButtonElement))throw new Error("Expected a button element");if(!(f instanceof HTMLTextAreaElement))throw new x({source:se("prompt-box","render"),message:"Expected a textarea element"});return{elements:{textInput:f,sendButton:h},actions:{focusTextInput:function(){return k((function(){f.focus(),f.setSelectionRange(f.value.length,f.value.length)}))},updateButtonStatus:function(e){h.disabled="disabled"===e||"loading"===e,h.classList.toggle(Ee("send-button-loading"),"loading"===e),h.classList.toggle(Ee("send-button-disabled"),"disabled"===e)}},onDestroy:function(){c(),p()}}}),(function(e){var t=e.propName,n=e.newValue,r=e.dom,i=r.elements,a=r.actions;switch(t){case"enableTextInput":(null===i||void 0===i?void 0:i.textInput)instanceof HTMLTextAreaElement&&(i.textInput.disabled=!n),(null===i||void 0===i?void 0:i.sendButton)instanceof HTMLButtonElement&&(i.sendButton.disabled=!n);break;case"sendButtonStatus":["enabled","disabled","loading"].includes(n)&&(null===a||void 0===a||a.updateButtonStatus(n));break;case"textInputValue":"string"==typeof n&&(null===i||void 0===i?void 0:i.textInput)instanceof HTMLTextAreaElement&&(i.textInput.value=n)}}))],Te);var Ae=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).replay;h(this,e),this.buffer=[],this.errorReceived=null,this.isCompleted=!1,this.isReplayObservable=!1,this.subscribers=new Set,this.isReplayObservable=null!==t&&void 0!==t&&t}return p(e,[{key:"complete",value:function(){this.subscribers.forEach((function(e){var t;return null===(t=e.complete)||void 0===t?void 0:t.call(e)})),this.isCompleted=!0}},{key:"error",value:function(e){this.subscribers.forEach((function(t){var n;return null===(n=t.error)||void 0===n?void 0:n.call(t,e)})),this.isReplayObservable&&(this.errorReceived=e)}},{key:"next",value:function(e){this.subscribers.forEach((function(t){return t.next(e)})),this.isReplayObservable&&this.buffer.push(e)}},{key:"pipe",value:function(){for(var e=this,t=0;t<arguments.length;t++)e=arguments[t](e);return e}},{key:"reset",value:function(){this.subscribers.clear(),this.buffer=[]}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),this.isReplayObservable&&this.sendBufferToObserver(e),{unsubscribe:function(){return t.unsubscribe(e)}}}},{key:"unsubscribe",value:function(e){this.subscribers.delete(e)}},{key:"sendBufferToObserver",value:function(e){var t,n;this.buffer.forEach((function(t){return e.next(t)})),this.errorReceived?null===(t=e.error)||void 0===t||t.call(e,this.errorReceived):this.isCompleted&&(null===(n=e.complete)||void 0===n||n.call(e))}}]),e}(),Ie="dom/getElement",Re=function(e){return"nluxc-chat-room-".concat(e)},Ne=function(e){return void 0===e?ne:null===e?0:e},Pe=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,De=function(e,t,n,r){for(var i,a=r>1?void 0:r?Oe(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&Pe(t,n,a),a},Me=function(e){f(r,e);var n=c(r);function r(e,t){var i,a=t.containerMaxHeight,o=t.containerHeight,s=t.containerMaxWidth,u=t.containerWidth,f=t.scrollWhenGenerating,c=t.streamingAnimationSpeed,l=t.visible,d=void 0===l||l,p=t.promptBox,v=t.botPersona,m=t.userPersona,g=t.initialConversationContent;h(this,r),(i=n.call(this,e,{visible:d,containerMaxHeight:a,containerHeight:o,containerMaxWidth:s,containerWidth:u,scrollWhenGenerating:f,streamingAnimationSpeed:c,botPersona:v,userPersona:m})).promptBoxText="";var y=null!==f&&void 0!==f?f:Me.defaultScrollWhenGeneratingUserOption;if(i.addConversation(y,Ne(c),v,m,g),i.addPromptBox(null===p||void 0===p?void 0:p.placeholder,null===p||void 0===p?void 0:p.autoFocus),!i.conversation||!i.promptBoxInstance)throw new Error("Conversation is not initialized");return i}return p(r,[{key:"getConversationContentForAdapter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max";return this.conversation.getConversationContentForAdapter(e)}},{key:"hide",value:function(){this.setProp("visible",!1)}},{key:"messagesContainerClicked",value:function(){var e;null===(e=this.promptBoxInstance)||void 0===e||e.focusTextInput()}},{key:"onChatRoomReady",value:function(e){this.context.emit("ready",{aiChatProps:this.context.aiChatProps})}},{key:"setProps",value:function(e){var t,n,r,i,a,o,s,u,f,c,l;e.hasOwnProperty("containerMaxHeight")&&this.setProp("containerMaxHeight",null!==(t=e.containerMaxHeight)&&void 0!==t?t:void 0),e.hasOwnProperty("containerHeight")&&this.setProp("containerHeight",null!==(n=e.containerHeight)&&void 0!==n?n:void 0),e.hasOwnProperty("containerMaxWidth")&&this.setProp("containerMaxWidth",null!==(r=e.containerMaxWidth)&&void 0!==r?r:void 0),e.hasOwnProperty("containerWidth")&&this.setProp("containerWidth",null!==(i=e.containerWidth)&&void 0!==i?i:void 0),e.hasOwnProperty("scrollWhenGenerating")&&null!==(a=this.conversation)&&void 0!==a&&a.toggleAutoScrollToStreamingMessage(null===(o=e.scrollWhenGenerating)||void 0===o||o),e.hasOwnProperty("streamingAnimationSpeed")&&null!==(s=this.conversation)&&void 0!==s&&s.setStreamingAnimationSpeed(Ne(e.streamingAnimationSpeed)),e.hasOwnProperty("botPersona")&&null!==(u=this.conversation)&&void 0!==u&&u.setBotPersona(null!==(f=e.botPersona)&&void 0!==f?f:void 0),e.hasOwnProperty("userPersona")&&(null===(c=this.conversation)||void 0===c||c.setUserPersona(null!==(l=e.userPersona)&&void 0!==l?l:void 0))}},{key:"show",value:function(){this.setProp("visible",!0)}},{key:"addConversation",value:function(e,t,n,r,i){this.conversation=T(_e).withContext(this.context).withProps({scrollWhenGenerating:e,streamingAnimationSpeed:t,botPersona:n,userPersona:r,messages:i}).create(),this.addSubComponent(this.conversation.id,this.conversation,"conversationContainer")}},{key:"addPromptBox",value:function(e,t){var n=this;this.promptBoxInstance=T(Te).withContext(this.context).withProps({props:{enableTextInput:!0,sendButtonStatus:"disabled",textInputValue:"",placeholder:e,autoFocus:t},eventListeners:{onTextUpdated:function(e){return n.handlePromptBoxTextChange(e)},onSubmit:function(){return n.handlePromptBoxSubmit()}}}).create(),this.addSubComponent(this.promptBoxInstance.id,this.promptBoxInstance,"promptBoxContainer")}},{key:"handlePromptBoxSubmit",value:function(){var e=this,n=this.context.adapter,r=function(e){return"config"in e&&"dataTransferMode"in e&&"decode"in e&&"encode"in e&&"id"in e&&"info"in e&&"status"in e&&("fetchText"in e||"streamText"in e)}(n)?n:void 0;!function(e){var n=e.context,r=e.promptBoxInstance,i=e.conversation,a=e.messageToSend,o=e.resetPromptBox,s=e.dataTransferMode;return function(){var e=i.addMessage("out","static",new Date,a);try{var u,f;r.enableTextInput(!1),r.setSendButtonStatus("loading");var c,l,d,h=n.adapter,p=[];if("function"==typeof h.fetchText&&p.push("fetch"),"function"==typeof h.streamText&&p.push("stream"),0===p.length)throw new Error("Adapter does not support any data transfer mode! The provided adapter must implement either `fetchText()` or `streamText()` methods.");if(s&&!p.includes(s))throw new Error("Adapter does not support the requested data transfer mode: ".concat(s,". The supported data transfer modes for the provided adapter are: ").concat(p.join(", ")));var v=1===p.length?p[0]:"stream",m=null!==s&&void 0!==s?s:v,g={aiChatProps:n.aiChatProps,conversationHistory:i.getConversationContentForAdapter(null===(u=n.aiChatProps)||void 0===u||null===(f=u.conversationOptions)||void 0===f?void 0:f.historyPayloadSize)};if("stream"===m){if(!n.adapter.streamText)throw new Error("Streaming mode requested but adapter does not implement streamText");c=new Ae,n.adapter.streamText(a,c,g),d="stream"}else{if(!n.adapter.fetchText)throw new Error("Fetch mode requested but adapter does not implement fetchText");c=void 0,l=n.adapter.fetchText(a,g),d="promise"}var y=i.addMessage("in",d,new Date),b=i.getMessageById(y);if(!b)throw new Error("Message with id ".concat(y," not found"));if(n.emit("messageSent",a),"promise"===d&&l)l.then((function(e){b.setContent(e),o(!0),i.updateConversationContent({role:"user",message:a}),i.updateConversationContent({role:"ai",message:e}),n.emit("messageReceived",e)})).catch((function(t){var r;b.setErrored(),i.removeMessage(e),i.removeMessage(b.id),o(!1);var a=null!==(r=null===t||void 0===t?void 0:t.exceptionId)&&void 0!==r?r:"NX-AD-001";n.exception(a),n.emit("error",{errorId:a,message:t.message||"An error occurred while sending message via Promise."})}));else{if("stream"!==d||!c)throw new Error("Message sent with unknown type or data source - Message type: ".concat(d));c.subscribe({next:function(e){"string"==typeof e&&b.appendContent(e)},error:function(t){var r;b.setErrored(),i.removeMessage(e),i.removeMessage(b.id),o(!1);var a=null!==(r=null===t||void 0===t?void 0:t.exceptionId)&&void 0!==r?r:"NX-AD-001";n.exception(a),n.emit("error",{errorId:a,message:t.message||"An error occurred while sending message via Observable."})},complete:function(){b.commitContent(),o(!0),b.content&&(i.updateConversationContent({role:"user",message:a}),i.updateConversationContent({role:"ai",message:b.content}),n.emit("messageReceived",b.content))}})}}catch(n){t(n),o(!1)}}}({dataTransferMode:r?r.dataTransferMode:void 0,context:this.context,promptBoxInstance:this.promptBoxInstance,conversation:this.conversation,messageToSend:this.promptBoxText,resetPromptBox:function(t){return e.resetPromptBox(t)}})()}},{key:"handlePromptBoxTextChange",value:function(e){this.promptBoxText=e}},{key:"resetPromptBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.promptBoxInstance&&(this.promptBoxInstance.enableTextInput(!0),e&&this.promptBoxInstance.resetTextInput(),this.promptBoxInstance.resetSendButtonStatus(),this.promptBoxInstance.focusTextInput())}}]),r}(S);Me.defaultScrollWhenGeneratingUserOption=!0,De([I("messages-container-clicked")],Me.prototype,"messagesContainerClicked",1),De([I("chat-room-ready")],Me.prototype,"onChatRoomReady",1),Me=De([A("chat-room",(function(e){var t,n=e.appendToRoot,r=e.compEvent,i=e.props,a=oe('<div class="'.concat(Re("conversation-container"),'"></div><div class="').concat(Re("prompt-box-container"),'"></div>'));if(!a)throw new x({source:se("chat-room","render"),message:"Chat room could not be rendered"});var o=null===(t=i.visible)||void 0===t||t,u=document.createElement("div");u.className=Re("container"),u.append(a),u.style.display=o?"":"none","number"==typeof i.containerMaxHeight?u.style.maxHeight="".concat(i.containerMaxHeight,"px"):"string"==typeof i.containerMaxHeight&&(u.style.maxHeight=i.containerMaxHeight),"number"==typeof i.containerHeight?u.style.height="".concat(i.containerHeight,"px"):"string"==typeof i.containerHeight&&(u.style.height=i.containerHeight),"number"==typeof i.containerMaxWidth?u.style.maxWidth="".concat(i.containerMaxWidth,"px"):"string"==typeof i.containerMaxWidth&&(u.style.maxWidth=i.containerMaxWidth),"number"==typeof i.containerWidth?u.style.width="".concat(i.containerWidth,"px"):"string"==typeof i.containerWidth&&(u.style.width=i.containerWidth);var f=ie(u,":scope > .".concat(Re("conversation-container"))).on("click",r("messages-container-clicked")).get(),c=s(f,2),l=c[0],d=c[1],h=function(e,t){if(!t)throw new E({source:Ie,message:"A query string must be provided to getElement()"});var n=e.querySelector(t);if(!n)throw new x({source:Ie,message:'Could not find element with query "'.concat(t,'". Make sure the query provided matches an element that exists in the root element.')});if(!(n instanceof HTMLElement))throw new x({source:Ie,message:'Element with query "'.concat(t,'" is not a valid HTMLElement.')});return n}(u,":scope > .".concat(Re("prompt-box-container")));return n(u),r("chat-room-ready")(),{elements:{chatRoomContainer:u,promptBoxContainer:h,conversationContainer:l},onDestroy:function(){d()}}}),(function(e){var t=e.propName,n=e.newValue,r=e.dom,i=r.elements;r.actions,"containerMaxHeight"===t&&null!==i&&void 0!==i&&i.chatRoomContainer?i.chatRoomContainer.style.maxHeight="number"==typeof n?"".concat(n,"px"):"string"==typeof n?n:"":"containerHeight"===t&&null!==i&&void 0!==i&&i.chatRoomContainer?i.chatRoomContainer.style.height="number"==typeof n?"".concat(n,"px"):"string"==typeof n?n:"":"containerMaxWidth"===t&&null!==i&&void 0!==i&&i.chatRoomContainer?i.chatRoomContainer.style.maxWidth="number"==typeof n?"".concat(n,"px"):"string"==typeof n?n:"":"containerWidth"===t&&(null===i||void 0===i?void 0:i.chatRoomContainer)&&(i.chatRoomContainer.style.width="number"==typeof n?"".concat(n,"px"):"string"==typeof n?n:"")}))],Me);var Le=function(e){return"nluxc-exceptions-box-".concat(e)},je=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,Fe=function(e){f(n,e);var t=c(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).alertShowing=!1,i.alertsQueue=[],i}return p(n,[{key:"destroy",value:function(){a(o(n.prototype),"destroy",this).call(this),this.alertExpiryTimer&&clearTimeout(this.alertExpiryTimer),this.alertsQueue=[],this.alertShowing=!1,this.alertExpiryTimer=null}},{key:"removeAllAlerts",value:function(){this.alertShowing&&(this.setProp("visible",!1),this.alertShowing=!1),this.alertExpiryTimer&&(clearTimeout(this.alertExpiryTimer),this.alertExpiryTimer=null),this.alertsQueue=[]}},{key:"showAlert",value:function(e,t){var n=this;this.alertShowing?this.alertsQueue.push({type:e,message:t}):(this.alertShowing=!0,this.setProp("type",e),this.setProp("message",t),this.setProp("visible",!0),this.alertExpiryTimer=setTimeout((function(){n.setProp("visible",!1),n.alertShowing=!1,setTimeout((function(){n.checkAlertQueue()}),200)}),3e3))}},{key:"checkAlertQueue",value:function(){if(0!==this.alertsQueue.length){var e=this.alertsQueue.shift();e&&this.showAlert(e.type,e.message)}}}]),n}(S);Fe=function(e,t,n,r){for(var i,a=r>1?void 0:r?Ue(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&je(t,n,a),a}([A("exceptions-box",(function(e){var t=e.props,n=(e.compEvent,e.appendToRoot),r=oe(function(e){var t;return'<div class="'.concat(Le("container"),'"><div class="').concat(Le("exception-container"),'" style="display: none"><div class="').concat(Le("message"),'">').concat(null!==(t=e.message)&&void 0!==t?t:"","</div></div></div>")}(t));if(!(r instanceof HTMLElement))throw new x({source:se("exceptions-box","render"),message:"Exception alert could not be rendered"});var i=":scope > ."+Le("exception-container"),a=r.querySelector(i);if(!(a instanceof HTMLElement))throw new x({source:se("exceptions-box","render"),message:"Exception container element could not be found with selector "+i});var o=":scope > ."+Le("exception-container")+" > ."+Le("message"),s=r.querySelector(o);if(!(s instanceof HTMLElement))throw new x({source:se("exceptions-box","render"),message:"Exception message element could not be found with selector "+o});return"number"==typeof t.containerMaxWidth?r.style.maxWidth="".concat(t.containerMaxWidth,"px"):"string"==typeof t.containerMaxWidth&&(r.style.maxWidth=t.containerMaxWidth),n(r),{elements:{},actions:{hide:function(){a.style.display="none",s.innerHTML=""},show:function(){a.style.display=""},setMessage:function(e){s.append(document.createTextNode(e))},setMessageType:function(e){r.classList.remove("error-exception","warning-exception"),r.classList.add("".concat(e,"-exception"))},updateContainerMaxWidth:function(e){r.style.maxWidth="number"==typeof e?"".concat(e,"px"):"string"==typeof e?e:""}},onDestroy:function(){r.remove()}}}),(function(e){var t=e.propName,n=e.newValue,r=e.dom,i=(r.elements,r.actions);"visible"===t&&"boolean"==typeof n&&i?n?i.show():i.hide():"message"===t&&"string"==typeof n&&i?i.setMessage(n):"type"===t&&["error","warning"].includes(n)&&i?i.setMessageType(n):"containerMaxWidth"===t&&i&&i.updateContainerMaxWidth(n)}))],Fe);var Be=function(){var e=b(),t=btoa("componentsRegistered");e&&!0===e[t]||(Object.entries({list:P,"chat-room":Me,"exceptions-box":Fe,conversation:_e,"prompt-box":Te,message:pe}).forEach((function(e){var t=s(e,2),n=(t[0],t[1]);g.register(n)})),"object"==typeof e&&(e[t]=!0))},ze={"NX-NT-001":{type:"error",message:"Connection error. Please try again."},"NX-NT-002":{type:"error",message:"Invalid API key. Please update it and try again."},"NX-NT-003":{type:"error",message:"Sorry, cannot call API. HTTP server side error."},"NX-NT-004":{type:"error",message:"Sorry, cannot call API. HTTP client side error."},"NX-AD-001":{type:"error",message:"Failed to load content. Please try again."}},Ve=p((function e(){var t=this;h(this,e),this.emit=function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];t.eventListeners.has(e)&&(null===(n=t.eventListeners.get(e))||void 0===n||n.forEach((function(e){"function"==typeof e&&e.apply(void 0,i)})))},this.on=function(e,n){var r;t.eventListeners.has(e)||t.eventListeners.set(e,new Set),null===(r=t.eventListeners.get(e))||void 0===r||r.add(n)},this.removeAllEventListeners=function(e){return t.eventListeners.delete(e)},this.removeAllEventListenersForAllEvent=function(){return t.eventListeners.clear()},this.removeEventListener=function(e,n){var r,i;t.eventListeners.has(e)&&(null!==(r=t.eventListeners.get(e))&&void 0!==r&&r.delete(n),(null===(i=t.eventListeners.get(e))||void 0===i?void 0:i.size)||t.eventListeners.delete(e))},this.updateEventListeners=function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.eventListeners.set(i,new Set([e[i]]))}},this.eventListeners=new Map})),qe=function(){function e(t,n,r){var i,a,o,s,u,f,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(h(this,e),this.chatRoom=null,this.exceptionsBox=null,this.isDestroyed=!1,this.isMounted=!1,this.rootClassName="nluxc-root",this.rootCompId=null,this.rootElement=null,this.theClassName=null,this.theConversationOptions={},this.theInitialConversationContent=null,this.theLayoutOptions={},this.thePersonasOptions={},this.thePromptBoxOptions={},!n)throw new x({source:this.constructor.name,message:"Root component ID is not a valid component name"});this.__context=t,this.rootElement=r,this.rootElementInitialClassName=r.className,this.rootCompId=n,this.chatRoom=null,this.theClassName=null!==(i=null===l||void 0===l?void 0:l.className)&&void 0!==i?i:null,this.theThemeId=null!==(a=null===l||void 0===l?void 0:l.themeId)&&void 0!==a?a:e.defaultThemeId,this.theLayoutOptions=null!==(o=null===l||void 0===l?void 0:l.layoutOptions)&&void 0!==o?o:{},this.theConversationOptions=null!==(s=null===l||void 0===l?void 0:l.conversationOptions)&&void 0!==s?s:{},this.theInitialConversationContent=null!==(u=null===l||void 0===l?void 0:l.initialConversation)&&void 0!==u?u:null,this.thePromptBoxOptions=null!==(f=null===l||void 0===l?void 0:l.promptBoxOptions)&&void 0!==f?f:{},this.thePersonasOptions=null!==(c=null===l||void 0===l?void 0:l.personaOptions)&&void 0!==c?c:{}}return p(e,[{key:"context",get:function(){return this.__context}},{key:"mounted",get:function(){return this.isMounted}},{key:"themeId",get:function(){return this.theThemeId}},{key:"destroy",value:function(){this.mounted&&this.unmount(),this.chatRoom&&this.chatRoom.destroy(),this.rootElement=null,this.rootElementInitialClassName=null,this.rootCompId=null,this.chatRoom=null,this.isMounted=!1,this.isDestroyed=!0,this.theLayoutOptions={},this.theConversationOptions={},this.thePromptBoxOptions={}}},{key:"hide",value:function(){var e,t;if(!this.mounted)throw new x({source:this.constructor.name,message:"Renderer is not mounted and cannot be hidden"});null!==(e=this.chatRoom)&&void 0!==e&&e.hide(),null===(t=this.exceptionsBox)||void 0===t||t.removeAllAlerts()}},{key:"mount",value:function(){if(this.isDestroyed)throw new x({source:this.constructor.name,message:"Renderer is destroyed and cannot be mounted"});if(!this.rootCompId||!this.rootElement)throw new x({source:this.constructor.name,message:"Root component or root class is not set"});var e=null,n=null;try{var r,i,a,o,s,u,f,c,l,d,h,p,v,m,y,b,k,w;if("chat-room"!==this.rootCompId)throw new x({source:this.constructor.name,message:"Root component is not a chat room"});if(e=T(Me).withContext(this.context).withProps({visible:!0,botPersona:null!==(r=null===(i=this.thePersonasOptions)||void 0===i?void 0:i.bot)&&void 0!==r?r:void 0,userPersona:null!==(a=null===(o=this.thePersonasOptions)||void 0===o?void 0:o.user)&&void 0!==a?a:void 0,initialConversationContent:null!==(s=this.theInitialConversationContent)&&void 0!==s?s:void 0,scrollWhenGenerating:null===(u=this.theConversationOptions)||void 0===u?void 0:u.scrollWhenGenerating,streamingAnimationSpeed:null===(f=this.theConversationOptions)||void 0===f?void 0:f.streamingAnimationSpeed,containerMaxHeight:(null===(c=this.theLayoutOptions)||void 0===c?void 0:c.maxHeight)||void 0,containerHeight:(null===(l=this.theLayoutOptions)||void 0===l?void 0:l.height)||void 0,containerMaxWidth:(null===(d=this.theLayoutOptions)||void 0===d?void 0:d.maxWidth)||void 0,containerWidth:(null===(h=this.theLayoutOptions)||void 0===h?void 0:h.width)||void 0,promptBox:{placeholder:null!==(p=null===(v=this.thePromptBoxOptions)||void 0===v?void 0:v.placeholder)&&void 0!==p?p:void 0,autoFocus:null!==(m=null===(y=this.thePromptBoxOptions)||void 0===y?void 0:y.autoFocus)&&void 0!==m?m:void 0}}).create(),(null===(b=g.retrieve("exceptions-box"))||void 0===b?void 0:b.model)?n=T(Fe).withContext(this.context).withProps({containerMaxWidth:(null===(k=this.theLayoutOptions)||void 0===k?void 0:k.maxWidth)||void 0,message:void 0,visible:!1,type:"error"}).create():t("Exception alert component is not registered! No exceptions will be shown."),!e)throw new x({source:this.constructor.name,message:"Root component failed to instantiate"});if(this.setRootElementClassNames(),n&&n.render(this.rootElement),e.render(this.rootElement),e&&!e.rendered)throw this.rootElement.className=this.rootElementInitialClassName||"",new x({source:this.constructor.name,message:"Root component did not render"});this.chatRoom=e,this.exceptionsBox=null!==(w=n)&&void 0!==w?w:null,this.isMounted=!0}catch(E){var _;this.rootElement.className=this.rootElementInitialClassName||"",this.renderEx("error",null!==(_=null===E||void 0===E?void 0:E.toString())&&void 0!==_?_:"Unknown error")}}},{key:"renderEx",value:function(e,n){var r;if(!this.mounted)throw t("Renderer is not mounted and cannot render exceptions"),new x({source:this.constructor.name,message:n});null===(r=this.exceptionsBox)||void 0===r||r.showAlert(e,n)}},{key:"show",value:function(){var e;if(!this.mounted)throw new x({source:this.constructor.name,message:"Renderer is not mounted and cannot be shown"});null===(e=this.chatRoom)||void 0===e||e.show()}},{key:"unmount",value:function(){if(this.isDestroyed)t("Renderer is destroyed and cannot be unmounted");else{var e,n;if(!this.chatRoom||!this.rootElement)throw new x({source:this.constructor.name,message:"Root component or root element is not set"});this.context.emit("preDestroy",{aiChatProps:this.context.aiChatProps,conversationHistory:null!==(e=this.chatRoom.getConversationContentForAdapter(null===(n=this.context.aiChatProps.conversationOptions)||void 0===n?void 0:n.historyPayloadSize))&&void 0!==e?e:[]}),this.exceptionsBox&&this.exceptionsBox.destroy(),this.chatRoom.destroy(),this.rootElement&&(this.rootElement.innerHTML="",this.rootElement.className=this.rootElementInitialClassName||""),this.chatRoom=null,this.exceptionsBox=null,this.isMounted=!1}}},{key:"updateProps",value:function(e){var t,n,r,a,o,s;if(e.hasOwnProperty("className")){var u,f,c,l=e.className||void 0;l?(this.theClassName&&null!==(u=this.rootElement)&&void 0!==u&&u.classList.remove(this.theClassName),this.theClassName=l,null===(f=this.rootElement)||void 0===f||f.classList.add(l)):this.theClassName&&(null!==(c=this.rootElement)&&void 0!==c&&c.classList.remove(this.theClassName),this.theClassName=null)}if(e.hasOwnProperty("adapter")&&e.adapter&&this.context.update({adapter:e.adapter}),e.hasOwnProperty("layoutOptions")){var d,h,p,v,m,g={};null!==(d=e.layoutOptions)&&void 0!==d&&d.hasOwnProperty("maxHeight")&&(g.containerMaxHeight=e.layoutOptions.maxHeight),null!==(h=e.layoutOptions)&&void 0!==h&&h.hasOwnProperty("height")&&(g.containerHeight=e.layoutOptions.height),null!==(p=e.layoutOptions)&&void 0!==p&&p.hasOwnProperty("maxWidth")&&(g.containerMaxWidth=e.layoutOptions.maxWidth),null!==(v=e.layoutOptions)&&void 0!==v&&v.hasOwnProperty("width")&&(g.containerWidth=e.layoutOptions.width),this.theLayoutOptions=i(i({},this.theLayoutOptions),e.layoutOptions),null===(m=this.chatRoom)||void 0===m||m.setProps(g)}if(e.hasOwnProperty("conversationOptions")&&(this.theConversationOptions=null!==(t=e.conversationOptions)&&void 0!==t?t:{},null!==(n=this.chatRoom)&&void 0!==n&&n.setProps({scrollWhenGenerating:null!==(r=null===(a=e.conversationOptions)||void 0===a?void 0:a.scrollWhenGenerating)&&void 0!==r?r:void 0,streamingAnimationSpeed:null!==(o=null===(s=e.conversationOptions)||void 0===s?void 0:s.streamingAnimationSpeed)&&void 0!==o?o:void 0})),e.hasOwnProperty("promptBoxOptions"),e.hasOwnProperty("syntaxHighlighter"),e.hasOwnProperty("personaOptions")){var y,b,k,w,_,E,C,x,S,T,A={};null!==(y=e.personaOptions)&&void 0!==y&&y.hasOwnProperty("bot")&&e.personaOptions.bot!==(null===(b=this.thePersonasOptions)||void 0===b?void 0:b.bot)&&(A.botPersona=null!==(k=null===(w=e.personaOptions)||void 0===w?void 0:w.bot)&&void 0!==k?k:void 0),null!==(_=e.personaOptions)&&void 0!==_&&_.hasOwnProperty("user")&&(null===(E=e.personaOptions)||void 0===E?void 0:E.user)!==(null===(C=this.thePersonasOptions)||void 0===C?void 0:C.user)&&(A.userPersona=null!==(x=null===(S=e.personaOptions)||void 0===S?void 0:S.user)&&void 0!==x?x:void 0),this.thePersonasOptions=i(i({},this.thePersonasOptions),e.personaOptions),null===(T=this.chatRoom)||void 0===T||T.setProps(A)}}},{key:"setRootElementClassNames",value:function(){if(this.rootElement){this.rootElement.classList.add(this.rootClassName),this.theClassName&&this.rootElement.classList.add(this.theClassName);var e="nluxc-theme-".concat(this.themeId);this.rootElement.classList.add(e)}}}]),e}();qe.defaultThemeId="nova";var He=qe,We=function(){function e(n,r){var i=this;h(this,e),this.eventManager=new Ve,this.nluxInstanceId=w(),this.renderException=function(e){if(!i.mounted||!i.renderer)return null;var n=ze[e];if(!n)return t("Exception with id '".concat(e,"' is not defined")),null;i.renderer.renderEx(n.type,n.message)},this.renderer=null,this.rootCompId="chat-room",this.rootElement=n,this.props=r}return p(e,[{key:"mounted",get:function(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.mounted}},{key:"hide",value:function(){var e;this.mounted&&(null===(e=this.renderer)||void 0===e||e.hide())}},{key:"mount",value:function(){var e=this;if(!this.mounted){var t=function(e,t,n){var r=i(i({},e),{},{update:function(e){Object.assign(r,e)},emit:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.apply(void 0,[e].concat(r))},get aiChatProps(){return t()}});return r}({instanceId:this.nluxInstanceId,exception:this.renderException,adapter:this.props.adapter,syntaxHighlighter:this.props.syntaxHighlighter},(function(){return i(i({},e.props),{},{conversationOptions:e.props.conversationOptions&&Object.keys(e.props.conversationOptions).length>0?e.props.conversationOptions:void 0,promptBoxOptions:e.props.promptBoxOptions&&Object.keys(e.props.promptBoxOptions).length>0?e.props.promptBoxOptions:void 0,layoutOptions:e.props.layoutOptions&&Object.keys(e.props.layoutOptions).length>0?e.props.layoutOptions:void 0,personaOptions:e.props.personaOptions&&Object.keys(e.props.personaOptions).length>0?e.props.personaOptions:void 0})}),this.eventManager.emit);this.renderer=new He(t,this.rootCompId,this.rootElement,this.props),this.renderer.mount()}}},{key:"on",value:function(e,t){this.eventManager.on(e,t)}},{key:"removeAllEventListeners",value:function(e){this.eventManager.removeAllEventListeners(e)}},{key:"removeAllEventListenersForAllEvent",value:function(){this.eventManager.removeAllEventListenersForAllEvent()}},{key:"removeEventListener",value:function(e,t){this.eventManager.removeEventListener(e,t)}},{key:"show",value:function(){var e;this.mounted&&(null===(e=this.renderer)||void 0===e||e.show())}},{key:"unmount",value:function(){var e;this.mounted&&(null!==(e=this.renderer)&&void 0!==e&&e.unmount(),this.renderer=null)}},{key:"updateProps",value:function(e){var t;null!==(t=this.renderer)&&void 0!==t&&t.updateProps(e),this.props=i(i({},this.props),e),e.events&&(this.props.events=e.events,this.eventManager.updateEventListeners(e.events))}}]),e}(),Ge=function(){function e(){h(this,e),this.theAdapter=null,this.theAdapterBuilder=null,this.theAdapterType=null,this.theClassName=null,this.theConversationOptions=null,this.theInitialConversation=null,this.theLayoutOptions=null,this.thePersonasOptions=null,this.thePromptBoxOptions=null,this.theSyntaxHighlighter=null,this.theThemeId=null,this.controller=null,this.unregisteredEventListeners=new Map}return p(e,[{key:"mounted",get:function(){var e,t;return null!==(e=null===(t=this.controller)||void 0===t?void 0:t.mounted)&&void 0!==e&&e}},{key:"hide",value:function(){if(!this.controller)throw new x({source:this.constructor.name,message:"Unable to hide. NLUX is not mounted."});this.controller.hide()}},{key:"mount",value:function(e){var t,n,r,i,a,o,f,c;if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to create NLUX instance. NLUX is already mounted. Make sure to call `unmount()` before mounting again."});var l=this.theAdapter&&"instance"===this.theAdapterType?this.theAdapter:"builder"===this.theAdapterType&&this.theAdapterBuilder?this.theAdapterBuilder:null;if(!l)throw new C({source:this.constructor.name,message:"Unable to create NLUX instance. Adapter is not properly set. You should call `withAdapter(adapter)` method before mounting NLUX."});Be(),e.innerHTML="";var d,h=new We(e,{themeId:null!==(t=this.theThemeId)&&void 0!==t?t:void 0,adapter:l,className:null!==(n=this.theClassName)&&void 0!==n?n:void 0,initialConversation:null!==(r=this.theInitialConversation)&&void 0!==r?r:void 0,syntaxHighlighter:null!==(i=this.theSyntaxHighlighter)&&void 0!==i?i:void 0,layoutOptions:null!==(a=this.theLayoutOptions)&&void 0!==a?a:{},conversationOptions:null!==(o=this.theConversationOptions)&&void 0!==o?o:{},promptBoxOptions:null!==(f=this.thePromptBoxOptions)&&void 0!==f?f:{},personaOptions:null!==(c=this.thePersonasOptions)&&void 0!==c?c:{}}),p=u(this.unregisteredEventListeners.entries());try{for(p.s();!(d=p.n()).done;){var v,m=s(d.value,2),g=m[0],y=m[1],b=u(y);try{for(b.s();!(v=b.n()).done;){var k=v.value;h.on(g,k)}}catch(w){b.e(w)}finally{b.f()}}}catch(w){p.e(w)}finally{p.f()}if(h.mount(),!h.mounted)throw new x({source:this.constructor.name,message:"AiChat root component did not render."});this.controller=h,this.unregisteredEventListeners.clear()}},{key:"on",value:function(e,t){var n;return this.controller?(this.controller.on(e,t),this):(this.unregisteredEventListeners.has(e)||this.unregisteredEventListeners.set(e,new Set),null!==(n=this.unregisteredEventListeners.get(e))&&void 0!==n&&n.add(t),this)}},{key:"removeAllEventListeners",value:function(e){var t,n,r;if(!e)return null!==(t=this.controller)&&void 0!==t&&t.removeAllEventListenersForAllEvent(),void this.unregisteredEventListeners.clear();null!==(n=this.controller)&&void 0!==n&&n.removeAllEventListeners(e),null===(r=this.unregisteredEventListeners.get(e))||void 0===r||r.clear()}},{key:"removeEventListener",value:function(e,t){var n,r;null!==(n=this.controller)&&void 0!==n&&n.removeEventListener(e,t),null===(r=this.unregisteredEventListeners.get(e))||void 0===r||r.delete(t)}},{key:"show",value:function(){if(!this.controller)throw new x({source:this.constructor.name,message:"Unable to show. NLUX is not mounted."});this.controller.show()}},{key:"unmount",value:function(){if(this.controller){if(this.controller.unmount(),this.controller.mounted)throw new x({source:this.constructor.name,message:"Unable to unmount. Root component did not unmount."});this.controller=null,this.unregisteredEventListeners.clear()}}},{key:"updateProps",value:function(e){if(!this.controller)throw new x({source:this.constructor.name,message:"Unable to update props. NLUX is not mounted."});this.controller.updateProps(e)}},{key:"withAdapter",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set adapter. NLUX is already mounted."});if(this.theAdapterBuilder||this.theAdapter)throw new E({source:this.constructor.name,message:"Unable to change config. A adapter or adapter builder was already set."});if("object"!=typeof e||null===e)throw new E({source:this.constructor.name,message:"Unable to set adapter. Invalid adapter or adapter-builder type."});var t=e;if("function"==typeof t.create)return this.theAdapterType="builder",this.theAdapterBuilder=t.create(),this;if("function"==typeof t.fetchText||"function"==typeof t.streamText)return this.theAdapterType="instance",this.theAdapter=t,this;throw new E({source:this.constructor.name,message:"Unable to set adapter. Invalid adapter or adapter-builder implementation! When an `AdapterBuilder` is provided, it must implement either `create()` method that returns an Adapter instance. When an Adapter instance is provided, must implement `fetchText()` and/or `streamText()` methods. None of the above were found."})}},{key:"withClassName",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set class name. NLUX is already mounted."});if(this.theClassName)throw new E({source:this.constructor.name,message:"Unable to change config. A class name was already set."});return this.theClassName=e,this}},{key:"withConversationOptions",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set conversation options. NLUX is already mounted."});if(this.theConversationOptions)throw new E({source:this.constructor.name,message:"Unable to change config. Conversation options were already set."});return this.theConversationOptions=e,this}},{key:"withInitialConversation",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set conversation history. NLUX is already mounted."});if(this.theInitialConversation)throw new E({source:this.constructor.name,message:"Unable to change config. Conversation history was already set."});return this.theInitialConversation=e,this}},{key:"withLayoutOptions",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set layout options. NLUX is already mounted."});if(this.theLayoutOptions)throw new E({source:this.constructor.name,message:"Unable to change config. Layout options were already set."});return this.theLayoutOptions=e,this}},{key:"withPersonaOptions",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set personaOptions. NLUX is already mounted."});if(this.thePersonasOptions)throw new E({source:this.constructor.name,message:"Unable to change config. Personas were already set."});return this.thePersonasOptions=e,this}},{key:"withPromptBoxOptions",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set prompt box options. NLUX is already mounted."});if(this.thePromptBoxOptions)throw new E({source:this.constructor.name,message:"Unable to change config. Prompt box options were already set."});return this.thePromptBoxOptions=e,this}},{key:"withSyntaxHighlighter",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set code highlighter. NLUX is already mounted."});if(this.theSyntaxHighlighter)throw new E({source:this.constructor.name,message:"Unable to change config. Code highlighter was already set."});return this.theSyntaxHighlighter=e,this}},{key:"withTheme",value:function(e){if(this.mounted)throw new E({source:this.constructor.name,message:"Unable to set theme. NLUX is already mounted."});return this.theThemeId=e,this}}]),e}();e.AiChat=Ge,e.NluxConfigError=function(e){f(n,e);var t=c(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(_),e.NluxError=_,e.NluxRenderingError=x,e.NluxUsageError=E,e.NluxValidationError=C,e.Observable=Ae,e.createAiChat=function(){return new Ge},e.createMdStreamRenderer=re,e.debug=function(){},e.uid=w,e.warn=t,e.warnOnce=v}(t)},9020:function(e,t,n){var r=n(7061).default,i=n(7424).default,a=n(7156).default;!function(e,t,n,o){"use strict";var s=function(e){return new Promise((function(t){var n=document.createElement("div");o.render(e,n,(function(){if(1!==n.children.length||!n.firstElementChild)throw new Error("Expected exactly one child");t(n.firstElementChild)}))}))},u=function(){var e=a(r().mark((function e(t){var n,o,u,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bot){e.next=2;break}return e.abrupt("return");case 2:if("string"!=typeof t.bot.picture){e.next=6;break}e.t0=t.bot.picture,e.next=9;break;case 6:return e.next=8,s(t.bot.picture);case 8:e.t0=e.sent;case 9:return n=e.t0,e.abrupt("return",{name:t.bot.name,tagline:t.bot.tagline,picture:n});case 11:case"end":return e.stop()}}),e)})))(),a(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}return e.abrupt("return");case 2:if("string"!=typeof t.user.picture){e.next=6;break}e.t0=t.user.picture,e.next=9;break;case 6:return e.next=8,s(t.user.picture);case 8:e.t0=e.sent;case 9:return n=e.t0,e.abrupt("return",{name:t.user.name,picture:n});case 11:case"end":return e.stop()}}),e)})))()]);case 2:return n=e.sent,o=i(n,2),u=o[0],f=o[1],e.abrupt("return",{bot:u,user:f});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){if(void 0!==e||void 0!==t){if(void 0!==e&&void 0===t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++)n[i[r]]=void 0;return n}if(void 0===e&&void 0!==t)return t;if(t&&e){for(var a=!1,o={},s=0,u=Object.keys(t);s<u.length;s++){var f=u[s];e[f]!==t[f]&&(o[f]=t[f],a=!0)}return a?o:void 0}}},c=function(){var e=a(r().mark((function e(n,i){var o,s,c,l,d,h,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f(n.events,i.events),s=f(n.layoutOptions,i.layoutOptions),c=f(n.conversationOptions,i.conversationOptions),l=f(n.promptBoxOptions,i.promptBoxOptions),e.next=6,function(){var e=a(r().mark((function e(t,n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},e.t0=void 0!==t||void 0!==n,!e.t0){e.next=24;break}if(e.t1=(null===t||void 0===t?void 0:t.bot)!==(null===n||void 0===n?void 0:n.bot),!e.t1){e.next=13;break}if(void 0!==(null===n||void 0===n?void 0:n.bot)){e.next=9;break}e.t2=void 0,e.next=12;break;case 9:return e.next=11,u({bot:n.bot});case 11:e.t2=e.sent.bot;case 12:i.bot=e.t2;case 13:if(e.t3=(null===t||void 0===t?void 0:t.user)!==(null===n||void 0===n?void 0:n.user),!e.t3){e.next=23;break}if(void 0!==(null===n||void 0===n?void 0:n.user)){e.next=19;break}e.t4=void 0,e.next=22;break;case 19:return e.next=21,u({user:n.user});case 21:e.t4=e.sent.user;case 22:i.user=e.t4;case 23:e.t0=0!==Object.keys(i).length;case 24:if(!e.t0){e.next=26;break}return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.personaOptions,i.personaOptions);case 6:if(d=e.sent,h={},void 0!==o&&(h.events=null!==o&&void 0!==o?o:{}),void 0!==s&&(h.layoutOptions=null!==s&&void 0!==s?s:{}),void 0!==c&&(h.conversationOptions=null!==c&&void 0!==c?c:{}),void 0!==l&&(h.promptBoxOptions=null!==l&&void 0!==l?l:{}),void 0!==d&&(h.personaOptions=null!==d&&void 0!==d?d:{}),void 0!==(p=n.adapter!==i.adapter?i.adapter:void 0)&&(v=function(e){var n="unknown",r=e;if("function"==typeof(null===r||void 0===r?void 0:r.create))n="builder";else if("function"==typeof(null===r||void 0===r?void 0:r.fetchText)||"function"==typeof(null===r||void 0===r?void 0:r.streamText))return n="instance",e;if("unknown"!==n){if("builder"===n){var i=r.create();return"function"==typeof(null===i||void 0===i?void 0:i.fetchText)||"function"==typeof(null===i||void 0===i?void 0:i.streamText)?i:void t.warn("The adapter builder did not return a valid adapter.")}return e}t.warn("Unable to determine the type of the adapter.")}(p),v?h.adapter=v:t.warn({message:"Invalid new adapter property provided! The adapter must be an instance of Adapter or AdapterBuilder.",type:"invalid-adapter"})),n.className!==i.className&&(h.className=i.className),n.syntaxHighlighter!==i.syntaxHighlighter&&(h.syntaxHighlighter=i.syntaxHighlighter),!(Object.keys(h).length>0)){e.next=14;break}return e.abrupt("return",h);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object.defineProperty(e,"NluxConfigError",{enumerable:!0,get:function(){return t.NluxConfigError}}),Object.defineProperty(e,"NluxError",{enumerable:!0,get:function(){return t.NluxError}}),Object.defineProperty(e,"NluxRenderingError",{enumerable:!0,get:function(){return t.NluxRenderingError}}),Object.defineProperty(e,"NluxUsageError",{enumerable:!0,get:function(){return t.NluxUsageError}}),Object.defineProperty(e,"NluxValidationError",{enumerable:!0,get:function(){return t.NluxValidationError}}),Object.defineProperty(e,"debug",{enumerable:!0,get:function(){return t.debug}}),e.AiChat=function(e){var r=n.useRef(null),a=n.useState(null),o=i(a,2),s=o[0],f=o[1],l=n.useRef(null);return n.useEffect((function(){if(!r.current)throw new Error("Root element is not defined");var n=!0,i=e.adapter,a=e.className,o=e.syntaxHighlighter,s=e.layoutOptions,f=e.conversationOptions,c=e.promptBoxOptions,d=e.personaOptions,h=e.events,p=e.initialConversation,v=t.createAiChat().withAdapter(i);if(s&&(v=v.withLayoutOptions(s)),c&&(v=v.withPromptBoxOptions(c)),f&&(v=v.withConversationOptions(f)),a&&(v=v.withClassName(a)),o&&(v=v.withSyntaxHighlighter(o)),p&&(v=v.withInitialConversation(p)),h)for(var m=0,g=Object.keys(h);m<g.length;m++){var y=g[m],b=h[y];b&&v.on(y,b)}return d?u(d).then((function(e){v=v.withPersonaOptions(e),n&&(r.current?(v.mount(r.current),l.current=v):t.warn("Root element is not defined! AiChat cannot be mounted."))})):(v.mount(r.current),l.current=v),function(){var e;n=!1,null===(e=v)||void 0===e||e.unmount()}}),[]),n.useEffect((function(){var n=!1;if(s)return l.current&&c(s,e).then((function(r){!n&&r&&(l.current?(l.current.updateProps(r),f(e)):t.warn("AiChat is not defined! Cannot update."))})),function(){n=!0};f(e)}),[e,s]),n.createElement("div",{ref:r})}}(t,n(1202),n(2791),n(4164))},4802:function(e,t,n){var r,i,a;i=[],void 0===(a="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=o.URL||o.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?a(u):i(u.href)?r(e,t,n):a(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){a(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(i(e))r(e,n,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var a="application/octet-stream"===e.type,u=/constructor/i.test(o.HTMLElement)||o.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||a&&u||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=f?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var l=o.URL||o.webkitURL,d=l.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});o.saveAs=u.saveAs=u,e.exports=u})?r.apply(t,i):r)||(e.exports=a)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var f=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);l&&(o=o.concat(l(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{f(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case l:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case f:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===l}t.AsyncMode=c,t.ConcurrentMode=l,t.ContextConsumer=f,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===f},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===l||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===f||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),l=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!l.call(p,e)||!l.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,j=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&"string"===typeof f.stack){for(var i=f.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case x:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,Ce=null;function xe(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ae(e,t){return e(t)}function Ie(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ce)&&(Ie(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(c){this.onError(c)}}var Le=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,je=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ft=64,ct=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=lt(s):0!==(a&=o)&&(r=lt(a))}else 0!==(o=n&~i)?r=lt(o):0!==a&&(r=lt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ft;return 0===(4194240&(ft<<=1))&&(ft=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,Et,Ct,xt,St=!1,Tt=[],At=null,It=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){St=!1,null!==At&&Ut(At)&&(At=null),null!==It&&Ut(It)&&(It=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==It&&zt(It,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Jt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Lt(At,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(fn),ln=j({},fn,{view:0,detail:0}),dn=an(ln),hn=j({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},ln,{relatedTarget:0})),gn=an(j({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Cn}var Sn=j({},ln,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),An=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(j({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=an(j({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,jn=c&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Ur(e,0)}function Jn(e){if(K(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var $n;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Cr={};function xr(e){if(Er[e])return Er[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=xr("animationend"),Tr=xr("animationiteration"),Ar=xr("animationstart"),Ir=xr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,f){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=je;Le=!1,je=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,f=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,f),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,f=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,f),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,f=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":f="focus",u=mn;break;case"focusout":f="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Tr:case Ar:u=gn;break;case Ir:u=Rn;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!==(4&t),l=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&c.push(Wr(p,v,h)))),l)break;p=p.return}0<c.length&&(s=new u(s,f,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(f=n.relatedTarget||n.fromElement)||!yi(f)&&!f[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(f=(f=n.relatedTarget||n.toElement)?yi(f):null)&&(f!==(l=Ve(f))||5!==f.tag&&6!==f.tag)&&(f=null)):(u=null,f=r),u!==f)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",d="onPointerEnter",p="pointer"),l=null==u?s:ki(u),h=null==f?s:ki(f),(s=new c(v,p+"leave",u,n,i)).target=l,s.relatedTarget=h,v=null,yi(i)===r&&((c=new c(d,p+"enter",f,n,i)).target=h,c.relatedTarget=l,v=c),l=v,u&&f)e:{for(d=f,p=0,h=c=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)c=Kr(c),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==f&&null!==l&&Qr(o,l,f,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(g=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=$t=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,f=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==f&&(s=f,i?null!=(u=Pe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function fi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),di="__reactFiber$"+li,hi="__reactProps$"+li,pi="__reactContainer$"+li,vi="__reactEvents$"+li,mi="__reactListeners$"+li,gi="__reactHandles$"+li;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var _i=[],Ei=-1;function Ci(e){return{current:e}}function xi(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Si(e,t){Ei++,_i[Ei]=e.current,e.current=t}var Ti={},Ai=Ci(Ti),Ii=Ci(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ii),xi(Ai)}function Di(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Si(Ai,t),Si(Ii,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ai.current,Si(Ai,e),Si(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,xi(Ii),xi(Ai),Si(Ai,e)):xi(Ii),Si(Ii,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Ji=null,Xi=1,Yi="";function $i(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Xi,Ki[Qi++]=Yi,Ki[Qi++]=Ji,Ji=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Ji;)Ji=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Of(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=fi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Of(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function fa(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=fi(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function la(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=fi(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=fi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?fi(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=fi(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function _a(e){var t=ga.current;xi(ga),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,f=u.next;u.next=null,null===o?a=f:o.next=f,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=f:s.next=f,c.lastBaseUpdate=u))}if(null!==a){var l=i.baseState;for(o=0,c=f=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){l=p.call(h,l,d);break e}l=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,l,d):p)||void 0===d)break e;l=j({},l,d);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(f=c=h,u=l):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=l),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=l}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tf(),i=nf(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rf(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tf(),i=nf(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rf(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tf(),r=nf(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rf(t,e,r,n),Ma(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Pi(t)?Ri:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Pi(t)?Ri:Ai.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mf(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ff(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===E?l(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lf(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bf(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function l(e,t,n,r,a){return null===t||7!==t.tag?((t=jf(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ff(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lf(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Bf(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=jf(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?f(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:l(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return l(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var f=null,c=null,l=a,v=a=0,m=null;null!==l&&v<s.length;v++){l.index>v?(m=l,l=null):m=l.sibling;var g=h(i,l,s[v],u);if(null===g){null===l&&(l=m);break}e&&l&&null===g.alternate&&t(i,l),a=o(g,a,v),null===c?f=g:c.sibling=g,c=g,l=m}if(v===s.length)return n(i,l),ia&&$i(i,v),f;if(null===l){for(;v<s.length;v++)null!==(l=d(i,s[v],u))&&(a=o(l,a,v),null===c?f=l:c.sibling=l,c=l);return ia&&$i(i,v),f}for(l=r(i,l);v<s.length;v++)null!==(m=p(l,i,v,s[v],u))&&(e&&null!==m.alternate&&l.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?f=m:c.sibling=m,c=m);return e&&l.forEach((function(e){return t(i,e)})),ia&&$i(i,v),f}function m(i,s,u,f){var c=M(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var l=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,f);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===l?c=b:l.sibling=b,l=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,f))&&(s=o(y,s,m),null===l?c=y:l.sibling=y,l=y);return ia&&$i(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,f))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===l?c=y:l.sibling=y,l=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var f=o.key,c=a;null!==c;){if(c.key===f){if((f=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===P&&Qa(f)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=jf(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lf(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bf(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ff(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ja(!0),Ya=Ja(!1),$a={},Za=Ci($a),eo=Ci($a),to=Ci($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Si(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function co(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var lo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,lo.current=fs,e=n(r,i)}while(bo)}if(lo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function xo(){var e=0!==ko;return ko=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Ao(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,f=null,c=o;do{var l=c.lane;if((po&l)===l)null!==f&&(f=f.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===f?(u=f=d,s=r):f=f.next=d,vo.lanes|=l,ju|=l}c=c.next}while(null!==c&&c!==o);null===f?s=r:f.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ia(e,1);null!==t&&rf(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){rf(n,e,r,tf()),as(n,t,r)}}function ns(e,t,n){var r=nf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(f){}null!==(n=Aa(e,t,i,r))&&(rf(n,e,r,i=tf()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:xa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:xa,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ru.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xa,useCallback:Xo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Io,useRef:Bo,useState:function(){return Io(Ao)},useDebugValue:Jo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[Io(Ao)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},fs={readContext:xa,useCallback:Xo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Ao)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Ao)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),ds(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tf.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=xo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Df(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lf(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Mf(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Pi(n)?Ri:Ai.current;return a=Ni(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=xo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function As(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,f=n.contextType;"object"===typeof f&&null!==f?f=xa(f):f=Ni(t,f=Pi(n)?Ri:Ai.current);var c=n.getDerivedStateFromProps,l="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;l||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==f)&&Ha(t,o,r,f),Ra=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ii.current||Ra?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Ra||Va(t,n,s,r,d,u,f))?(l||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=f,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,f=t.type===t.elementType?s:ma(t.type,s),o.props=f,l=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=xa(u):u=Ni(t,u=Pi(n)?Ri:Ai.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==l||d!==u)&&Ha(t,o,r,u),Ra=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==l||d!==p||Ii.current||Ra?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(f=Ra||Va(t,n,f,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=f):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ds,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Uf(u,i,0,null),e=jf(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ls(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uf({mode:"visible",children:r.children},i,0,null),(o=jf(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=ls(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),rf(r,e,i,-1))}return gf(),Bs(e,t,s,r=ls(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=If.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=fi(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Xi,Ki[Qi++]=Yi,Ki[Qi++]=Ji,Xi=e.id,Yi=e.overflow,Ji=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var f={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=f,t.deletions=null):(i=Mf(o,f)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Mf(r,s):(s=jf(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Mf(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Uf({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mf(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mf(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,io(),xi(Ii),xi(Ai),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(la(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uf(aa),aa=null))),Os(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),la(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var f=o[u];"children"===u?"string"===typeof f?r.textContent!==f&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,f,e),i=["children",f]):"number"===typeof f&&r.textContent!==""+f&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,f,e),i=["children",""+f]):s.hasOwnProperty(u)&&null!=f&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),f=i)if(f.hasOwnProperty(o)){var c=f[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&le(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),la(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(xi(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=la(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(uf(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):gf())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Os(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(xi(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hf(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ii),xi(Ai),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hf(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var f=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&f!==u&&(null!=f||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&u[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(o||(o=[]),o.push(c,n)),n=f;else"dangerouslySetInnerHTML"===c?(f=f?f.__html:void 0,u=u?u.__html:void 0,null!=f&&u!==f&&(o=o||[]).push(c,f)):"children"===c?"string"!==typeof f&&"number"!==typeof f||(o=o||[]).push(c,""+f):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=f&&"onScroll"===c&&Fr("scroll",e),o||u===f||(o=[])):(o=o||[]).push(c,f))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sf(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sf(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fu(e,t,n),e=e.sibling;null!==e;)fu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=lu,i=du;lu=null,hu(e,t,n),du=i,null!==(lu=r)&&(du?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(du?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=du,lu=n.stateNode.containerInfo,du=!0,hu(e,t,n),lu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sf(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Rf.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,du=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===lu)throw Error(a(160));pu(o,s,i),lu=null,du=!1;var f=i.alternate;null!==f&&(f.return=null),i.return=null}catch(c){Sf(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sf(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sf(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sf(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,f=e.updateQueue;if(e.updateQueue=null,null!==f)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var c=be(u,o);for(s=0;s<f.length;s+=2){var l=f[s],d=f[s+1];"style"===l?me(i,d):"dangerouslySetInnerHTML"===l?le(i,d):"children"===l?de(i,d):b(i,l,d,c)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sf(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sf(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Sf(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ye())),4&r&&vu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||l,mu(t,e),Ys=c):mu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!l&&0!==(1&e.mode))for(Zs=e,l=e.child;null!==l;){for(d=Zs=l;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sf(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){_u(d);continue}}null!==p?(p.return=h,Zs=p):_u(d)}l=l.sibling}e:for(l=null,d=e;;){if(5===d.tag){if(null===l){l=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(f=d.memoizedProps.style)&&null!==f&&f.hasOwnProperty("display")?f.display:null,u.style.display=ve("display",s))}catch(m){Sf(e,e.return,m)}}}else if(6===d.tag){if(null===l)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Sf(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;fu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sf(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Xs;var f=Ys;if(Xs=o,(Ys=u)&&!f)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Xs=s,Ys=f}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var l=c.memoizedState;if(null!==l){var d=l.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(h){Sf(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sf(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sf(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sf(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sf(t,o,u)}}}catch(u){Sf(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cu,xu=Math.ceil,Su=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Au=k.ReactCurrentBatchConfig,Iu=0,Ru=null,Nu=null,Pu=0,Ou=0,Du=Ci(0),Mu=0,Lu=null,ju=0,Uu=0,Fu=0,Bu=null,zu=null,Vu=0,qu=1/0,Hu=null,Wu=!1,Gu=null,Ku=null,Qu=!1,Ju=null,Xu=0,Yu=0,$u=null,Zu=-1,ef=0;function tf(){return 0!==(6&Iu)?Ye():-1!==Zu?Zu:Zu=Ye()}function nf(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===ef&&(ef=vt()),ef):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rf(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Iu)&&e===Ru||(e===Ru&&(0===(2&Iu)&&(Uu|=n),4===Mu&&ff(e,Pu)),af(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(qu=Ye()+500,Fi&&Vi()))}function af(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Ru?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cf.bind(null,e)):zi(cf.bind(null,e)),oi((function(){0===(6&Iu)&&Vi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nf(n,of.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function of(e,t){if(Zu=-1,ef=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(Cf()&&e.callbackNode!==n)return null;var r=dt(e,e===Ru?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yf(e,r);else{t=r;var i=Iu;Iu|=2;var o=mf();for(Ru===e&&Pu===t||(Hu=null,qu=Ye()+500,pf(e,t));;)try{kf();break}catch(u){vf(e,u)}wa(),Su.current=o,Iu=i,null!==Nu?t=0:(Ru=null,Pu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sf(e,i))),1===t)throw n=Lu,pf(e,0),ff(e,r),af(e,Ye()),n;if(6===t)ff(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yf(e,r))&&(0!==(o=pt(e))&&(r=o,t=sf(e,o))),1===t))throw n=Lu,pf(e,0),ff(e,r),af(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ef(e,zu,Hu);break;case 3:if(ff(e,r),(130023424&r)===r&&10<(t=Vu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tf(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ef.bind(null,e,zu,Hu),t);break}Ef(e,zu,Hu);break;case 4:if(ff(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(Ef.bind(null,e,zu,Hu),r);break}Ef(e,zu,Hu);break;default:throw Error(a(329))}}}return af(e,Ye()),e.callbackNode===n?of.bind(null,e):null}function sf(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(pf(e,t).flags|=256),2!==(e=yf(e,t))&&(t=zu,zu=n,null!==t&&uf(t)),e}function uf(e){null===zu?zu=e:zu.push.apply(zu,e)}function ff(e,t){for(t&=~Fu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cf(e){if(0!==(6&Iu))throw Error(a(327));Cf();var t=dt(e,0);if(0===(1&t))return af(e,Ye()),null;var n=yf(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sf(e,r))}if(1===n)throw n=Lu,pf(e,0),ff(e,t),af(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ef(e,zu,Hu),af(e,Ye()),null}function lf(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Ye()+500,Fi&&Vi())}}function df(e){null!==Ju&&0===Ju.tag&&0===(6&Iu)&&Cf();var t=Iu;Iu|=1;var n=Au.transition,r=bt;try{if(Au.transition=null,bt=1,e)return e()}finally{bt=r,Au.transition=n,0===(6&(Iu=t))&&Vi()}}function hf(){Ou=Du.current,xi(Du)}function pf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ii),xi(Ai),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(so);break;case 10:_a(r.type._context);break;case 22:case 23:hf()}n=n.return}if(Ru=e,Nu=e=Mf(e.current,null),Pu=Ou=t,Mu=0,Lu=null,Fu=Uu=ju=0,zu=Bu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function vf(e,t){for(;;){var n=Nu;try{if(wa(),lo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,f=t;if(t=Pu,u.flags|=32768,null!==f&&"object"===typeof f&&"function"===typeof f.then){var c=f,l=u,d=l.tag;if(0===(1&l.mode)&&(0===d||11===d||15===d)){var h=l.alternate;h?(l.updateQueue=h.updateQueue,l.memoizedState=h.memoizedState,l.lanes=h.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),f=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(f),t.updateQueue=m}else v.add(f);break e}if(0===(1&t)){ms(o,c,t),gf();break e}f=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(f,u));break e}}o=f=cs(f,u),4!==Mu&&(Mu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,f,t));break e;case 1:u=f;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}_f(n)}catch(k){t=k,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function mf(){var e=Su.current;return Su.current=os,null===e?os:e}function gf(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Ru||0===(268435455&ju)&&0===(268435455&Uu)||ff(Ru,Pu)}function yf(e,t){var n=Iu;Iu|=2;var r=mf();for(Ru===e&&Pu===t||(Hu=null,pf(e,t));;)try{bf();break}catch(i){vf(e,i)}if(wa(),Iu=n,Su.current=r,null!==Nu)throw Error(a(261));return Ru=null,Pu=0,Mu}function bf(){for(;null!==Nu;)wf(Nu)}function kf(){for(;null!==Nu&&!Je();)wf(Nu)}function wf(e){var t=Cu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?_f(e):Nu=t,Tu.current=null}function _f(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Mu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Mu&&(Mu=5)}function Ef(e,t,n){var r=bt,i=Au.transition;try{Au.transition=null,bt=1,function(e,t,n,r){do{Cf()}while(null!==Ju);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Nu=Ru=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nf(tt,(function(){return Cf(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,f=-1,c=0,l=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(f=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++l===r&&(f=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===f?null:{start:u,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sf(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Xe(),Iu=u,bt=s,Au.transition=o}else e.current=n;if(Qu&&(Qu=!1,Ju=e,Xu=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),af(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Xu)&&0!==e.tag&&Cf(),o=e.pendingLanes,0!==(1&o)?e===$u?Yu++:(Yu=0,$u=e):Yu=0,Vi()}(e,t,n,r)}finally{Au.transition=i,bt=r}return null}function Cf(){if(null!==Ju){var e=kt(Xu),t=Au.transition,n=bt;try{if(Au.transition=null,bt=16>e?16:e,null===Ju)var r=!1;else{if(e=Ju,Ju=null,Xu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var f=0;f<u.length;f++){var c=u[f];for(Zs=c;null!==Zs;){var l=Zs;switch(l.tag){case 0:case 11:case 15:ru(8,l,o)}var d=l.child;if(null!==d)d.return=l,Zs=d;else for(;null!==Zs;){var h=(l=Zs).sibling,p=l.return;if(ou(l),l===c){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Sf(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Iu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Au.transition=t}}return!1}function xf(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=tf(),null!==e&&(gt(e,1,t),af(e,t))}function Sf(e,t,n){if(3===e.tag)xf(e,e,n);else for(;null!==t;){if(3===t.tag){xf(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=tf(),null!==t&&(gt(t,1,e),af(t,e));break}}t=t.return}}function Tf(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tf(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Pu&n)===n&&(4===Mu||3===Mu&&(130023424&Pu)===Pu&&500>Ye()-Vu?pf(e,0):Fu|=n),af(e,t)}function Af(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tf();null!==(e=Ia(e,t))&&(gt(e,t,n),af(e,n))}function If(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Af(e,n)}function Rf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Af(e,n)}function Nf(e,t){return Ke(e,t)}function Pf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Of(e,t,n,r){return new Pf(e,t,n,r)}function Df(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mf(e,t){var n=e.alternate;return null===n?((n=Of(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lf(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Df(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return jf(n.children,i,o,t);case C:s=8,i|=8;break;case x:return(e=Of(12,n,t,2|i)).elementType=x,e.lanes=o,e;case I:return(e=Of(13,n,t,i)).elementType=I,e.lanes=o,e;case R:return(e=Of(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Uf(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case A:s=11;break e;case N:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Of(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jf(e,t,n,r){return(e=Of(7,e,r,t)).lanes=n,e}function Uf(e,t,n,r){return(e=Of(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ff(e,t,n){return(e=Of(6,e,null,t)).lanes=n,e}function Bf(e,t,n){return(t=Of(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zf(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vf(e,t,n,r,i,a,o,s,u){return e=new zf(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Of(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function qf(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Hf(e,t,n,r,i,a,o,s,u){return(e=Vf(n,r,!0,e,0,a,0,s,u)).context=qf(null),n=e.current,(a=Oa(r=tf(),i=nf(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),af(e,r),e}function Wf(e,t,n,r){var i=t.current,a=tf(),o=nf(i);return n=qf(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rf(e,i,o,a),Ma(e,i,o)),o}function Gf(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qf(e,t){Kf(e,t),(e=e.alternate)&&Kf(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Si(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ai.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Df(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=fi(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&fa(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var f=u.firstContext;null!==f;){if(f.context===r){if(1===o.tag){(f=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var l=(c=c.shared).pending;null===l?f.next=f:(f.next=l.next,l.next=f),c.pending=f}}o.lanes|=n,null!==(f=o.alternate)&&(f.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}f=f.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=xa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ca(t,n),qa(t,r,i),Wa(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Jf="function"===typeof reportError?reportError:function(e){console.error(e)};function Xf(e){this._internalRoot=e}function Yf(e){this._internalRoot=e}function $f(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zf(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gf(o);s.call(e)}}Wf(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gf(o);a.call(e)}}var o=Hf(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),df(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gf(u);s.call(e)}}var u=Vf(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),df((function(){Wf(t,u,n,r)})),u}(n,t,e,i,r);return Gf(o)}Yf.prototype.render=Xf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wf(e,t,null,null)},Yf.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;df((function(){Wf(null,e,null,null)})),t[pi]=null}},Yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lt(t.pendingLanes);0!==n&&(yt(t,1|n),af(t,Ye()),0===(6&Iu)&&(qu=Ye()+500,Vi()))}break;case 13:df((function(){var t=Ia(e,1);if(null!==t){var n=tf();rf(t,e,1,n)}})),Qf(e,1)}},_t=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)rf(t,e,134217728,tf());Qf(e,134217728)}},Et=function(e){if(13===e.tag){var t=nf(e),n=Ia(e,t);if(null!==n)rf(n,e,t,tf());Qf(e,t)}},Ct=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=lf,Ie=df;var nc={usingClientEntryPoint:!1,Events:[bi,ki,wi,Se,Te,lf]},rc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{it=ac.inject(ic),at=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$f(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$f(e))throw Error(a(299));var n=!1,r="",i=Jf;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vf(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xf(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return df(e)},t.hydrate=function(e,t,n){if(!Zf(t))throw Error(a(200));return tc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$f(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Jf;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hf(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yf(t)},t.render=function(e,t,n){if(!Zf(t))throw Error(a(200));return tc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zf(e))throw Error(a(40));return!!e._reactRootContainer&&(df((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lf,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zf(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case l:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,n){var r,a={},f=null,c=null;for(r in void 0!==n&&(f=""+n),void 0!==t.key&&(f=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:f,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=f,t.jsxs=f},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var f=Array(u),c=0;c<u;c++)f[c]=arguments[c+2];a.children=f}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var f=0;f<e.length;f++){var c=a+A(s=e[f],f);u+=I(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),f=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=a+A(s,f++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)_.call(t,f)&&!C.hasOwnProperty(f)&&(i[f]=void 0===t[f]&&void 0!==u?u[f]:t[f])}var f=arguments.length-2;if(1===f)i.children=r;else if(1<f){u=Array(f);for(var c=0;c<f;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},3531:function(e,t,n){"use strict";var r;function i(e,t){if(!e)throw"First parameter is required.";t=new a(e,t=t||{type:"video"});var n=this;function r(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var r=new o(e,t);(d=new r(e,t)).record(),l("recording"),t.disableLogs||console.log("Initialized recorderType:",d.constructor.name,"for output-type:",t.type)}function s(e){if(e=e||function(){},d){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){s(e)}),1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?d.stop(r):(d.stop(),r()),l("stopped")}else v();function r(r){if(d){Object.keys(d).forEach((function(e){"function"!==typeof d[e]&&(n[e]=d[e])}));var i=d.blob;if(!i){if(!r)throw"Recording failed.";d.blob=i=r}if(i&&!t.disableLogs&&console.log(i.type,"->",k(i.size)),e){var a;try{a=h.createObjectURL(i)}catch(o){}"function"===typeof e.call?e.call(n,a):e(a)}t.autoWriteToDisk&&f((function(e){var n={};n[t.type+"Blob"]=e,P.Store(n)}))}else"function"===typeof e.call?e.call(n,""):e("")}}function u(e){postMessage((new FileReaderSync).readAsDataURL(e))}function f(e,n){if(!e)throw"Pass a callback function over getDataURL.";var r=n?n.blob:(d||{}).blob;if(!r)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){f(e,n)}),1e3);if("undefined"===typeof Worker||navigator.mozGetUserMedia){var i=new FileReader;i.readAsDataURL(r),i.onload=function(t){e(t.target.result)}}else{var a=function(e){try{var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}catch(r){}}(u);a.onmessage=function(t){e(t.data)},a.postMessage(r)}}function c(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?s(n.onRecordingStopped):(e+=1e3,setTimeout((function(){c(e)}),1e3))):setTimeout((function(){c(e)}),1e3)}function l(e){n&&(n.state=e,"function"===typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var d,p='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function v(){!0!==t.disableLogs&&console.warn(p)}var m={startRecording:function(i){return t.disableLogs||console.log("RecordRTC version: ",n.version),i&&(t=new a(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),d?(d.clearRecordedData(),d.record(),l("recording"),n.recordingDuration&&c(),n):(r((function(){n.recordingDuration&&c()})),n)},stopRecording:s,pauseRecording:function(){d?"recording"===n.state?(l("paused"),d.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):v()},resumeRecording:function(){d?"paused"===n.state?(l("recording"),d.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):v()},initRecorder:r,setRecordingDuration:function(e,t){if("undefined"===typeof e)throw"recordingDuration is required.";if("number"!==typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){d?(d.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):v()},getBlob:function(){if(d)return d.blob;v()},getDataURL:f,toURL:function(){if(d)return h.createObjectURL(d.blob);v()},getInternalRecorder:function(){return d},save:function(e){d?w(d.blob,e):v()},getFromDisk:function(e){d?i.getFromDisk(t.type,e):v()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,r=0;r<n;r++)t.advertisement.push({duration:r,image:e[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),d&&"function"===typeof d.clearRecordedData&&d.clearRecordedData(),d=null,l("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),l("destroyed"),m=n=null,x.AudioContextConstructor&&(x.AudioContextConstructor.close(),x.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return n=m,m;for(var g in m)this[g]=m[g];return n=this,m}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===R||t.recorderType===I||t.recorderType===L?t.type="video":t.recorderType===O?t.type="gif":t.recorderType===A?t.type="audio":t.recorderType===T&&(E(e,"audio").length&&E(e,"video").length||!E(e,"audio").length&&E(e,"video").length?t.type="video":E(e,"audio").length&&!E(e,"video").length&&(t.type="audio"))),"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function o(e,t){var n;return(g||p||v)&&(n=A),"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!g&&(n=T),"video"===t.type&&(g||v)&&(n=R,"undefined"!==typeof ReadableStream&&(n=L)),"gif"===t.type&&(n=O),"canvas"===t.type&&(n=I),S()&&n!==I&&n!==O&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(E(e,"video").length||E(e,"audio").length)&&("audio"===t.type?"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=T):"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=T)),e instanceof Array&&e.length&&(n=M),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&y&&(n=T),n}function s(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,r=this.mimeType||{audio:null,video:null,gif:null};if("function"!==typeof n.audio&&S()&&!E(e,"audio").length&&(n.audio=!1),"function"!==typeof n.video&&S()&&!E(e,"video").length&&(n.video=!1),"function"!==typeof n.gif&&S()&&!E(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"===typeof n.audio&&(t=n.audio),this.audioRecorder=new i(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"===typeof n.video&&(t=n.video);var a=e;if(S()&&n.audio&&"function"===typeof n.audio){var o=E(e,"video")[0];m?((a=new b).addTrack(o),t&&t===R&&(t=T)):(a=new b).addTrack(o)}this.videoRecorder=new i(a,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var s=this,u=!0===S();(n.audio instanceof A&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(u=!1),!0===u?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecorder((function(){s.audioRecorder.initRecorder((function(){s.videoRecorder.startRecording(),s.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"===typeof n.gif&&(t=n.gif),this.gifRecorder=new i(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!==typeof Worker){var n=function(e){var t,n=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if("undefined"!==typeof h)t=h;else{if("undefined"===typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){i.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"===typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"===typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"===typeof e.gif?e.gif:"")}}i.version="5.6.2",e.exports=i,void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r),i.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),P.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},i.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){P.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){P.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){P.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){P.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){P.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){P.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){P.Store({gifBlob:e})}))},s.getFromDisk=i.getFromDisk,s.writeToDisk=i.writeToDisk,i.MRecordRTC=s;var u;(u="undefined"!==typeof n.g?n.g:null)&&"undefined"===typeof window&&"undefined"!==typeof n.g&&(n.g.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},n.g.console||(n.g.console={}),"undefined"!==typeof n.g.console.log&&"undefined"!==typeof n.g.console.error||(n.g.console.error=n.g.console.log=n.g.console.log||function(){console.log(arguments)}),"undefined"===typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"===typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"===typeof screen&&(u.screen={width:0,height:0}),"undefined"===typeof h&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=n.g);var f=window.requestAnimationFrame;if("undefined"===typeof f)if("undefined"!==typeof webkitRequestAnimationFrame)f=webkitRequestAnimationFrame;else if("undefined"!==typeof mozRequestAnimationFrame)f=mozRequestAnimationFrame;else if("undefined"!==typeof msRequestAnimationFrame)f=msRequestAnimationFrame;else if("undefined"===typeof f){var c=0;f=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-c)),i=setTimeout((function(){e(n+r)}),r);return c=n+r,i}}var l=window.cancelAnimationFrame;"undefined"===typeof l&&("undefined"!==typeof webkitCancelAnimationFrame?l=webkitCancelAnimationFrame:"undefined"!==typeof mozCancelAnimationFrame?l=mozCancelAnimationFrame:"undefined"!==typeof msCancelAnimationFrame?l=msCancelAnimationFrame:"undefined"===typeof l&&(l=function(e){clearTimeout(e)}));var d=window.AudioContext;"undefined"===typeof d&&("undefined"!==typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(d=mozAudioContext));var h=window.URL;"undefined"===typeof h&&"undefined"!==typeof webkitURL&&(h=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var p=-1!==navigator.userAgent.indexOf("Edge")&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),v=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),g=!v&&!p&&!!navigator.webkitGetUserMedia||_()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!g&&-1!==navigator.userAgent.indexOf("CriOS")&&(y=!1,g=!0);var b=window.MediaStream;function k(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function w(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(o){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if("undefined"!==typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if("undefined"!==typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var a=document.createElement("a");a.href=h.createObjectURL(e),a.download=i,a.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(a),"function"===typeof a.click?a.click():(a.target="_blank",a.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),h.revokeObjectURL(a.href)}function _(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof process||"object"!==typeof process.versions||!process.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function E(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function C(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}"undefined"===typeof b&&"undefined"!==typeof webkitMediaStream&&(b=webkitMediaStream),"undefined"!==typeof b&&"undefined"===typeof b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),i.invokeSaveAsDialog=w,i.getTracks=E,i.getSeekableBlob=function(e,t){if("undefined"===typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,i=EBML.tools,a=new FileReader;a.onload=function(e){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var a=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),o=this.result.slice(n.metadataSize),s=new Blob([a,o],{type:"video/webm"});t(s)},a.readAsArrayBuffer(e)},i.bytesToSize=k,i.isElectron=_;var x={};function S(){if(m||y||p)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(g||v)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function T(e,t){var n=this;if("undefined"===typeof e)throw'First argument "MediaStream" is required.';if("undefined"===typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var r;if(E(e,"video").length&&E(e,"audio").length)navigator.mozGetUserMedia?(r=new b).addTrack(E(e,"audio")[0]):r=new b(E(e,"audio")),e=r;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=g?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var i,a=[];function o(){n.timestamps.push((new Date).getTime()),"function"===typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function s(e){return i&&i.mimeType?i.mimeType:e.mimeType||"video/webm"}function u(){a=[],i=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return a},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],f=[],a=[];var r=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",r),i&&(i=null),g&&!S()&&(r="video/vp8"),"function"===typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType),r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{i=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(u){i=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&!1===i.canRecordMimeType(r.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType)),i.ondataavailable=function(e){if(e.data&&f.push("ondataavailable: "+k(e.data.size)),"number"!==typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:s(r)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&(a.push(e.data),o(),"function"===typeof t.ondataavailable)){var i=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)});t.ondataavailable(i)}},i.onstart=function(){f.push("started")},i.onpause=function(){f.push("paused")},i.onresume=function(){f.push("resumed")},i.onstop=function(){f.push("stopped")},i.onerror=function(e){e&&(e.name||(e.name="UnknownError"),f.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",r.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&i&&"inactive"===i.state)return delete t.timeslice,void i.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==i.state&&"stopped"!==i.state&&i.stop())},"number"===typeof t.timeSlice?(o(),i.start(t.timeSlice)):i.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,i&&(this.recordingCallback=e,"recording"===i.state&&i.stop(),"number"===typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(a,{type:s(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){i&&"recording"===i.state&&i.pause()},this.resume=function(){i&&"paused"===i.state&&i.resume()},this.clearRecordedData=function(){i&&"recording"===i.state&&n.stop(u),u()},this.getInternalRecorder=function(){return i},this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var f=[];this.getAllStates=function(){return f},"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function r(){if(i&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(r,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function A(e,t){if(!E(e,"audio").length)throw"Your stream has no audio tracks.";var n,r=this,a=[],o=[],s=!1,u=0,f=2,c=(t=t||{}).desiredSampRate;function l(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function d(e,t){function n(e,t){var n,r=e.numberOfAudioChannels,i=e.leftBuffers.slice(0),a=e.rightBuffers.slice(0),o=e.sampleRate,s=e.internalInterleavedLength,u=e.desiredSampRate;function f(e,t,n){var r=Math.round(e.length*(t/n)),i=[],a=Number((e.length-1)/(r-1));i[0]=e[0];for(var o=1;o<r-1;o++){var s=o*a,u=Number(Math.floor(s)).toFixed(),f=Number(Math.ceil(s)).toFixed(),l=s-u;i[o]=c(e[u],e[f],l)}return i[r-1]=e[e.length-1],i}function c(e,t,n){return e+(t-e)*n}function l(e,t){for(var n=new Float64Array(t),r=0,i=e.length,a=0;a<i;a++){var o=e[a];n.set(o,r),r+=o.length}return n}function d(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}2===r&&(i=l(i,s),a=l(a,s),u&&(i=f(i,u,o),a=f(a,u,o))),1===r&&(i=l(i,s),u&&(i=f(i,u,o))),u&&(o=u),2===r&&(n=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),i=0,a=0;a<n;)r[a++]=e[i],r[a++]=t[i],i++;return r}(i,a)),1===r&&(n=i);var h=n.length,p=new ArrayBuffer(44+2*h),v=new DataView(p);d(v,0,"RIFF"),v.setUint32(4,36+2*h,!0),d(v,8,"WAVE"),d(v,12,"fmt "),v.setUint32(16,16,!0),v.setUint16(20,1,!0),v.setUint16(22,r,!0),v.setUint32(24,o,!0),v.setUint32(28,o*r*2,!0),v.setUint16(32,2*r,!0),v.setUint16(34,16,!0),d(v,36,"data"),v.setUint32(40,2*h,!0);for(var m=h,g=44,y=0;y<m;y++)v.setInt16(g,32767*n[y],!0),g+=2;if(t)return t({buffer:p,view:v});postMessage({buffer:p,view:v})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r=function(e){var t=h.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}(n);r.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}!0===t.leftChannel&&(f=1),1===t.numberOfAudioChannels&&(f=1),(!f||f<1)&&(f=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+f),"undefined"===typeof t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===l())throw"Please make sure MediaStream is active.";k(),_=b=!1,s=!0,"undefined"!==typeof t.timeSlice&&x()},this.stop=function(e){e=e||function(){},s=!1,d({desiredSampRate:c,sampleRate:y,numberOfAudioChannels:f,internalInterleavedLength:u,leftBuffers:a,rightBuffers:1===f?[]:o,noWorker:t.noWorker},(function(t,n){r.blob=new Blob([n],{type:"audio/wav"}),r.buffer=new ArrayBuffer(n.buffer.byteLength),r.view=n,r.sampleRate=c||y,r.bufferSize=g,r.length=u,_=!1,e&&e(r.blob)}))},"undefined"===typeof i.Storage&&(i.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),i.Storage.AudioContextConstructor&&"closed"!==i.Storage.AudioContextConstructor.state||(i.Storage.AudioContextConstructor=new i.Storage.AudioContext);var p=i.Storage.AudioContextConstructor,v=p.createMediaStreamSource(e),m=[0,256,512,1024,2048,4096,8192,16384],g="undefined"===typeof t.bufferSize?4096:t.bufferSize;if(-1===m.indexOf(g)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(m,null,"\t"))),p.createJavaScriptNode)n=p.createJavaScriptNode(g,f,f);else{if(!p.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=p.createScriptProcessor(g,f,f)}v.connect(n),t.bufferSize||(g=n.bufferSize);var y="undefined"!==typeof t.sampleRate?t.sampleRate:p.sampleRate||44100;(y<22050||y>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var b=!1;function k(){a=[],o=[],u=0,_=!1,s=!1,b=!1,p=null,r.leftchannel=a,r.rightchannel=o,r.numberOfAudioChannels=f,r.desiredSampRate=c,r.sampleRate=y,r.recordingLength=u,C={left:[],right:[],recordingLength:0}}function w(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),v&&(v.disconnect(),v=null),k()}this.pause=function(){b=!0},this.resume=function(){if(!1===l())throw"Please make sure MediaStream is active.";if(!s)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();b=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,s&&this.stop(w),w()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var _=!1;n.onaudioprocess=function(e){if(!b)if(!1===l()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),s=!1),s){_||(_=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var i=e.inputBuffer.getChannelData(0),c=new Float32Array(i);if(a.push(c),2===f){var d=e.inputBuffer.getChannelData(1),h=new Float32Array(d);o.push(h)}u+=g,r.recordingLength=u,"undefined"!==typeof t.timeSlice&&(C.recordingLength+=g,C.left.push(c),2===f&&C.right.push(h))}else v&&(v.disconnect(),v=null)},p.createMediaStreamDestination?n.connect(p.createMediaStreamDestination()):n.connect(p.destination),this.leftchannel=a,this.rightchannel=o,this.numberOfAudioChannels=f,this.desiredSampRate=c,this.sampleRate=y,r.recordingLength=u;var C={left:[],right:[],recordingLength:0};function x(){s&&"function"===typeof t.ondataavailable&&"undefined"!==typeof t.timeSlice&&(C.left.length?(d({desiredSampRate:c,sampleRate:y,numberOfAudioChannels:f,internalInterleavedLength:C.recordingLength,leftBuffers:C.left,rightBuffers:1===f?[]:C.right},(function(e,n){var r=new Blob([n],{type:"audio/wav"});t.ondataavailable(r),setTimeout(x,t.timeSlice)})),C={left:[],right:[],recordingLength:0}):setTimeout(x,t.timeSlice))}}function I(e,t){if("undefined"===typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var r,i,a,o=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,s=50,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(o&&u&&u[2]&&(s=parseInt(u[2],10)),o&&s<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)r=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";r=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(a=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in r?e=r.captureStream(25):"mozCaptureStream"in r?e=r.mozCaptureStream(25):"webkitCaptureStream"in r&&(e=r.webkitCaptureStream(25));try{var o=new b;o.addTrack(E(e,"video")[0]),e=o}catch(s){}if(!e)throw"captureStream API are NOT available.";(i=new T(e,{mimeType:t.mimeType||"video/webm"})).record()}else p.frames=[],h=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=p.frames.length;p.frames.forEach((function(e,n){var i=r-n;t.disableLogs||console.log(i+"/"+r+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,r);var a=e.image.toDataURL("image/webp",1);p.frames[n].image=a})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){a=!1;var r=this;n&&i?i.stop(e):this.getWebPImages((function(){p.compile((function(n){t.disableLogs||console.log("Recording finished!"),r.blob=n,r.blob.forEach&&(r.blob=new Blob([],{type:"video/webm"})),e&&e(r.blob),p.frames=[]}))}))};var f=!1;function c(){p.frames=[],a=!1,f=!1}function l(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function d(){if(f)return h=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-h;return h=(new Date).getTime(),p.frames.push({image:l(),duration:n}),void(a&&setTimeout(d,t.frameInterval))}html2canvas(e,{grabMouse:"undefined"===typeof t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-h;if(!n)return setTimeout(d,t.frameInterval);h=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:n}),a&&setTimeout(d,t.frameInterval)}})}this.pause=function(){f=!0,i instanceof T&&i.pause()},this.resume=function(){f=!1,i instanceof T?i.resume():a||this.record()},this.clearRecordedData=function(){a&&this.stop(c),c()},this.name="CanvasRecorder",this.toString=function(){return this.name};var h=(new Date).getTime(),p=new N.Video(100)}function R(e,t){function n(e){e="undefined"!==typeof e?e:10;var t=(new Date).getTime()-u;return t?a?(u=(new Date).getTime(),setTimeout(n,100)):(u=(new Date).getTime(),s.paused&&s.play(),l.drawImage(s,0,0,c.width,c.height),f.frames.push({duration:t,image:c.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,i){var a=document.createElement("canvas");a.width=c.width,a.height=c.height;var o=a.getContext("2d"),s=[],u=-1===t,f=t&&t>0&&t<=e.length?t:e.length,l=0,d=0,h=0,p=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),v=n&&n>=0&&n<=1?n:0,m=r&&r>=0&&r<=1?r:0,g=!1;!function(e){var t=-1,n=e.length;!function r(){++t!==n?setTimeout((function(){e.functionToLoop(r,t)}),1):e.callback()}()}({length:f,functionToLoop:function(t,n){var r,i,a,f=function(){!g&&a-r<=a*m||(u&&(g=!0),s.push(e[n])),t()};if(g)f();else{var y=new Image;y.onload=function(){o.drawImage(y,0,0,c.width,c.height);var e=o.getImageData(0,0,c.width,c.height);r=0,i=e.data.length,a=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-l,2)+Math.pow(n.g-d,2)+Math.pow(n.b-h,2))<=p*v&&r++}f()},y.src=e[n].image}},callback:function(){(s=s.concat(e.slice(f))).length<=0&&s.push(e[e.length-1]),i(s)}})}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),c.width=t.canvas.width||320,c.height=t.canvas.height||240,l=c.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),C(e,s),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),u=(new Date).getTime(),f=new N.Video,t.disableLogs||(console.log("canvas resolutions",c.width,"*",c.height),console.log("video width/height",s.width||c.width,"*",s.height||c.height)),n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout((function(){r(f.frames,-1,null,null,(function(r){f.frames=r,t.advertisement&&t.advertisement.length&&(f.frames=t.advertisement.concat(f.frames)),f.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var a=!1;function o(){f.frames=[],i=!0,a=!1}this.pause=function(){a=!0},this.resume=function(){a=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(o),o()},this.name="WhammyRecorder",this.toString=function(){return this.name};var s,u,f,c=document.createElement("canvas"),l=c.getContext("2d")}"undefined"!==typeof d?x.AudioContext=d:"undefined"!==typeof webkitAudioContext&&(x.AudioContext=webkitAudioContext),i.Storage=x,i.MediaStreamRecorder=T,i.StereoAudioRecorder=A,i.CanvasRecorder=I,i.WhammyRecorder=R;var N=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e){for(var t=[],a=0;a<e.length;a++){var o=e[a].data;"object"===typeof o&&(o=i(o)),"number"===typeof o&&(o=r(o.toString(2))),"string"===typeof o&&(o=new Uint8Array(o.split("").map((function(e){return e.charCodeAt(0)}))));var s=o.size||o.byteLength||o.length,u=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),f=s.toString(2),c=new Array(7*u+7+1-f.length).join("0")+f,l=new Array(u).join("0")+"1"+c;t.push(n(e[a].id)),t.push(r(l)),t.push(o)}return new Blob(t,{type:"video/webm"})}function a(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function o(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=a(e,t),s=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(o(s)):n[r].push(s)}return n}var s=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}(e);if(!n)return[];for(var r,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],o=0,s=0;o<e.length;){var u=[],f=0;do{u.push(e[o]),f+=e[o].duration,o++}while(o<e.length&&f<3e4);var c={id:524531317,data:t(s,0,u)};a[1].data.push(c),s+=f}return i(a)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}(o(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(s)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n=function(e){var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}(t);n.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},n.postMessage(this.frames)},{Video:e}}();i.Whammy=N;var P={init:function(){var e=this;if("undefined"!==typeof indexedDB&&"undefined"!==typeof indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(n,1);r.onerror=e.onError,r.onsuccess=function(){((t=r.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){i(t),a()}:a():a()},r.onupgradeneeded=function(e){i(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function i(t){t.createObjectStore(e.dataStoreName)}function a(){var n=t.transaction([e.dataStoreName],"readwrite");function r(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),r("audioBlob"),r("videoBlob"),r("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function O(e,t){if("undefined"===typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!==typeof GIFEncoder&&s?(r||(t.width||(t.width=u.offsetWidth||320),t.height||(t.height=u.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,u.width=t.video.width||320,u.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"===typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=f((function e(n){if(!0!==p.clearedRecordedData){if(i)return setTimeout((function(){e(n)}),100);h=f(e),void 0===typeof c&&(c=n),n-c<90||(!r&&u.paused&&u.play(),r||o.drawImage(u,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),d.addFrame(o),c=n)}})),t.initCallback&&t.initCallback()):setTimeout(p.record,1e3)},this.stop=function(e){e=e||function(){},h&&l(h),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){p.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),o=a.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?a=(o=e).canvas:e instanceof HTMLCanvasElement&&(o=e.getContext("2d"),a=e));var s=!0;if(!r){var u=document.createElement("video");u.muted=!0,u.autoplay=!0,u.playsInline=!0,s=!1,u.onloadedmetadata=function(){s=!0},C(e,u),u.play()}var c,d,h=null,p=this}function D(e,t){"undefined"!==typeof n.g&&n.g,t=t||"multi-streams-mixer";var r=[],i=!1,a=document.createElement("canvas"),o=a.getContext("2d");a.style.opacity=0,a.style.position="absolute",a.style.zIndex=-1,a.style.top="-1000em",a.style.left="-1000em",a.className=t,(document.body||document.documentElement).appendChild(a),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var s=this,u=window.AudioContext;"undefined"===typeof u&&("undefined"!==typeof webkitAudioContext&&(u=webkitAudioContext),"undefined"!==typeof mozAudioContext&&(u=mozAudioContext));var f=window.URL;"undefined"===typeof f&&"undefined"!==typeof webkitURL&&(f=webkitURL),"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var c=window.MediaStream;"undefined"===typeof c&&"undefined"!==typeof webkitMediaStream&&(c=webkitMediaStream),"undefined"!==typeof c&&"undefined"===typeof c.prototype.stop&&(c.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var l={};function d(){if(!i){var e=r.length,t=!1,n=[];if(r.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)a.width=t.stream.width,a.height=t.stream.height;else if(n.length){a.width=e>1?2*n[0].width:n[0].width;var o=1;3!==e&&4!==e||(o=2),5!==e&&6!==e||(o=3),7!==e&&8!==e||(o=4),9!==e&&10!==e||(o=5),a.height=n[0].height*o}else a.width=s.width||360,a.height=s.height||240;t&&t instanceof HTMLVideoElement&&h(t),n.forEach((function(e,t){h(e,t)})),setTimeout(d,s.frameInterval)}}function h(e,t){if(!i){var n=0,r=0,a=e.width,s=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),"undefined"!==typeof e.stream.left&&(n=e.stream.left),"undefined"!==typeof e.stream.top&&(r=e.stream.top),"undefined"!==typeof e.stream.width&&(a=e.stream.width),"undefined"!==typeof e.stream.height&&(s=e.stream.height),o.drawImage(e,n,r,a,s),"function"===typeof e.stream.onRender&&e.stream.onRender(o,n,r,a,s,t)}}function p(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||s.width||360,n.height=e.height||s.height||240,n.play(),n}function v(t){r=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=p(e);t.stream=e,r.push(t)}}))}"undefined"!==typeof u?l.AudioContext=u:"undefined"!==typeof webkitAudioContext&&(l.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){d()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new c;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var i=p(t);i.stream=t,r.push(i),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var a=s.audioContext.createMediaStreamSource(t);s.audioDestination=s.audioContext.createMediaStreamDestination(),a.connect(s.audioDestination),n.addTrack(s.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){r=[],i=!0,s.gainNode&&(s.gainNode.disconnect(),s.gainNode=null),s.audioSources.length&&(s.audioSources.forEach((function(e){e.disconnect()})),s.audioSources=[]),s.audioDestination&&(s.audioDestination.disconnect(),s.audioDestination=null),s.audioContext&&s.audioContext.close(),s.audioContext=null,o.clearRect(0,0,a.width,a.height),a.stream&&(a.stream.stop(),a.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),v(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;v(),"captureStream"in a?e=a.captureStream():"mozCaptureStream"in a?e=a.mozCaptureStream():s.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new c;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),a.stream=t,t}(),n=function(){l.AudioContextConstructor||(l.AudioContextConstructor=new l.AudioContext);s.audioContext=l.AudioContextConstructor,s.audioSources=[],!0===s.useGainNode&&(s.gainNode=s.audioContext.createGain(),s.gainNode.connect(s.audioContext.destination),s.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=s.audioContext.createMediaStreamSource(e);!0===s.useGainNode&&n.connect(s.gainNode),s.audioSources.push(n)}})),!t)return;return s.audioDestination=s.audioContext.createMediaStreamDestination(),s.audioSources.forEach((function(e){e.connect(s.audioDestination)})),s.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}}function M(e,t){e=e||[];var n,r,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){n=new D(e,t.elementClass||"multi-streams-mixer"),function(){var t=[];return e.forEach((function(e){E(e,"video").forEach((function(e){t.push(e)}))})),t}().length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new T(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){i.blob=t,e(t),i.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),r&&n&&(n.appendStreams(i),t.previewStream&&"function"===typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function L(e,t){var n,r,i;function a(){return new ReadableStream({start:function(r){var i=document.createElement("canvas"),a=document.createElement("video"),o=!0;a.srcObject=e,a.muted=!0,a.height=t.height,a.width=t.width,a.volume=0,a.onplaying=function(){i.width=t.width,i.height=t.height;var e=i.getContext("2d"),s=1e3/t.frameRate,u=setInterval((function(){if(n&&(clearInterval(u),r.close()),o&&(o=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(a,0,0),"closed"!==r._controlledReadableStream.state)try{r.enqueue(e.getImageData(0,0,t.width,t.height))}catch(i){}}),s)},a.play()}})}function o(e,u){if(!t.workerPath&&!u)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){o(e,t)}))}));if(!t.workerPath&&u instanceof ArrayBuffer){var f=new Blob([u],{type:"text/javascript"});t.workerPath=h.createObjectURL(f)}t.workerPath||console.error("workerPath parameter is missing."),(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(e){"READY"===e.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),a().pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(i||s.push(e.data))}))}"undefined"!==typeof ReadableStream&&"undefined"!==typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){s=[],i=!1,this.blob=null,o(e),"function"===typeof t.initCallback&&t.initCallback()},this.pause=function(){i=!0},this.resume=function(){i=!1};var s=[];this.stop=function(e){n=!0;var t=this;!function(e){r?(r.addEventListener("message",(function(t){null===t.data&&(r.terminate(),r=null,e&&e())})),r.postMessage(null)):e&&e()}((function(){t.blob=new Blob(s,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],i=!1,this.blob=null},this.blob=null}i.DiskStorage=P,i.GifRecorder=O,i.MultiStreamRecorder=M,i.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if("undefined"===typeof e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new i(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(r){t(r)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(r){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(r):t("Empty blob.",n.blob)}))}catch(r){t(r)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(r){t(r)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(r){t(r)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(r){t(r)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(r){t(r)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(r){t(r)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(r){t(r)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(r){t(r)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(r){t(r)}}))},this.blob=null,this.version="5.6.2"},i.WebAssemblyRecorder=L},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],f=s+1,c=e[f];if(0>a(u,n))f<i&&0>a(c,u)?(e[r]=c,e[f]=n,r=f):(e[r]=u,e[s]=n,r=s);else{if(!(f<i&&0>a(c,n)))break e;e[r]=c,e[f]=n,r=f}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],c=[],l=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(f,t)}t=r(c)}}function w(e){if(m=!1,k(e),!v)if(null!==r(f))v=!0,O(_);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=h;try{for(k(n),d=r(f);null!==d&&(!(d.expirationTime>n)||e&&!I());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(f)&&i(f),k(n)}else i(f);d=r(f)}if(null!==d)var u=!0;else{var l=r(c);null!==l&&D(w,l.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,x=null,S=-1,T=5,A=-1;function I(){return!(t.unstable_now()-A<T)}function R(){if(null!==x){var e=t.unstable_now();A=e;var n=!0;try{n=x(!0,e)}finally{n?E():(C=!1,x=null)}}else C=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,E=function(){P.postMessage(null)}}else E=function(){g(R,0)};function O(e){x=e,C||(C=!0,E())}function D(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:l++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(f)&&e===r(c)&&(m?(y(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(f,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function f(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,f(i)&&c({inst:i})}),[e,n,t]),o((function(){return f(i)&&c({inst:i}),e((function(){f(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,f=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=s(null);if(null===l.current){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=f((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,f=void 0===n?null:n;return[function(){return e(t())},null===f?void 0:function(){return e(f())}]}),[t,n,r,i]);var h=o(e,l[0],l[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(f){return void n(f)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,f=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){f=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=d;var p={};function v(){}function m(){}function g(){}var y={};l(y,u,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(I([])));k&&k!==n&&a.call(k,u)&&(y=k);var w=g.prototype=v.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,s,u){var f=h(e[i],e,o);if("throw"!==f.type){var c=f.arg,l=c.value;return l&&"object"==r(l)&&a.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(f.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function C(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return m.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),l(E.prototype,f,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),l(w,c,"Generator"),l(w,u,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Messanger/",function(){"use strict";var e=n(2791),t=n(1250),r=n(7248),i=n(327),a=n(4164);var o=function(e){e()},s=function(){return o},u=(0,e.createContext)(null);function f(){return(0,e.useContext)(u)}var c=function(){throw new Error("uSES not initialized!")},l=c,d=function(e,t){return e===t};function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?f:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=l(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var p=h();n(2110),n(6900);var v={notify:function(){},get:function(){return[]}};function m(e,t){var n,r=v;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var y=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=m(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);g((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var f=r||u;return e.createElement(f.Provider,{value:o},i)};function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?f:function(){return(0,e.useContext)(t)};return function(){return n().store}}var k=b();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?k:b(e);return function(){return t().dispatch}}var _,E=w();function C(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(e){return!!e&&!!e[pe]}function S(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ve}(e)||Array.isArray(e)||!!e[he]||!!(null===(t=e.constructor)||void 0===t?void 0:t[he])||O(e)||D(e))}function T(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:me)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function A(e){var t=e[pe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:O(e)?2:D(e)?3:0}function I(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return 2===A(e)?e.get(t):e[t]}function N(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function O(e){return fe&&e instanceof Map}function D(e){return ce&&e instanceof Set}function M(e){return e.o||e.t}function L(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ge(e);delete t[pe];for(var n=me(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),F(e)||x(e)||!S(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=U),Object.freeze(e),t&&T(e,(function(e,t){return j(t,!0)}),!0)),e}function U(){C(2)}function F(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function B(e){var t=ye[e];return t||C(18,e),t}function z(e,t){ye[e]||(ye[e]=t)}function V(){return se}function q(e,t){t&&(B("Patches"),e.u=[],e.s=[],e.v=t)}function H(e){W(e),e.p.forEach(K),e.p=null}function W(e){e===se&&(se=e.l)}function G(e){return se={p:[],l:se,h:e,m:!0,_:0}}function K(e){var t=e[pe];0===t.i||1===t.i?t.j():t.O=!0}function Q(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||B("ES5").S(t,e,r),r?(n[pe].P&&(H(t),C(4)),S(e)&&(e=J(t,e),t.l||Y(t,e)),t.u&&B("Patches").M(n[pe].t,e,t.u,t.s)):e=J(t,n,[]),H(t),t.u&&t.v(t.u,t.s),e!==de?e:void 0}function J(e,t,n){if(F(t))return t;var r=t[pe];if(!r)return T(t,(function(i,a){return X(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Y(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=L(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),T(a,(function(t,a){return X(e,r,i,t,a,n,o)})),Y(e,i,!1),n&&e.u&&B("Patches").N(r,n,e.u,e.s)}return r.o}function X(e,t,n,r,i,a,o){if(x(i)){var s=J(e,i,a&&t&&3!==t.i&&!I(t.R,r)?a.concat(r):void 0);if(N(n,r,s),!x(s))return;e.m=!1}else o&&n.add(i);if(S(i)&&!F(i)){if(!e.h.D&&e._<1)return;J(e,i),t&&t.A.l||Y(e,i)}}function Y(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&j(t,n)}function $(e,t){var n=e[pe];return(n?M(n):e)[t]}function Z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ee(e){e.P||(e.P=!0,e.l&&ee(e.l))}function te(e){e.o||(e.o=L(e.t))}function ne(e,t,n){var r=O(t)?B("MapSet").F(t,n):D(t)?B("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:V(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=be;n&&(i=[r],a=ke);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):B("ES5").J(t,n);return(n?n.A:V()).p.push(r),r}function re(e){return x(e)||C(22,e),function e(t){if(!S(t))return t;var n,r=t[pe],i=A(t);if(r){if(!r.P&&(r.i<4||!B("ES5").K(r)))return r.t;r.I=!0,n=ie(t,i),r.I=!1}else n=ie(t,i);return T(n,(function(t,i){r&&R(r.t,t)===i||N(n,t,e(i))})),3===i?new Set(n):n}(e)}function ie(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return L(e)}function ae(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[pe];return be.get(t,e)},set:function(t){var n=this[pe];be.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][pe];if(!i.P)switch(i.i){case 5:r(i)&&ee(i);break;case 4:n(i)&&ee(i)}}}function n(e){for(var t=e.t,n=e.k,r=me(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==pe){var o=t[a];if(void 0===o&&!I(t,a))return!0;var s=n[a],u=s&&s[pe];if(u?u.t!==o:!P(s,o))return!0}}var f=!!t[pe];return r.length!==me(t).length+(f?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};z("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ge(n);delete a[pe];for(var o=me(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:V(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,pe,{value:a,writable:!0}),i},S:function(e,n,i){i?x(n)&&n[pe].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[pe];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)T(a,(function(t){t!==pe&&(void 0!==i[t]||I(i,t)?o[t]||e(a[t]):(o[t]=!0,ee(n)))})),T(i,(function(e){void 0!==a[e]||I(a,e)||(o[e]=!1,ee(n))}));else if(5===s){if(r(n)&&(ee(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var f=i.length;f<a.length;f++)o[f]=!0;for(var c=Math.min(a.length,i.length),l=0;l<c;l++)a.hasOwnProperty(l)||(o[l]=!0),void 0===o[l]&&e(a[l])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){l=e}(i.useSyncExternalStoreWithSelector),function(e){e}(r.useSyncExternalStore),_=a.unstable_batchedUpdates,o=_;var oe,se,ue="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fe="undefined"!=typeof Map,ce="undefined"!=typeof Set,le="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,de=ue?Symbol.for("immer-nothing"):((oe={})["immer-nothing"]=!0,oe),he=ue?Symbol.for("immer-draftable"):"__$immer_draftable",pe=ue?Symbol.for("immer-state"):"__$immer_state",ve=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),me="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ge=Object.getOwnPropertyDescriptors||function(e){var t={};return me(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ye={},be={get:function(e,t){if(t===pe)return e;var n=M(e);if(!I(n,t))return function(e,t,n){var r,i=Z(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!S(r)?r:r===$(e.t,t)?(te(e),e.o[t]=ne(e.A.h,r,e)):r},has:function(e,t){return t in M(e)},ownKeys:function(e){return Reflect.ownKeys(M(e))},set:function(e,t,n){var r=Z(M(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=$(M(e),t),a=null==i?void 0:i[pe];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(P(n,i)&&(void 0!==n||I(e.t,t)))return!0;te(e),ee(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==$(e.t,t)||t in e.t?(e.R[t]=!1,te(e),ee(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=M(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){C(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){C(12)}},ke={};T(be,(function(e,t){ke[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ke.deleteProperty=function(e,t){return ke.set.call(this,e,t,void 0)},ke.set=function(e,t,n){return be.set.call(this,e[0],t,n,e[0])};var we=function(){function e(e){var t=this;this.g=le,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&C(6),void 0!==r&&"function"!=typeof r&&C(7),S(e)){var s=G(t),u=ne(t,e,void 0),f=!0;try{o=n(u),f=!1}finally{f?H(s):W(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return q(s,r),Q(e,s)}),(function(e){throw H(s),e})):(q(s,r),Q(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===de&&(o=void 0),t.D&&j(o,!0),r){var c=[],l=[];B("Patches").M(e,o,c,l),r(c,l)}return o}C(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){S(e)||C(8),x(e)&&(e=re(e));var t=G(this),n=ne(this,e,void 0);return n[pe].C=!0,W(t),n},t.finishDraft=function(e,t){var n=(e&&e[pe]).A;return q(n,t),Q(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!le&&C(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=B("Patches").$;return x(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),_e=new we,Ee=_e.produce,Ce=(_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseProxies.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e),Ee);function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Se(e){var t=function(e,t){if("object"!==xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xe(t)?t:String(t)}function Te(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oe={INIT:"@@redux/INIT"+Pe(),REPLACE:"@@redux/REPLACE"+Pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pe()}};function De(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Me(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Re(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Re(1));return n(Me)(e,t)}if("function"!==typeof e)throw new Error(Re(2));var i=e,a=t,o=[],s=o,u=!1;function f(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(Re(3));return a}function l(e){if("function"!==typeof e)throw new Error(Re(4));if(u)throw new Error(Re(5));var t=!0;return f(),s.push(e),function(){if(t){if(u)throw new Error(Re(6));t=!1,f();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!De(e))throw new Error(Re(7));if("undefined"===typeof e.type)throw new Error(Re(8));if(u)throw new Error(Re(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:Oe.INIT}),(r={dispatch:d,subscribe:l,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Re(10));i=e,d({type:Oe.REPLACE})}})[Ne]=function(){var e,t=l;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Re(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e},r}function Le(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Oe.INIT}))throw new Error(Re(12));if("undefined"===typeof n(void 0,{type:Oe.PROBE_UNKNOWN_ACTION()}))throw new Error(Re(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],f=n[u],c=e[u],l=f(c,t);if("undefined"===typeof l){t&&t.type;throw new Error(Re(14))}i[u]=l,r=r||l!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Re(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=je.apply(void 0,a)(n.dispatch),Ie(Ie({},n),{},{dispatch:r})}}}function Fe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Be=Fe();Be.withExtraArgument=Fe;var ze=Be,Ve=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},He=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},We=Object.defineProperty,Ge=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ye=function(e,t,n){return t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$e=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&Ye(e,n,t[n]);if(Qe)for(var r=0,i=Qe(t);r<i.length;r++){n=i[r];Xe.call(t,n)&&Ye(e,n,t[n])}return e},Ze=function(e,t){return Ge(e,Ke(t))},et=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},tt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?je:je.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function nt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var rt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ve(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,He([void 0],e[0].concat(this)))):new(t.bind.apply(t,He([void 0],e.concat(this))))},t}(Array);function it(e){return S(e)?Ce(e,(function(){})):e}function at(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new rt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ze.withExtraArgument(n.extraArgument)):r.push(ze));0;return r}(e)}}var ot=!0;function st(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return $e($e({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ut(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ft(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:it(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function f(){var t="function"===typeof e.extraReducers?ut(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],f=void 0===u?void 0:u,c=$e($e({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ut(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return it(e())};else{var f=it(e);i=function(){return f}}function c(e,t){void 0===e&&(e=i());var n=He([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(x(e))return void 0===(r=n(e,t))?e:r;if(S(e))return Ce(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}f&&e.addDefaultCase(f)}))}return a.forEach((function(e){var n,r,a=i[e],f=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[f]=n,u[e]=r?st(f,r):st(f)})),{name:t,reducer:function(e,t){return n||(n=f()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=f()),n.getInitialState()}}}var ct=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},lt=["name","message","stack","code"],dt=function(e,t){this.payload=e,this.meta=t},ht=function(e,t){this.payload=e,this.meta=t},pt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=lt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=st(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ze($e({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=st(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ze($e({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=st(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||pt)(e||"Rejected"),meta:Ze($e({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,f){var c,l=(null==n?void 0:n.idGenerator)?n.idGenerator(e):ct(),d=new o;function h(e){c=e,d.abort()}var p=function(){return et(this,null,(function(){var o,p,v,m,g,y;return qe(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:f}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(l,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:l,arg:e},{getState:u,extra:f}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:f,requestId:l,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new dt(e,t)},fulfillWithValue:function(e,t){return new ht(e,t)}})).then((function(t){if(t instanceof dt)throw t;return t instanceof ht?r(t.payload,l,e,t.meta):r(t,l,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof dt?a(null,l,e,y.payload,y.meta):a(y,l,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:h,requestId:l,arg:e,unwrap:function(){return p.then(vt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function vt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var mt="listenerMiddleware";st(mt+"/add"),st(mt+"/removeAll"),st(mt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var gt,yt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:yt(10);ae();var bt=ft({name:"user",initialState:{user:null},reducers:{setUser:function(e,t){e.user=t.payload},logOut:function(e,t){e.user=t.payload}}}),kt=bt.actions,wt=kt.setUser,_t=kt.logOut,Et=function(e){return e.user},Ct=bt.reducer,xt=ft({name:"users",initialState:{users:[]},reducers:{setUsers:function(e,t){e.users=t.payload}}}),St=xt.actions.setUsers,Tt=function(e){return e.users},At=xt.reducer,It=ft({name:"thread",initialState:{threads:[]},reducers:{setThreads:function(e,t){e.threads=t.payload}}}),Rt=It.actions.setThreads,Nt=It.reducer,Pt=ft({name:"choosedThread",initialState:{choosedThread:null,isSelected:!1},reducers:{setChoosedThread:function(e,t){e.choosedThread=t.payload,e.isSelected=!0},removeChoosedThread:function(e,t){e.choosedThread=t.payload,e.isSelected=!1}}}),Ot=Pt.actions,Dt=Ot.setChoosedThread,Mt=Ot.removeChoosedThread,Lt=function(e){return e.choosedThread},jt=Pt.reducer,Ut=ft({name:"currentMessages",initialState:{messages:[]},reducers:{setMessages:function(e,t){e.messages=t.payload}}}),Ft=Ut.actions.setMessages,Bt=function(e){return e.messages},zt=Ut.reducer,Vt=ft({name:"settings",initialState:{settings:!1},reducers:{setSettings:function(e,t){e.settings=t.payload}}}),qt=Vt.actions.setSettings,Ht=function(e){return e.settings},Wt=Vt.reducer,Gt=ft({name:"theme",initialState:{theme:"light"},reducers:{setTheme:function(e,t){e.theme=t.payload}}}),Kt=Gt.actions.setTheme,Qt=function(e){return e.theme},Jt=Gt.reducer,Xt=ft({name:"language",initialState:{language:"ru"},reducers:{setLanguage:function(e,t){e.language=t.payload}}}),Yt=Xt.actions.setLanguage,$t=function(e){return e.language},Zt=function(e){var t,n=at(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,f=void 0===u||u,c=r.preloadedState,l=void 0===c?void 0:c,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!nt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Le(a)}var p=s;if("function"===typeof p&&(p=p(n),!ot&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!ot&&p.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=Ue.apply(void 0,p),m=je;f&&(m=tt($e({trace:!ot},"object"===typeof f&&f)));var g=[v];return Array.isArray(h)?g=He([v],h):"function"===typeof h&&(g=h(g)),Me(t,l,m.apply(void 0,g))}({reducer:Le({user:Ct,users:At,threads:Nt,choosedThread:jt,messages:zt,settings:Wt,theme:Jt,language:Xt.reducer})});function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){if(e){if("string"===typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,f=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){f=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return s}}(e,t)||tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(){rn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new x(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var l={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==xe(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(l).then((function(e){f.value=e,o(f)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,l;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function an(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(tS){return void n(tS)}s.done?t(u):Promise.resolve(u).then(r,i)}function on(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){an(a,r,i,o,s,"next",e)}function s(e){an(a,r,i,o,s,"throw",e)}o(void 0)}))}}function sn(e,t){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sn(e,t)}function un(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fn(e,t,n){return fn=un()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&sn(i,n.prototype),i},fn.apply(null,arguments)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function ln(){return ln="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ln.apply(this,arguments)}function dn(e){var t="function"===typeof Map?new Map:void 0;return dn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fn(e,arguments,cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),sn(n,e)},dn(e)}function hn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sn(e,t)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e){var t=un();return function(){var n,r=cn(e);if(t){var i=cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===xe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}(this,n)}}function gn(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function kn(e,t,n){return t&&bn(e.prototype,t),n&&bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var wn={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_n=function(e,t){if(!e)throw En(t)},En=function(e){return new Error("Firebase Database ("+wn.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},Cn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,f=u?e[i+2]:0,c=a>>2,l=(3&a)<<4|s>>4,d=(15&s)<<2|f>>6,h=63&f;u||(h=64,o||(d=64)),r.push(n[c],n[l],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Sn;var f=a<<2|o>>4;if(r.push(f),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Sn=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return kn(n)}(dn(Error)),Tn=function(e){var t=Cn(e);return xn.encodeByteArray(t,!0)},An=function(e){return Tn(e).replace(/\./g,"")},In=function(e){try{return xn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rn(e){return Nn(void 0,e)}function Nn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Nn(e[n],t[n]));return e}var Pn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},On=function(){try{return Pn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Messanger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&In(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Dn=function(e){var t,n;return null===(n=null===(t=On())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Mn=function(e){var t=Dn(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Ln=function(){var e;return null===(e=On())||void 0===e?void 0:e.config},jn=function(e){var t;return null===(t=On())||void 0===t?void 0:t["_".concat(e)]},Un=function(){function e(){var t=this;yn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return kn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Fn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[An(JSON.stringify({alg:"none",type:"JWT"})),An(JSON.stringify(a)),""].join(".")}function Bn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function zn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function Vn(){var e,t=null===(e=On())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function qn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Hn(){return!0===wn.NODE_CLIENT||!0===wn.NODE_ADMIN}function Wn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Gn="FirebaseError",Kn=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a;return yn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=Gn,Object.setPrototypeOf(vn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(vn(a),Qn.prototype.create),a}return kn(n)}(dn(Error)),Qn=function(){function e(t,n,r){yn(this,e),this.service=t,this.serviceName=n,this.errors=r}return kn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Jn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Kn(n,a,t)}}]),e}();var Jn=/\{\$([^}]+)}/g;function Xn(e){return JSON.parse(e)}function Yn(e){return JSON.stringify(e)}var $n=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Xn(In(a[0])||""),n=Xn(In(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function tr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function rr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ir(s)&&ir(u)){if(!rr(s,u))return!1}else if(s!==u)return!1}for(var f=0,c=r;f<c.length;f++){var l=c[f];if(!n.includes(l))return!1}return!0}function ir(e){return null!==e&&"object"===typeof e}function ar(e){for(var t=[],n=function(){var e=nn(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function or(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=nn(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function sr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ur=function(){function e(){yn(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return kn(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,f=this.chain_[0],c=this.chain_[1],l=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=d^c&(l^d),u=1518500249):(s=c^l^d,u=1859775393):p<60?(s=c&l|d&(c|l),u=2400959708):(s=c^l^d,u=3395469782);var v=(f<<5|f>>>27)+s+h+u+n[p]&4294967295;h=d,d=l,l=4294967295&(c<<30|c>>>2),c=f,f=v}this.chain_[0]=this.chain_[0]+f&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var fr=function(){function e(t,n){var r=this;yn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return kn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=hn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=cr),void 0===r.error&&(r.error=cr),void 0===r.complete&&(r.complete=cr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function cr(){}function lr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var dr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function hr(e){return e&&e._delegate?e._delegate:e}var pr=function(){function e(t,n,r){yn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return kn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vr="[DEFAULT]",mr=function(){function e(t,n){yn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return kn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Un;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch(u){}var t,n=hn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=nn(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(gn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),gn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=hn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=nn(i.value,2),u=s[0],f=s[1];r===this.normalizeInstanceIdentifier(u)&&f.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr;return this.component?this.component.multipleInstances?e:vr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var gr,yr,br=function(){function e(t){yn(this,e),this.name=t,this.providers=new Map}return kn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new mr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),kr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yr||(yr={}));var wr={debug:yr.DEBUG,verbose:yr.VERBOSE,info:yr.INFO,warn:yr.WARN,error:yr.ERROR,silent:yr.SILENT},_r=yr.INFO,Er=(Te(gr={},yr.DEBUG,"log"),Te(gr,yr.VERBOSE,"log"),Te(gr,yr.INFO,"info"),Te(gr,yr.WARN,"warn"),Te(gr,yr.ERROR,"error"),gr),Cr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Er[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xr=function(){function e(t){yn(this,e),this.name=t,this._logLevel=_r,this._logHandler=Cr,this._userLogHandler=null,kr.push(this)}return kn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yr.DEBUG].concat(t)),this._logHandler.apply(this,[this,yr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yr.INFO].concat(t)),this._logHandler.apply(this,[this,yr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yr.WARN].concat(t)),this._logHandler.apply(this,[this,yr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yr.ERROR].concat(t)),this._logHandler.apply(this,[this,yr.ERROR].concat(t))}}]),e}();var Sr,Tr,Ar=function(e,t){return t.some((function(t){return e instanceof t}))};var Ir=new WeakMap,Rr=new WeakMap,Nr=new WeakMap,Pr=new WeakMap,Or=new WeakMap;var Dr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Mr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tr||(Tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ur(this),n),jr(Ir.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jr(e.apply(Ur(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ur(this),t].concat(r));return Nr.set(a,t.sort?t.sort():[t]),jr(a)}}function Lr(e){return"function"===typeof e?Mr(e):(e instanceof IDBTransaction&&function(e){if(!Rr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Rr.set(e,t)}}(e),Ar(e,Sr||(Sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Dr):e)}function jr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(jr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ir.set(t,e)})).catch((function(){})),Or.set(t,e),t}(e);if(Pr.has(e))return Pr.get(e);var t=Lr(e);return t!==e&&(Pr.set(e,t),Or.set(t,e)),t}var Ur=function(e){return Or.get(e)};var Fr,Br,zr=["get","getKey","getAll","getAllKeys","count"],Vr=["put","add","delete","clear"],qr=new Map;function Hr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(qr.get(t))return qr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Vr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||zr.includes(n))){var a=function(){var e=on(rn().mark((function e(t){var a,o,s,u,f,c,l=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=l.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=l[c];return r&&(s=s.index(f.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,f),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return qr.set(t,a),a}}}Dr=function(e){return Ie(Ie({},e),{},{get:function(t,n,r){return Hr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Hr(t,n)||e.has(t,n)}})}(Dr);var Wr=function(){function e(t){yn(this,e),this.container=t}return kn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Gr="@firebase/app",Kr="0.9.4",Qr=new xr("@firebase/app"),Jr="[DEFAULT]",Xr=(Te(Fr={},Gr,"fire-core"),Te(Fr,"@firebase/app-compat","fire-core-compat"),Te(Fr,"@firebase/analytics","fire-analytics"),Te(Fr,"@firebase/analytics-compat","fire-analytics-compat"),Te(Fr,"@firebase/app-check","fire-app-check"),Te(Fr,"@firebase/app-check-compat","fire-app-check-compat"),Te(Fr,"@firebase/auth","fire-auth"),Te(Fr,"@firebase/auth-compat","fire-auth-compat"),Te(Fr,"@firebase/database","fire-rtdb"),Te(Fr,"@firebase/database-compat","fire-rtdb-compat"),Te(Fr,"@firebase/functions","fire-fn"),Te(Fr,"@firebase/functions-compat","fire-fn-compat"),Te(Fr,"@firebase/installations","fire-iid"),Te(Fr,"@firebase/installations-compat","fire-iid-compat"),Te(Fr,"@firebase/messaging","fire-fcm"),Te(Fr,"@firebase/messaging-compat","fire-fcm-compat"),Te(Fr,"@firebase/performance","fire-perf"),Te(Fr,"@firebase/performance-compat","fire-perf-compat"),Te(Fr,"@firebase/remote-config","fire-rc"),Te(Fr,"@firebase/remote-config-compat","fire-rc-compat"),Te(Fr,"@firebase/storage","fire-gcs"),Te(Fr,"@firebase/storage-compat","fire-gcs-compat"),Te(Fr,"@firebase/firestore","fire-fst"),Te(Fr,"@firebase/firestore-compat","fire-fst-compat"),Te(Fr,"fire-js","fire-js"),Te(Fr,"firebase","fire-js-all"),Fr),Yr=new Map,$r=new Map;function Zr(e,t){try{e.container.addComponent(t)}catch(n){Qr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ei(e){var t=e.name;if($r.has(t))return Qr.debug("There were multiple attempts to register component ".concat(t,".")),!1;$r.set(t,e);var n,r=hn(Yr.values());try{for(r.s();!(n=r.n()).done;){Zr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ti(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ni=(Te(Br={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Te(Br,"bad-app-name","Illegal App name: '{$appName}"),Te(Br,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Te(Br,"app-deleted","Firebase App named '{$appName}' already deleted"),Te(Br,"no-options","Need to provide options, when not being deployed to hosting via source."),Te(Br,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Te(Br,"invalid-log-argument","First argument to `onLog` must be null or a function."),Te(Br,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Te(Br,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Te(Br,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Te(Br,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Br),ri=new Qn("app","Firebase",ni),ii=function(){function e(t,n,r){var i=this;yn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pr("app",(function(){return i}),"PUBLIC"))}return kn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}]),e}(),ai="9.17.2";function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Jr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=Ln()),!n)throw ri.create("no-options");var a=Yr.get(i);if(a){if(rr(n,a.options)&&rr(r,a.config))return a;throw ri.create("duplicate-app",{appName:i})}var o,s=new br(i),u=hn($r.values());try{for(u.s();!(o=u.n()).done;){var f=o.value;s.addComponent(f)}}catch(l){u.e(l)}finally{u.f()}var c=new ii(n,r,s);return Yr.set(i,c),c}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=Yr.get(e);if(!t&&e===Jr)return oi();if(!t)throw ri.create("no-app",{appName:e});return t}function ui(e,t,n){var r,i=null!==(r=Xr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qr.warn(s.join(" "))}ei(new pr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var fi="firebase-heartbeat-database",ci=1,li="firebase-heartbeat-store",di=null;function hi(){return di||(di=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=jr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(jr(s.result),e.oldVersion,e.newVersion,jr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(fi,ci,{upgrade:function(e,t){if(0===t)e.createObjectStore(li)}}).catch((function(e){throw ri.create("idb-open",{originalErrorMessage:e.message})}))),di}function pi(e){return vi.apply(this,arguments)}function vi(){return vi=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hi();case 3:return n=e.sent,e.abrupt("return",n.transaction(li).objectStore(li).get(yi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Kn?Qr.warn(e.t0.message):(r=ri.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Qr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),vi.apply(this,arguments)}function mi(e,t){return gi.apply(this,arguments)}function gi(){return gi=on(rn().mark((function e(t,n){var r,i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hi();case 3:return r=e.sent,i=r.transaction(li,"readwrite"),a=i.objectStore(li),e.next=8,a.put(n,yi(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Kn?Qr.warn(e.t0.message):(o=ri.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Qr.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),gi.apply(this,arguments)}function yi(e){return"".concat(e.name,"!").concat(e.options.appId)}var bi=1024,ki=function(){function e(t){var n=this;yn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ci(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return kn(e,[{key:"triggerHeartbeat",value:function(){var e=on(rn().mark((function e(){var t,n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=on(rn().mark((function e(){var t,n,r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wi(),n=_i(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=An(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wi(){return(new Date).toISOString().substring(0,10)}function _i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bi,r=[],i=e.slice(),a=hn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ei,Ci=function(){function e(t){yn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return kn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(tS){t(tS)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,pi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(gn(r.heartbeats),gn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xi(e){return An(JSON.stringify({version:2,heartbeats:e})).length}Ei="",ei(new pr("platform-logger",(function(e){return new Wr(e)}),"PRIVATE")),ei(new pr("heartbeat",(function(e){return new ki(e)}),"PRIVATE")),ui(Gr,Kr,Ei),ui(Gr,Kr,"esm2017"),ui("fire-js","");var Si,Ti="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ai={},Ii=Ii||{},Ri=Ti||self;function Ni(){}function Pi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Oi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Di="closure_uid_"+(1e9*Math.random()>>>0),Mi=0;function Li(e,t,n){return e.call.apply(e.bind,arguments)}function ji(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ui(e,t,n){return(Ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Li:ji).apply(null,arguments)}function Fi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bi(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function zi(){this.s=this.s,this.o=this.o}zi.prototype.s=!1,zi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Di)&&e[Di]||(e[Di]=++Mi)}(this)},zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hi(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Pi(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Wi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wi.prototype.h=function(){this.defaultPrevented=!0};var Gi=function(){if(!Ri.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ri.addEventListener("test",Ni,t),Ri.removeEventListener("test",Ni,t)}catch(P){}return e}();function Ki(e){return/^[\s\xa0]*$/.test(e)}var Qi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ji(e,t){return e<t?-1:e>t?1:0}function Xi(){var e=Ri.navigator;return e&&(e=e.userAgent)?e:""}function Yi(e){return-1!=Xi().indexOf(e)}function $i(e){return $i[" "](e),e}$i[" "]=Ni;var Zi,ea=Yi("Opera"),ta=Yi("Trident")||Yi("MSIE"),na=Yi("Edge"),ra=na||ta,ia=Yi("Gecko")&&!(-1!=Xi().toLowerCase().indexOf("webkit")&&!Yi("Edge"))&&!(Yi("Trident")||Yi("MSIE"))&&!Yi("Edge"),aa=-1!=Xi().toLowerCase().indexOf("webkit")&&!Yi("Edge");function oa(){var e=Ri.document;return e?e.documentMode:void 0}e:{var sa="",ua=function(){var e=Xi();return ia?/rv:([^\);]+)(\)|;)/.exec(e):na?/Edge\/([\d\.]+)/.exec(e):ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):aa?/WebKit\/(\S+)/.exec(e):ea?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ua&&(sa=ua?ua[1]:""),ta){var fa=oa();if(null!=fa&&fa>parseFloat(sa)){Zi=String(fa);break e}}Zi=sa}var ca,la={};function da(){return function(e){var t=la;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Qi(String(Zi)).split("."),n=Qi("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ji(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ji(0==a[2].length,0==o[2].length)||Ji(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ri.document&&ta){var ha=oa();ca=ha||(parseInt(Zi,10)||void 0)}else ca=void 0;var pa=ca;function va(e,t){if(Wi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ia){e:{try{$i(t.nodeName);var i=!0;break e}catch(N){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ma[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&va.X.h.call(this)}}Bi(va,Wi);var ma={2:"touch",3:"pen",4:"mouse"};va.prototype.h=function(){va.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),ya=0;function ba(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ya,this.ba=this.ea=!1}function ka(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function wa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _a(e){var t={};for(var n in e)t[n]=e[n];return t}var Ea="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ca(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ea.length;a++)n=Ea[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xa(e){this.src=e,this.g={},this.h=0}function Sa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vi(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ka(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ta(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}xa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ta(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ba(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Aa="closure_lm_"+(1e6*Math.random()|0),Ia={};function Ra(e,t,n,r,i){if(r&&r.once)return Pa(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ra(e,t[a],n,r,i);return null}return n=Fa(n),e&&e[ga]?e.N(t,n,Oi(r)?!!r.capture:!!r,i):Na(e,t,n,!1,r,i)}function Na(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Oi(i)?!!i.capture:!!i,s=ja(e);if(s||(e[Aa]=s=new xa(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=La;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ma(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pa(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pa(e,t[a],n,r,i);return null}return n=Fa(n),e&&e[ga]?e.O(t,n,Oi(r)?!!r.capture:!!r,i):Na(e,t,n,!0,r,i)}function Oa(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Oa(e,t[a],n,r,i);else r=Oi(r)?!!r.capture:!!r,n=Fa(n),e&&e[ga]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ta(a=e.g[t],n,r,i))&&(ka(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ja(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ta(t,n,r,i)),(n=-1<e?t[e]:null)&&Da(n))}function Da(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ga])Sa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ma(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ja(t))?(Sa(n,e),0==n.h&&(n.src=null,t[Aa]=null)):ka(e)}}}function Ma(e){return e in Ia?Ia[e]:Ia[e]="on"+e}function La(e,t){if(e.ba)e=!0;else{t=new va(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Da(e),e=n.call(r,t)}return e}function ja(e){return(e=e[Aa])instanceof xa?e:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(e){return"function"===typeof e?e:(e[Ua]||(e[Ua]=function(t){return e.handleEvent(t)}),e[Ua])}function Ba(){zi.call(this),this.i=new xa(this),this.P=this,this.I=null}function za(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wi(t,e);else if(t instanceof Wi)t.target=t.target||e;else{var i=t;Ca(t=new Wi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Va(o,r,!0,t)&&i}if(i=Va(o=t.g=e,r,!0,t)&&i,i=Va(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Va(o=t.g=n[a],r,!1,t)&&i}function Va(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Sa(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Bi(Ba,zi),Ba.prototype[ga]=!0,Ba.prototype.removeEventListener=function(e,t,n,r){Oa(this,e,t,n,r)},Ba.prototype.M=function(){if(Ba.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ka(n[r]);delete t.g[e],t.h--}}this.I=null},Ba.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ba.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qa=Ri.JSON.stringify;function Ha(){var e=$a,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wa,Ga=function(){function e(){yn(this,e),this.h=this.g=null}return kn(e,[{key:"add",value:function(e,t){var n=Ka.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ka=new(function(){function e(t,n){yn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return kn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qa}),(function(e){return e.reset()})),Qa=function(){function e(){yn(this,e),this.next=this.g=this.h=null}return kn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ja(e){Ri.setTimeout((function(){throw e}),0)}function Xa(e,t){Wa||function(){var e=Ri.Promise.resolve(void 0);Wa=function(){e.then(Za)}}(),Ya||(Wa(),Ya=!0),$a.add(e,t)}var Ya=!1,$a=new Ga;function Za(){for(var e;e=Ha();){try{e.h.call(e.g)}catch(P){Ja(P)}var t=Ka;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ya=!1}function eo(e,t){Ba.call(this),this.h=e||1,this.g=t||Ri,this.j=Ui(this.lb,this),this.l=Date.now()}function to(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function no(e,t,n){if("function"===typeof e)n&&(e=Ui(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ui(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ri.setTimeout(e,t||0)}function ro(e){e.g=no((function(){e.g=null,e.i&&(e.i=!1,ro(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Bi(eo,Ba),(Si=eo.prototype).ca=!1,Si.R=null,Si.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),za(this,"tick"),this.ca&&(to(this),this.start()))}},Si.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Si.M=function(){eo.X.M.call(this),to(this),delete this.g};var io=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return kn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ro(this)}},{key:"M",value:function(){ln(cn(n.prototype),"M",this).call(this),this.g&&(Ri.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zi);function ao(e){zi.call(this),this.h=e,this.g={}}Bi(ao,zi);var oo=[];function so(e,t,n,r){Array.isArray(n)||(n&&(oo[0]=n.toString()),n=oo);for(var i=0;i<n.length;i++){var a=Ra(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function uo(e){wa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Da(e)}),e),e.g={}}function fo(){this.g=!0}function co(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return qa(n)}catch(C){return t}}(e,n)+(r?" "+r:"")}))}ao.prototype.M=function(){ao.X.M.call(this),uo(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fo.prototype.Aa=function(){this.g=!1},fo.prototype.info=function(){};var lo={},ho=null;function po(){return ho=ho||new Ba}function vo(e){Wi.call(this,lo.Pa,e)}function mo(e){var t=po();za(t,new vo(t))}function go(e,t){Wi.call(this,lo.STAT_EVENT,e),this.stat=t}function yo(e){var t=po();za(t,new go(t,e))}function bo(e,t){Wi.call(this,lo.Qa,e),this.size=t}function ko(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ri.setTimeout((function(){e()}),t)}lo.Pa="serverreachability",Bi(vo,Wi),lo.STAT_EVENT="statevent",Bi(go,Wi),lo.Qa="timingevent",Bi(bo,Wi);var wo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_o={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Eo(){}function Co(e){return e.h||(e.h=e.i())}function xo(){}Eo.prototype.h=null;var So,To={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ao(){Wi.call(this,"d")}function Io(){Wi.call(this,"c")}function Ro(){}function No(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ao(this),this.O=Oo,e=ra?125:void 0,this.T=new eo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Po}function Po(){this.i=null,this.g="",this.h=!1}Bi(Ao,Wi),Bi(Io,Wi),Bi(Ro,Eo),Ro.prototype.g=function(){return new XMLHttpRequest},Ro.prototype.i=function(){return{}},So=new Ro;var Oo=45e3,Do={},Mo={};function Lo(e,t,n){e.K=1,e.v=ts(Xo(t)),e.s=n,e.P=!0,jo(e,null)}function jo(e,t){e.F=Date.now(),zo(e),e.A=Xo(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ps(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Po,e.g=pu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new io(Ui(e.La,e,e.g),e.N)),so(e.S,e.g,"readystatechange",e.ib),t=e.H?_a(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),mo(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var f=s[u].split("=");if(1<f.length){var c=f[0];f=f[1];var l=c.split("_");o=2<=l.length&&"type"==l[1]?o+(c+"=")+f+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Uo(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Fo(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Bo(e,n))==Mo){4==t&&(e.o=4,yo(14),i=!1),co(e.j,e.m,null,"[Incomplete Response]");break}if(r==Do){e.o=4,yo(15),co(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}co(e.j,e.m,r,null),Go(e,r)}Uo(e)&&r!=Mo&&r!=Do&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ou(t),t.K=!0,yo(11))):(co(e.j,e.m,n,"[Invalid Chunked Response]"),Wo(e),Ho(e))}function Bo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mo:(n=Number(t.substring(n,r)),isNaN(n)?Do:(r+=1)+n>t.length?Mo:(t=t.substr(r,n),e.C=r+n,t))}function zo(e){e.V=Date.now()+e.O,Vo(e,e.O)}function Vo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ko(Ui(e.gb,e),t)}function qo(e){e.B&&(Ri.clearTimeout(e.B),e.B=null)}function Ho(e){0==e.l.G||e.I||fu(e.l,e)}function Wo(e){qo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,to(e.T),uo(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Go(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ws(n.h,e)))if(!e.J&&ws(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;uu(n),$s(n)}au(n),yo(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ko(Ui(n.cb,n),6e3));if(1>=ks(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else lu(n,11)}else if((e.J||n.g==e)&&uu(n),!Ki(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var f=e.g;if(f){var c=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=r.h;l.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(_s(l,l.h),l.h=null))}if(r.D){var d=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,es(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=hu(r,r.H?r.ka:null,r.V),h.J){Es(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(qo(p),zo(p)),r.g=h}else iu(r);0<n.i.length&&eu(n)}else"stop"!=a[0]&&"close"!=a[0]||lu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?lu(n,7):Ys(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}mo()}catch(a){}}function Ko(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Pi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Pi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Si=No.prototype).setTimeout=function(e){this.O=e},Si.ib=function(e){e=e.target;var t=this.L;t&&3==Ws(e)?t.l():this.La(e)},Si.La=function(e){try{if(e==this.g)e:{var t=Ws(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ra||this.g&&(this.h.h||this.g.fa()||Gs(this.g)))){this.I||4!=t||7==n||mo(),qo(this);var r=this.g.aa();this.Y=r;t:if(Uo(this)){var i=Gs(this.g);e="";var a=i.length,o=4==Ws(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wo(this),Ho(this);var s="";break t}this.h.i=new Ri.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ki(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,yo(12),Wo(this),Ho(this);break e}co(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Go(this,r)}this.P?(Fo(this,t,s),ra&&this.i&&3==t&&(so(this.S,this.T,"tick",this.hb),this.T.start())):(co(this.j,this.m,s,null),Go(this,s)),4==t&&Wo(this),this.i&&!this.I&&(4==t?fu(this.l,this):(this.i=!1,zo(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),Wo(this),Ho(this)}}}catch(t){}},Si.hb=function(){if(this.g){var e=Ws(this.g),t=this.g.fa();this.C<t.length&&(qo(this),Fo(this,e,t),this.i&&4!=e&&zo(this))}},Si.cancel=function(){this.I=!0,Wo(this)},Si.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(mo(),yo(17)),Wo(this),this.o=2,Ho(this)):Vo(this,this.V-e)};var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jo){this.h=void 0!==t?t:e.h,Yo(this,e.j),this.s=e.s,this.g=e.g,$o(this,e.m),this.l=e.l,t=e.i;var n=new cs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zo(this,n),this.o=e.o}else e&&(n=String(e).match(Qo))?(this.h=!!t,Yo(this,n[1]||"",!0),this.s=ns(n[2]||""),this.g=ns(n[3]||"",!0),$o(this,n[4]),this.l=ns(n[5]||"",!0),Zo(this,n[6]||"",!0),this.o=ns(n[7]||"")):(this.h=!!t,this.i=new cs(null,this.h))}function Xo(e){return new Jo(e)}function Yo(e,t,n){e.j=n?ns(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $o(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zo(e,t,n){t instanceof cs?(e.i=t,function(e,t){t&&!e.j&&(ls(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ds(this,t),ps(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=rs(t,us)),e.i=new cs(t,e.h))}function es(e,t,n){e.i.set(t,n)}function ts(e){return es(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ns(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,is),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function is(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rs(t,as,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rs(t,as,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(rs(n,"/"==n.charAt(0)?ss:os,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rs(n,fs)),e.join("")};var as=/[#\/\?@]/g,os=/[#\?:]/g,ss=/[#\?]/g,us=/[#\?@]/g,fs=/#/g;function cs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ls(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ds(e,t){ls(e),t=vs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function hs(e,t){return ls(e),t=vs(e,t),e.g.has(t)}function ps(e,t,n){ds(e,t),0<n.length&&(e.i=null,e.g.set(vs(e,t),qi(n)),e.h+=n.length)}function vs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Si=cs.prototype).add=function(e,t){ls(this),this.i=null,e=vs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Si.forEach=function(e,t){ls(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Si.oa=function(){ls(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Si.W=function(e){ls(this);var t=[];if("string"===typeof e)hs(this,e)&&(t=t.concat(this.g.get(vs(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Si.set=function(e,t){return ls(this),this.i=null,hs(this,e=vs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Si.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Si.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ms=kn((function e(t,n){yn(this,e),this.h=t,this.g=n}));function gs(e){this.l=e||ys,Ri.PerformanceNavigationTiming?e=0<(e=Ri.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ri.g&&Ri.g.Ga&&Ri.g.Ga()&&Ri.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ys=10;function bs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ks(e){return e.h?1:e.g?e.g.size:0}function ws(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _s(e,t){e.g?e.g.add(t):e.h=t}function Es(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cs(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=hn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return qi(e.i)}function xs(){}function Ss(){this.g=new xs}function Ts(e,t,n){var r=n||"";try{Ko(e,(function(e,n){var i=e;Oi(e)&&(i=qa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function As(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(N){}}function Is(e){this.l=e.ac||null,this.j=e.jb||!1}function Rs(e,t){Ba.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ns,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gs.prototype.cancel=function(){if(this.i=Cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=hn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xs.prototype.stringify=function(e){return Ri.JSON.stringify(e,void 0)},xs.prototype.parse=function(e){return Ri.JSON.parse(e,void 0)},Bi(Is,Eo),Is.prototype.g=function(){return new Rs(this.l,this.j)},Is.prototype.i=function(e){return function(){return e}}({}),Bi(Rs,Ba);var Ns=0;function Ps(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Os(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ds(e)}function Ds(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Si=Rs.prototype).open=function(e,t){if(this.readyState!=Ns)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ds(this)},Si.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ri).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Si.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Os(this)),this.readyState=Ns},Si.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ri.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ps(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Si.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Os(this):Ds(this),3==this.readyState&&Ps(this)}},Si.Va=function(e){this.g&&(this.response=this.responseText=e,Os(this))},Si.Ua=function(e){this.g&&(this.response=e,Os(this))},Si.ga=function(){this.g&&Os(this)},Si.setRequestHeader=function(e,t){this.v.append(e,t)},Si.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Si.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ms=Ri.JSON.parse;function Ls(e){Ba.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=js,this.K=this.L=!1}Bi(Ls,Ba);var js="",Us=/^https?$/i,Fs=["POST","PUT"];function Bs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zs(e),qs(e)}function zs(e){e.D||(e.D=!0,za(e,"complete"),za(e,"error"))}function Vs(e){if(e.h&&"undefined"!=typeof Ii&&(!e.C[1]||4!=Ws(e)||2!=e.aa()))if(e.v&&4==Ws(e))no(e.Ha,0,e);else if(za(e,"readystatechange"),4==Ws(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Qo)[1]||null;if(!a&&Ri.self&&Ri.self.location){var o=Ri.self.location.protocol;a=o.substr(0,o.length-1)}i=!Us.test(a?a.toLowerCase():"")}t=i}if(t)za(e,"complete"),za(e,"success");else{e.m=6;try{var s=2<Ws(e)?e.g.statusText:""}catch(I){s=""}e.j=s+" ["+e.aa()+"]",zs(e)}}finally{qs(e)}}}function qs(e,t){if(e.g){Hs(e);var n=e.g,r=e.C[0]?Ni:null;e.g=null,e.C=null,t||za(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Hs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ri.clearTimeout(e.A),e.A=null)}function Ws(e){return e.g?e.g.readyState:0}function Gs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case js:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(B){return null}}function Ks(e){var t="";return wa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ks(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):es(e,t,n))}function Js(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xs(e){this.Ca=0,this.i=[],this.j=new fo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Js("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Js("baseRetryDelayMs",5e3,e),this.bb=Js("retryDelaySeedMs",1e4,e),this.$a=Js("forwardChannelMaxRetries",2,e),this.ta=Js("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new gs(e&&e.concurrentRequestLimit),this.Fa=new Ss,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ys(e){if(Zs(e),3==e.G){var t=e.U++,n=Xo(e.F);es(n,"SID",e.I),es(n,"RID",t),es(n,"TYPE","terminate"),nu(e,n),(t=new No(e,e.j,t,void 0)).K=2,t.v=ts(Xo(n)),n=!1,Ri.navigator&&Ri.navigator.sendBeacon&&(n=Ri.navigator.sendBeacon(t.v.toString(),"")),!n&&Ri.Image&&((new Image).src=t.v,n=!0),n||(t.g=pu(t.l,null),t.g.da(t.v)),t.F=Date.now(),zo(t)}du(e)}function $s(e){e.g&&(ou(e),e.g.cancel(),e.g=null)}function Zs(e){$s(e),e.u&&(Ri.clearTimeout(e.u),e.u=null),uu(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ri.clearTimeout(e.m),e.m=null)}function eu(e){bs(e.h)||e.m||(e.m=!0,Xa(e.Ja,e),e.C=0)}function tu(e,t){var n;n=t?t.m:e.U++;var r=Xo(e.F);es(r,"SID",e.I),es(r,"RID",n),es(r,"AID",e.T),nu(e,r),e.o&&e.s&&Qs(r,e.o,e.s),n=new No(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ru(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),_s(e.h,n),Lo(n,r,t)}function nu(e,t){e.ia&&wa(e.ia,(function(e,n){es(t,n,e)})),e.l&&Ko({},(function(e,n){es(t,n,e)}))}function ru(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ui(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var f=i[u].h,c=i[u].g;if(0>(f-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ts(c,o,"req"+f+"_")}catch(ae){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function iu(e){e.g||e.u||(e.Z=1,Xa(e.Ia,e),e.A=0)}function au(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ko(Ui(e.Ia,e),cu(e,e.A)),e.A++,!0)}function ou(e){null!=e.B&&(Ri.clearTimeout(e.B),e.B=null)}function su(e){e.g=new No(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Xo(e.sa);es(t,"RID","rpc"),es(t,"SID",e.I),es(t,"CI",e.L?"0":"1"),es(t,"AID",e.T),es(t,"TYPE","xmlhttp"),nu(e,t),e.o&&e.s&&Qs(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=ts(Xo(t)),n.s=null,n.P=!0,jo(n,e)}function uu(e){null!=e.v&&(Ri.clearTimeout(e.v),e.v=null)}function fu(e,t){var n=null;if(e.g==t){uu(e),ou(e),e.g=null;var r=2}else{if(!ws(e.h,t))return;n=t.D,Es(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;za(r=po(),new bo(r,n)),eu(e)}else iu(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ks(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ko(Ui(e.Ja,e,t),cu(e,e.C)),e.C++,!0))}(e,t)||2==r&&au(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:lu(e,5);break;case 4:lu(e,10);break;case 3:lu(e,6);break;default:lu(e,2)}}function cu(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function lu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ui(e.kb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),Ri.location&&"http"==Ri.location.protocol||Yo(n,"https"),ts(n)),function(e,t){var n=new fo;if(Ri.Image){var r=new Image;r.onload=Fi(As,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fi(As,n,r,"TestLoadImage: error",!1,t),r.onabort=Fi(As,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fi(As,n,r,"TestLoadImage: timeout",!1,t),Ri.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yo(2);e.G=0,e.l&&e.l.va(t),du(e),Zs(e)}function du(e){if(e.G=0,e.la=[],e.l){var t=Cs(e.h);0==t.length&&0==e.i.length||(Hi(e.la,t),Hi(e.la,e.i),e.h.i.length=0,qi(e.i),e.i.length=0),e.l.ua()}}function hu(e,t,n){var r=n instanceof Jo?Xo(n):new Jo(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),$o(r,r.m);else{var i=Ri.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Jo(null,void 0);r&&Yo(a,r),t&&(a.g=t),i&&$o(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&es(r,n,t),es(r,"VER",e.ma),nu(e,r),r}function pu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ls(new Is({jb:!0})):new Ls(e.ra)).Ka(e.H),t}function vu(){}function mu(){if(ta&&!(10<=Number(pa)))throw Error("Environmental error: no available transport.")}function gu(e,t){Ba.call(this),this.g=new Xs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ki(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ki(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ku(this)}function yu(e){Ao.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bu(){Io.call(this),this.status=1}function ku(e){this.g=e}(Si=Ls.prototype).Ka=function(e){this.L=e},Si.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():So.g(),this.C=this.u?Co(this.u):Co(So),this.g.onreadystatechange=Ui(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Bs(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=hn(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ri.FormData&&e instanceof Ri.FormData,!(0<=Vi(Fs,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,f=hn(n);try{for(f.s();!(u=f.n()).done;){var c=nn(u.value,2),l=c[0],d=c[1];this.g.setRequestHeader(l,d)}}catch(h){f.e(h)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hs(this),0<this.B&&((this.K=function(e){return ta&&da()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ui(this.qa,this)):this.A=no(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Bs(this,s)}},Si.qa=function(){"undefined"!=typeof Ii&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,za(this,"timeout"),this.abort(8))},Si.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,za(this,"complete"),za(this,"abort"),qs(this))},Si.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qs(this,!0)),Ls.X.M.call(this)},Si.Ha=function(){this.s||(this.F||this.v||this.l?Vs(this):this.fb())},Si.fb=function(){Vs(this)},Si.aa=function(){try{return 2<Ws(this)?this.g.status:-1}catch(R){return-1}},Si.fa=function(){try{return this.g?this.g.responseText:""}catch(R){return""}},Si.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ms(t)}},Si.Ea=function(){return this.m},Si.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Si=Xs.prototype).ma=8,Si.G=1,Si.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new No(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Ca(n=_a(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ru(this,t,r),es(i=Xo(this.F),"RID",e),es(i,"CVER",22),this.D&&es(i,"X-HTTP-Session-Id",this.D),nu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ks(n)))+"&"+r:this.o&&Qs(i,this.o,n)),_s(this.h,t),this.Ya&&es(i,"TYPE","init"),this.O?(es(i,"$req",r),es(i,"SID","null"),t.Z=!0,Lo(t,i,null)):Lo(t,i,r),this.G=2}}else 3==this.G&&(e?tu(this,e):0==this.i.length||bs(this.h)||tu(this))},Si.Ia=function(){if(this.u=null,su(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ko(Ui(this.eb,this),e)}},Si.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yo(10),$s(this),su(this))},Si.cb=function(){null!=this.v&&(this.v=null,$s(this),au(this),yo(19))},Si.kb=function(e){e?(this.j.info("Successfully pinged google.com"),yo(2)):(this.j.info("Failed to ping google.com"),yo(1))},(Si=vu.prototype).xa=function(){},Si.wa=function(){},Si.va=function(){},Si.ua=function(){},Si.Ra=function(){},mu.prototype.g=function(e,t){return new gu(e,t)},Bi(gu,Ba),gu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;yo(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=hu(e,null,e.V),eu(e)},gu.prototype.close=function(){Ys(this.g)},gu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=qa(e),e=n);t.i.push(new ms(t.ab++,e)),3==t.G&&eu(t)},gu.prototype.M=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,gu.X.M.call(this)},Bi(yu,Ao),Bi(bu,Io),Bi(ku,vu),ku.prototype.xa=function(){za(this.g,"a")},ku.prototype.wa=function(e){za(this.g,new yu(e))},ku.prototype.va=function(e){za(this.g,new bu)},ku.prototype.ua=function(){za(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,gu.prototype.send=gu.prototype.u,gu.prototype.open=gu.prototype.m,gu.prototype.close=gu.prototype.close,wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,_o.COMPLETE="complete",xo.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",Ba.prototype.listen=Ba.prototype.N,Ls.prototype.listenOnce=Ls.prototype.O,Ls.prototype.getLastError=Ls.prototype.Oa,Ls.prototype.getLastErrorCode=Ls.prototype.Ea,Ls.prototype.getStatus=Ls.prototype.aa,Ls.prototype.getResponseJson=Ls.prototype.Sa,Ls.prototype.getResponseText=Ls.prototype.fa,Ls.prototype.send=Ls.prototype.da,Ls.prototype.setWithCredentials=Ls.prototype.Ka;var wu=Ai.createWebChannelTransport=function(){return new mu},_u=Ai.getStatEventTarget=function(){return po()},Eu=Ai.ErrorCode=wo,Cu=Ai.EventType=_o,xu=Ai.Event=lo,Su=Ai.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Tu=Ai.FetchXmlHttpFactory=Is,Au=Ai.WebChannel=xo,Iu=Ai.XhrIo=Ls,Ru="@firebase/firestore",Nu=function(){function e(t){yn(this,e),this.uid=t}return kn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Nu.UNAUTHENTICATED=new Nu(null),Nu.GOOGLE_CREDENTIALS=new Nu("google-credentials-uid"),Nu.FIRST_PARTY=new Nu("first-party-uid"),Nu.MOCK_USER=new Nu("mock-user");var Pu="9.17.2",Ou=new xr("@firebase/firestore");function Du(){return Ou.logLevel}function Mu(e){if(Ou.logLevel<=yr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uu);Ou.debug.apply(Ou,["Firestore (".concat(Pu,"): ").concat(e)].concat(gn(i)))}}function Lu(e){if(Ou.logLevel<=yr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uu);Ou.error.apply(Ou,["Firestore (".concat(Pu,"): ").concat(e)].concat(gn(i)))}}function ju(e){if(Ou.logLevel<=yr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uu);Ou.warn.apply(Ou,["Firestore (".concat(Pu,"): ").concat(e)].concat(gn(i)))}}function Uu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Pu,") INTERNAL ASSERTION FAILED: ")+e;throw Lu(t),new Error(t)}function Bu(e,t){e||Fu()}function zu(e,t){return e}var Vu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qu=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return kn(n)}(Kn),Hu=kn((function e(){var t=this;yn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wu=kn((function e(t,n){yn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Gu=function(){function e(){yn(this,e)}return kn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ku=function(){function e(t){yn(this,e),this.token=t,this.changeListener=null}return kn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Qu=function(){function e(t){yn(this,e),this.t=t,this.currentUser=Nu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return kn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Mu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Mu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Mu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bu("string"==typeof n.accessToken),new Wu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Bu(null===e||"string"==typeof e),new Nu(e)}}]),e}(),Ju=function(){function e(t,n,r,i){yn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Nu.FIRST_PARTY,this.p=new Map}return kn(e,[{key:"I",value:function(){return this.g?this.g():(Bu(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Xu=function(){function e(t,n,r,i){yn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return kn(e,[{key:"getToken",value:function(){return Promise.resolve(new Ju(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Yu=kn((function e(t){yn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$u=function(){function e(t){yn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return kn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Mu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Mu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Mu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Mu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Bu("string"==typeof t.token),e.A=t.token,new Yu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Zu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ef=function(){function e(){yn(this,e)}return kn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Zu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function tf(e,t){return e<t?-1:e>t?1:0}function nf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var rf=function(){function e(t,n){if(yn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new qu(Vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qu(Vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new qu(Vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qu(Vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return kn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?tf(this.nanoseconds,e.nanoseconds):tf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),af=function(){function e(t){yn(this,e),this.timestamp=t}return kn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rf(0,0))}},{key:"max",value:function(){return new e(new rf(253402300799,999999999))}}]),e}(),of=function(){function e(t,n,r){yn(this,e),void 0===n?n=0:n>t.length&&Fu(),void 0===r?r=t.length-n:r>t.length-n&&Fu(),this.segments=t,this.offset=n,this.len=r}return kn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sf=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new qu(Vu.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,gn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(of),uf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ff=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return uf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new qu(Vu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new qu(Vu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qu(Vu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new qu(Vu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(of),cf=function(){function e(t){yn(this,e),this.path=t}return kn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===sf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sf.fromString(t))}},{key:"fromName",value:function(t){return new e(sf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(sf.emptyPath())}},{key:"comparator",value:function(e,t){return sf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sf(t.slice()))}}]),e}(),lf=kn((function e(t,n,r,i){yn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));lf.UNKNOWN_ID=-1;function df(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=af.fromTimestamp(1e9===r?new rf(n+1,0):new rf(n,r));return new pf(i,cf.empty(),t)}function hf(e){return new pf(e.readTime,e.key,-1)}var pf=function(){function e(t,n,r){yn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return kn(e,null,[{key:"min",value:function(){return new e(af.min(),cf.empty(),-1)}},{key:"max",value:function(){return new e(af.max(),cf.empty(),-1)}}]),e}();function vf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cf.comparator(e.documentKey,t.documentKey))?n:tf(e.largestBatchId,t.largestBatchId)}var mf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gf=function(){function e(){yn(this,e),this.onCommittedListeners=[]}return kn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yf(e){return bf.apply(this,arguments)}function bf(){return bf=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vu.FAILED_PRECONDITION&&t.message===mf){e.next=2;break}throw t;case 2:Mu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}var kf=function(){function e(t){var n=this;yn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return kn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Fu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=hn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function wf(e){return"IndexedDbTransactionError"===e.name}var _f=function(){function e(t,n){var r=this;yn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return kn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();_f.at=-1;var Ef=kn((function e(t,n,r,i,a,o,s,u){yn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Cf=function(){function e(t,n){yn(this,e),this.projectId=t,this.database=n||"(default)"}return kn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function xf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Af(e){return null==e}function If(e){return 0===e&&1/e==-1/0}function Rf(e){return"number"==typeof e&&Number.isInteger(e)&&!If(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Nf=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return kn(n)}(dn(Error));var Pf=function(e){function t(e){yn(this,t),this.binaryString=e}return kn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return tf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new Nf("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Pf.EMPTY_BYTE_STRING=new Pf("");var Of=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Df(e){if(Bu(!!e),"string"==typeof e){var t=0,n=Of.exec(e);if(Bu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mf(e.seconds),nanos:Mf(e.nanos)}}function Mf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Lf(e){return"string"==typeof e?Pf.fromBase64String(e):Pf.fromUint8Array(e)}function jf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uf(e){var t=e.mapValue.fields.__previous_value__;return jf(t)?Uf(t):t}function Ff(e){var t=Df(e.mapValue.fields.__local_write_time__.timestampValue);return new rf(t.seconds,t.nanos)}var Bf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jf(e)?4:tc(e)?9007199254740991:10:Fu()}function Vf(e,t){if(e===t)return!0;var n=zf(e);if(n!==zf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ff(e).isEqual(Ff(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Df(e.timestampValue),r=Df(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Lf(e.bytesValue).isEqual(Lf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mf(e.geoPointValue.latitude)===Mf(t.geoPointValue.latitude)&&Mf(e.geoPointValue.longitude)===Mf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mf(e.integerValue)===Mf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Mf(e.doubleValue),r=Mf(t.doubleValue);return n===r?If(n)===If(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nf(e.arrayValue.values||[],t.arrayValue.values||[],Vf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xf(n)!==xf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vf(n[i],r[i])))return!1;return!0}(e,t);default:return Fu()}}function qf(e,t){return void 0!==(e.values||[]).find((function(e){return Vf(e,t)}))}function Hf(e,t){if(e===t)return 0;var n=zf(e),r=zf(t);if(n!==r)return tf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Mf(e.integerValue||e.doubleValue),r=Mf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wf(e.timestampValue,t.timestampValue);case 4:return Wf(Ff(e),Ff(t));case 5:return tf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Lf(e),r=Lf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=tf(n[i],r[i]);if(0!==a)return a}return tf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=tf(Mf(e.latitude),Mf(t.latitude));return 0!==n?n:tf(Mf(e.longitude),Mf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hf(n[i],r[i]);if(a)return a}return tf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bf.mapValue&&t===Bf.mapValue)return 0;if(e===Bf.mapValue)return 1;if(t===Bf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=tf(r[o],a[o]);if(0!==s)return s;var u=Hf(n[r[o]],i[a[o]]);if(0!==u)return u}return tf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Fu()}}function Wf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tf(e,t);var n=Df(e),r=Df(t),i=tf(n.seconds,r.seconds);return 0!==i?i:tf(n.nanos,r.nanos)}function Gf(e){return Kf(e)}function Kf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Df(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Lf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=hn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=hn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Fu();var t,n}function Qf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Jf(e){return!!e&&"integerValue"in e}function Xf(e){return!!e&&"arrayValue"in e}function Yf(e){return!!e&&"nullValue"in e}function $f(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zf(e){return!!e&&"mapValue"in e}function ec(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Sf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ec(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ec(e.arrayValue.values[r]);return n}return Object.assign({},e)}function tc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var nc=kn((function e(t,n){yn(this,e),this.position=t,this.inclusive=n}));function rc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cf.comparator(cf.fromName(o.referenceValue),n.key):Hf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ic(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vf(e.position[n],t.position[n]))return!1;return!0}var ac=kn((function e(){yn(this,e)})),oc=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a;return yn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return kn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hf(t,this.value)):null!==t&&zf(this.value)===zf(t)&&this.matchesComparison(Hf(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pc(e,t,r):"array-contains"===t?new yc(e,r):"in"===t?new bc(e,r):"not-in"===t?new kc(e,r):"array-contains-any"===t?new wc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new vc(e,n):new mc(e,n)}}]),n}(ac),sc=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return kn(n,[{key:"matches",value:function(e){return uc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=hn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ac);function uc(e){return"and"===e.op}function fc(e){return cc(e)&&uc(e)}function cc(e){var t,n=hn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof sc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function lc(e){if(e instanceof oc)return e.field.canonicalString()+e.op.toString()+Gf(e.value);if(fc(e))return e.filters.map((function(e){return lc(e)})).join(",");var t=e.filters.map((function(e){return lc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function dc(e,t){return e instanceof oc?function(e,t){return t instanceof oc&&e.op===t.op&&e.field.isEqual(t.field)&&Vf(e.value,t.value)}(e,t):e instanceof sc?function(e,t){return t instanceof sc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&dc(n,t.filters[r])}),!0)}(e,t):void Fu()}function hc(e){return e instanceof oc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gf(e.value))}(e):e instanceof sc?function(e){return e.op.toString()+" {"+e.getFilters().map(hc).join(" ,")+"}"}(e):"Filter"}var pc=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a;return yn(this,n),(a=t.call(this,e,r,i)).key=cf.fromName(i.referenceValue),a}return kn(n,[{key:"matches",value:function(e){var t=cf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(oc),vc=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this,e,"in",r)).keys=gc("in",r),i}return kn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oc),mc=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this,e,"not-in",r)).keys=gc("not-in",r),i}return kn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oc);function gc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cf.fromName(e.referenceValue)}))}var yc=function(e){pn(n,e);var t=mn(n);function n(e,r){return yn(this,n),t.call(this,e,"array-contains",r)}return kn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xf(t)&&qf(t.arrayValue,this.value)}}]),n}(oc),bc=function(e){pn(n,e);var t=mn(n);function n(e,r){return yn(this,n),t.call(this,e,"in",r)}return kn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&qf(this.value.arrayValue,t)}}]),n}(oc),kc=function(e){pn(n,e);var t=mn(n);function n(e,r){return yn(this,n),t.call(this,e,"not-in",r)}return kn(n,[{key:"matches",value:function(e){if(qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!qf(this.value.arrayValue,t)}}]),n}(oc),wc=function(e){pn(n,e);var t=mn(n);function n(e,r){return yn(this,n),t.call(this,e,"array-contains-any",r)}return kn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return qf(t.value.arrayValue,e)}))}}]),n}(oc),_c=kn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";yn(this,e),this.field=t,this.dir=n}));function Ec(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Cc=function(){function e(t,n){yn(this,e),this.comparator=t,this.root=n||Sc.EMPTY}return kn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xc(this.root,e,this.comparator,!0)}}]),e}(),xc=function(){function e(t,n,r,i){yn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return kn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sc=function(){function e(t,n,r,i,a){yn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return kn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Fu();if(this.right.isRed())throw Fu();var e=this.left.check();if(e!==this.right.check())throw Fu();return e+(this.isRed()?0:1)}}]),e}();Sc.EMPTY=null,Sc.RED=!0,Sc.BLACK=!1,Sc.EMPTY=new(function(){function e(){yn(this,e),this.size=0}return kn(e,[{key:"key",get:function(){throw Fu()}},{key:"value",get:function(){throw Fu()}},{key:"color",get:function(){throw Fu()}},{key:"left",get:function(){throw Fu()}},{key:"right",get:function(){throw Fu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tc=function(){function e(t){yn(this,e),this.comparator=t,this.data=new Cc(this.comparator)}return kn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ac(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ac(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ac=function(){function e(t){yn(this,e),this.iter=t}return kn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Ic=function(){function e(t){yn(this,e),this.fields=t,t.sort(ff.comparator)}return kn(e,[{key:"unionWith",value:function(t){var n,r=new Tc(ff.comparator),i=hn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(f){i.e(f)}finally{i.f()}var o,s=hn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(f){s.e(f)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=hn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return nf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Rc=function(){function e(t){yn(this,e),this.value=t}return kn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(t)}},{key:"setAll",value:function(e){var t=this,n=ff.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ec(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Sf(t,(function(t,n){return e[t]=n}));var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ec(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Nc(e){var t=[];return Sf(e.fields,(function(e,n){var r=new ff([e]);if(Zf(n)){var i=Nc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=hn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ic(t)}var Pc=function(){function e(t,n,r,i,a,o,s){yn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return kn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(af.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=af.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,af.min(),af.min(),af.min(),Rc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,af.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,af.min(),af.min(),Rc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,af.min(),af.min(),Rc.empty(),2)}}]),e}(),Oc=kn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;yn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this._t=null}));function Dc(e){return new Oc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mc(e){var t=zu(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return lc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Af(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Gf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Gf(e)})).join(",")),t._t=n}return t._t}function Lc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ec(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!dc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ic(e.startAt,t.startAt)&&ic(e.endAt,t.endAt)}function jc(e){return cf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Uc=kn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;yn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this.gt=null,this.startAt,this.endAt}));function Fc(e,t,n,r,i,a,o,s){return new Uc(e,t,n,r,i,a,o,s)}function Bc(e){return new Uc(e)}function zc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qc(e){var t,n=hn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Hc(e){return null!==e.collectionGroup}function Wc(e){var t=zu(e);if(null===t.wt){t.wt=[];var n=qc(t),r=Vc(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new _c(n)),t.wt.push(new _c(ff.keyField(),"asc"));else{var i,a=!1,o=hn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(f){o.e(f)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new _c(ff.keyField(),u))}}}return t.wt}function Gc(e){var t=zu(e);if(!t.gt)if("F"===t.limitType)t.gt=Dc(t.path,t.collectionGroup,Wc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=hn(Wc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new _c(a.field,o))}}catch(f){i.e(f)}finally{i.f()}var s=t.endAt?new nc(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new nc(t.startAt.position,t.startAt.inclusive):null;t.gt=Dc(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.gt}function Kc(e,t){t.getFirstInequalityField(),qc(e);var n=e.filters.concat([t]);return new Uc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qc(e,t,n){return new Uc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jc(e,t){return Lc(Gc(e),Gc(t))&&e.limitType===t.limitType}function Xc(e){return"".concat(Mc(Gc(e)),"|lt:").concat(e.limitType)}function Yc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return hc(e)})).join(", "),"]")),Af(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Gf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Gf(e)})).join(",")),"Target(".concat(t,")")}(Gc(e)),"; limitType=").concat(e.limitType,")")}function $c(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=hn(Wc(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=hn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=rc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wc(e),t))&&!(e.endAt&&!function(e,t,n){var r=rc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wc(e),t))}(e,t)}function Zc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function el(e){return function(t,n){var r,i=!1,a=hn(Wc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=tl(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function tl(e,t,n){var r=e.field.isKeyField()?cf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hf(r,i):Fu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fu()}}function nl(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(t)?"-0":t}}function rl(e){return{integerValue:""+e}}function il(e,t){return Rf(t)?rl(t):nl(e,t)}var al=kn((function e(){yn(this,e),this._=void 0}));function ol(e,t,n){return e instanceof fl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cl?ll(e,t):e instanceof dl?hl(e,t):function(e,t){var n=ul(e,t),r=vl(n)+vl(e.It);return Jf(n)&&Jf(e.It)?rl(r):nl(e.Tt,r)}(e,t)}function sl(e,t,n){return e instanceof cl?ll(e,t):e instanceof dl?hl(e,t):n}function ul(e,t){return e instanceof pl?Jf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var fl=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n)}(al),cl=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).elements=e,r}return kn(n)}(al);function ll(e,t){var n,r=ml(t),i=hn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dl=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).elements=e,r}return kn(n)}(al);function hl(e,t){var n,r=ml(t),i=hn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pl=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return kn(n)}(al);function vl(e){return Mf(e.integerValue||e.doubleValue)}function ml(e){return Xf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gl=kn((function e(t,n){yn(this,e),this.field=t,this.transform=n}));var yl=kn((function e(t,n){yn(this,e),this.version=t,this.transformResults=n})),bl=function(){function e(t,n){yn(this,e),this.updateTime=t,this.exists=n}return kn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function kl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var wl=kn((function e(){yn(this,e)}));function _l(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dl(e.key,bl.none()):new Tl(e.key,e.data,bl.none());var n,r=e.data,i=Rc.empty(),a=new Tc(ff.comparator),o=hn(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(f){o.e(f)}finally{o.f()}return new Al(e.key,i,new Ic(a.toArray()),bl.none())}function El(e,t,n){e instanceof Tl?function(e,t,n){var r=e.value.clone(),i=Rl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Al?function(e,t,n){if(kl(e.precondition,t)){var r=Rl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Il(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cl(e,t,n,r){return e instanceof Tl?function(e,t,n,r){if(!kl(e.precondition,t))return n;var i=e.value.clone(),a=Nl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Al?function(e,t,n,r){if(!kl(e.precondition,t))return n;var i=Nl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Il(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return kl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xl(e,t){var n,r=null,i=hn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ul(a.transform,o||null);null!=s&&(null===r&&(r=Rc.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Sl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cl&&t instanceof cl||e instanceof dl&&t instanceof dl?nf(e.elements,t.elements,Vf):e instanceof pl&&t instanceof pl?Vf(e.It,t.It):e instanceof fl&&t instanceof fl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Tl=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return yn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return kn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wl),Al=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return yn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return kn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(wl);function Il(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rl(e,t,n){var r=new Map;Bu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,sl(o,s,n[i]))}return r}function Nl(e,t,n){var r,i=new Map,a=hn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ol(s,u,t))}}catch(f){a.e(f)}finally{a.f()}return i}var Pl,Ol,Dl=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return kn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wl),Ml=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return kn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wl),Ll=kn((function e(t){yn(this,e),this.count=t}));function jl(e){switch(e){default:return Fu();case Vu.CANCELLED:case Vu.UNKNOWN:case Vu.DEADLINE_EXCEEDED:case Vu.RESOURCE_EXHAUSTED:case Vu.INTERNAL:case Vu.UNAVAILABLE:case Vu.UNAUTHENTICATED:return!1;case Vu.INVALID_ARGUMENT:case Vu.NOT_FOUND:case Vu.ALREADY_EXISTS:case Vu.PERMISSION_DENIED:case Vu.FAILED_PRECONDITION:case Vu.ABORTED:case Vu.OUT_OF_RANGE:case Vu.UNIMPLEMENTED:case Vu.DATA_LOSS:return!0}}function Ul(e){if(void 0===e)return Lu("GRPC error has no .code"),Vu.UNKNOWN;switch(e){case Pl.OK:return Vu.OK;case Pl.CANCELLED:return Vu.CANCELLED;case Pl.UNKNOWN:return Vu.UNKNOWN;case Pl.DEADLINE_EXCEEDED:return Vu.DEADLINE_EXCEEDED;case Pl.RESOURCE_EXHAUSTED:return Vu.RESOURCE_EXHAUSTED;case Pl.INTERNAL:return Vu.INTERNAL;case Pl.UNAVAILABLE:return Vu.UNAVAILABLE;case Pl.UNAUTHENTICATED:return Vu.UNAUTHENTICATED;case Pl.INVALID_ARGUMENT:return Vu.INVALID_ARGUMENT;case Pl.NOT_FOUND:return Vu.NOT_FOUND;case Pl.ALREADY_EXISTS:return Vu.ALREADY_EXISTS;case Pl.PERMISSION_DENIED:return Vu.PERMISSION_DENIED;case Pl.FAILED_PRECONDITION:return Vu.FAILED_PRECONDITION;case Pl.ABORTED:return Vu.ABORTED;case Pl.OUT_OF_RANGE:return Vu.OUT_OF_RANGE;case Pl.UNIMPLEMENTED:return Vu.UNIMPLEMENTED;case Pl.DATA_LOSS:return Vu.DATA_LOSS;default:return Fu()}}(Ol=Pl||(Pl={}))[Ol.OK=0]="OK",Ol[Ol.CANCELLED=1]="CANCELLED",Ol[Ol.UNKNOWN=2]="UNKNOWN",Ol[Ol.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ol[Ol.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ol[Ol.NOT_FOUND=5]="NOT_FOUND",Ol[Ol.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ol[Ol.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ol[Ol.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ol[Ol.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ol[Ol.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ol[Ol.ABORTED=10]="ABORTED",Ol[Ol.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ol[Ol.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ol[Ol.INTERNAL=13]="INTERNAL",Ol[Ol.UNAVAILABLE=14]="UNAVAILABLE",Ol[Ol.DATA_LOSS=15]="DATA_LOSS";var Fl=function(){function e(t,n){yn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return kn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=nn(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Sf(this.inner,(function(t,n){var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=nn(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Tf(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Bl=new Cc(cf.comparator);function zl(){return Bl}var Vl=new Cc(cf.comparator);function ql(){for(var e=Vl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Hl(e){var t=Vl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Wl(){return Kl()}function Gl(){return Kl()}function Kl(){return new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ql=new Cc(cf.comparator),Jl=new Tc(cf.comparator);function Xl(){for(var e=Jl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Yl=new Tc(tf);function $l(){return Yl}var Zl=function(){function e(t,n,r,i,a){yn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return kn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ed.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(af.min(),i,$l(),zl(),Xl())}}]),e}(),ed=function(){function e(t,n,r,i,a){yn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return kn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Xl(),Xl(),Xl())}}]),e}(),td=kn((function e(t,n,r,i){yn(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),nd=kn((function e(t,n){yn(this,e),this.targetId=t,this.Rt=n})),rd=kn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;yn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),id=function(){function e(){yn(this,e),this.bt=0,this.vt=sd(),this.Pt=Pf.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return kn(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=Xl(),t=Xl(),n=Xl();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fu()}})),new ed(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=sd()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),ad=function(){function e(t){yn(this,e),this.Lt=t,this.qt=new Map,this.Ut=zl(),this.Kt=od(),this.Gt=new Tc(tf)}return kn(e,[{key:"Qt",value:function(e){var t,n=hn(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(s){n.e(s)}finally{n.f()}var i,a=hn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Fu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(jc(i))if(0===n){var a=new cf(i.path);this.zt(t,a,Pc.newNoDocument(a,af.min()))}else Bu(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&jc(a.target)){var o=new cf(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Pc.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Xl();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zl(e,n,this.Gt,this.Ut,r);return this.Ut=zl(),this.Kt=od(),this.Gt=new Tc(tf),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new id,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Tc(tf),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Mu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new id),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function od(){return new Cc(cf.comparator)}function sd(){return new Cc(cf.comparator)}var ud={asc:"ASCENDING",desc:"DESCENDING"},fd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cd={and:"AND",or:"OR"},ld=kn((function e(t,n){yn(this,e),this.databaseId=t,this.yt=n}));function dd(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hd(e,t){return e.yt?t.toBase64():t.toUint8Array()}function pd(e,t){return dd(e,t.toTimestamp())}function vd(e){return Bu(!!e),af.fromTimestamp(function(e){var t=Df(e);return new rf(t.seconds,t.nanos)}(e))}function md(e,t){return function(e){return new sf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gd(e){var t=sf.fromString(e);return Bu(jd(t)),t}function yd(e,t){return md(e.databaseId,t.path)}function bd(e,t){var n=gd(t);if(n.get(1)!==e.databaseId.projectId)throw new qu(Vu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qu(Vu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cf(Ed(n))}function kd(e,t){return md(e.databaseId,t)}function wd(e){var t=gd(e);return 4===t.length?sf.emptyPath():Ed(t)}function _d(e){return new sf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ed(e){return Bu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cd(e,t,n){return{name:yd(e,t),fields:n.value.mapValue.fields}}function xd(e,t){var n;if(t instanceof Tl)n={update:Cd(e,t.key,t.value)};else if(t instanceof Dl)n={delete:yd(e,t.key)};else if(t instanceof Al)n={update:Cd(e,t.key,t.data),updateMask:Ld(t.fieldMask)};else{if(!(t instanceof Ml))return Fu();n={verify:yd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof fl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pl)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Fu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fu()}(e,t.precondition)),n}function Sd(e,t){return{documents:[kd(e,t.path)]}}function Td(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Md(sc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Od(e.field),direction:Rd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.yt||Af(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ad(e){var t=wd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Id(e);return t instanceof sc&&fc(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new _c(Dd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Af(t="object"==typeof e?e.value:e)?null:t}(n.limit));var f=null;n.startAt&&(f=function(e){var t=!!e.before,n=e.values||[];return new nc(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new nc(n,t)}(n.endAt)),Fc(t,i,s,o,u,"F",f,c)}function Id(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dd(e.unaryFilter.field);return oc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dd(e.unaryFilter.field);return oc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dd(e.unaryFilter.field);return oc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dd(e.unaryFilter.field);return oc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fu()}}(e):void 0!==e.fieldFilter?function(e){return oc.create(Dd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sc.create(e.compositeFilter.filters.map((function(e){return Id(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fu()}}(e.compositeFilter.op))}(e):Fu()}function Rd(e){return ud[e]}function Nd(e){return fd[e]}function Pd(e){return cd[e]}function Od(e){return{fieldPath:e.canonicalString()}}function Dd(e){return ff.fromServerFormat(e.fieldPath)}function Md(e){return e instanceof oc?function(e){if("=="===e.op){if($f(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NAN"}};if(Yf(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($f(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NAN"}};if(Yf(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(e.field),op:Nd(e.op),value:e.value}}}(e):e instanceof sc?function(e){var t=e.getFilters().map((function(e){return Md(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Pd(e.op),filters:t}}}(e):Fu()}function Ld(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fd=([].concat(gn(Ud),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Bd=Fd;[].concat(Bd,["indexConfiguration","indexState","indexEntries"]);var zd=function(){function e(t,n,r,i){yn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return kn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&El(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=hn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Cl(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=hn(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Cl(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=_l(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(af.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,(function(e,t){return Sl(e,t)}))&&nf(this.baseMutations,e.baseMutations,(function(e,t){return Sl(e,t)}))}}]),e}(),Vd=function(){function e(t,n,r,i){yn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return kn(e,null,[{key:"from",value:function(t,n,r){Bu(t.mutations.length===r.length);for(var i=Ql,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qd=function(){function e(t,n){yn(this,e),this.largestBatchId=t,this.mutation=n}return kn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Hd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:af.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:af.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pf.EMPTY_BYTE_STRING;yn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return kn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Wd=kn((function e(t){yn(this,e),this.oe=t}));function Gd(e){var t=Ad({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qc(t,t.limit,"L"):t}var Kd=function(){function e(){yn(this,e)}return kn(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Mf(e.integerValue));else if("doubleValue"in e){var n=Mf(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),If(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Lf(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?tc(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Fu()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),cf.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();Kd.Ee=new Kd;var Qd=function(){function e(){yn(this,e),this.Ze=new Jd}return kn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),kf.resolve()}},{key:"getCollectionParents",value:function(e,t){return kf.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kf.resolve(null)}},{key:"getIndexType",value:function(e,t){return kf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kf.resolve(pf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return kf.resolve(pf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kf.resolve()}}]),e}(),Jd=function(){function e(){yn(this,e),this.index={}}return kn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tc(sf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tc(sf.comparator)).toArray()}}]),e}();new Uint8Array(0);var Xd=function(){function e(t,n,r){yn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return kn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Xd.DEFAULT_COLLECTION_PERCENTILE=10,Xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xd.DEFAULT=new Xd(41943040,Xd.DEFAULT_COLLECTION_PERCENTILE,Xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xd.DISABLED=new Xd(-1,0,0);var Yd=function(){function e(t){yn(this,e),this.Pn=t}return kn(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}();var $d=function(){function e(){yn(this,e),this.changes=new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return kn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Pc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Zd=kn((function e(t,n){yn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),eh=function(){function e(t,n,r,i){yn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return kn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Cl(r.mutation,e,Ic.empty(),rf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Xl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl(),i=Wl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ql();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Wl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Xl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=zl(),a=Kl(),o=Kl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Al)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Cl(o.mutation,t,o.mutation.getFieldMask(),rf.now())):a.set(t.key,Ic.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Zd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Kl(),i=new Cc((function(e,t){return e-t})),a=Xl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=hn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ic.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Xl()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,f=i.value,c=Gl();f.forEach((function(e){if(!a.has(e)){var n=_l(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return kf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return cf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):kf.resolve(Wl()),s=-1,u=a;return o.next((function(t){return kf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?kf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Xl())})).next((function(e){return{batchId:s,changes:Hl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new cf(t)).next((function(e){var t=ql();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ql();return this.indexManager.getCollectionParents(e,i).next((function(o){return kf.forEach(o,(function(o){var s=function(e,t){return new Uc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pc.newInvalidDocument(r)))}));var n=ql();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Cl(a.mutation,i,Ic.empty(),rf.now()),$c(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),th=function(){function e(t){yn(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return kn(e,[{key:"getBundleMetadata",value:function(e,t){return kf.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:vd(n.createTime)}),kf.resolve()}},{key:"getNamedQuery",value:function(e,t){return kf.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Gd(e.bundledQuery),readTime:vd(e.readTime)}}(t)),kf.resolve()}}]),e}(),nh=function(){function e(){yn(this,e),this.overlays=new Cc(cf.comparator),this.ss=new Map}return kn(e,[{key:"getOverlay",value:function(e,t){return kf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Wl();return kf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),kf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),kf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Wl(),i=t.length+1,a=new cf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return kf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Cc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Wl(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Wl(),f=i.getIterator();f.hasNext()&&(f.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return kf.resolve(u)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qd(t,n));var a=this.ss.get(t);void 0===a&&(a=Xl(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),rh=function(){function e(){yn(this,e),this.rs=new Tc(ih.os),this.us=new Tc(ih.cs)}return kn(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ih(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new ih(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new cf(new sf([])),r=new ih(n,e),i=new ih(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new cf(new sf([])),n=new ih(t,e),r=new ih(t,e+1),i=Xl();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ih(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ih=function(){function e(t,n){yn(this,e),this.key=t,this.gs=n}return kn(e,null,[{key:"os",value:function(e,t){return cf.comparator(e.key,t.key)||tf(e.gs,t.gs)}},{key:"cs",value:function(e,t){return tf(e.gs,t.gs)||cf.comparator(e.key,t.key)}}]),e}(),ah=function(){function e(t,n){yn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Tc(ih.os)}return kn(e,[{key:"checkEmpty",value:function(e){return kf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new zd(i,t,n,r);this.mutationQueue.push(a);var o,s=hn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ps=this.ps.add(new ih(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(f){s.e(f)}finally{s.f()}return kf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kf.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return kf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kf.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return kf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ih(t,0),i=new ih(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),kf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tc(tf);return t.forEach((function(e){var t=new ih(e,0),i=new ih(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),kf.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cf.isDocumentKey(i)||(i=i.child(""));var a=new ih(new cf(i),0),o=new Tc(tf);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),kf.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Bu(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return kf.forEach(t.mutations,(function(i){var a=new ih(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ih(t,0),r=this.ps.firstAfterOrEqual(n);return kf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,kf.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),oh=function(){function e(t){yn(this,e),this.Rs=t,this.docs=new Cc(cf.comparator),this.size=0}return kn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kf.resolve(n?n.document.mutableCopy():Pc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=zl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Pc.newInvalidDocument(e))})),kf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=zl(),a=t.path,o=new cf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),f=u.key,c=u.value.document;if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||vf(hf(c),n)<=0||(r.has(c.key)||$c(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return kf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Fu()}},{key:"bs",value:function(e,t){return kf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sh(this)}},{key:"getSize",value:function(e){return kf.resolve(this.size)}}]),e}(),sh=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).Xn=e,r}return kn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),kf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}($d),uh=function(){function e(t){yn(this,e),this.persistence=t,this.vs=new Fl((function(e){return Mc(e)}),Lc),this.lastRemoteSnapshotVersion=af.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new rh,this.targetCount=0,this.Ss=Yd.Vn()}return kn(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),kf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kf.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),kf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),kf.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,kf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),kf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,kf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),kf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return kf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),kf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),kf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return kf.resolve(n)}},{key:"containsKey",value:function(e,t){return kf.resolve(this.Vs.containsKey(t))}}]),e}(),fh=function(){function e(t,n){var r=this;yn(this,e),this.Ds={},this.overlays={},this.Cs=new _f(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new uh(this),this.indexManager=new Qd,this.remoteDocumentCache=new oh((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new Wd(n),this.Os=new th(this.Tt)}return kn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new ah(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Mu("MemoryPersistence","Starting transaction:",e);var i=new ch(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return kf.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ch=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return kn(n)}(gf),lh=function(){function e(t){yn(this,e),this.persistence=t,this.Bs=new rh,this.Ls=null}return kn(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Fu()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),kf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),kf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),kf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kf.forEach(this.Us,(function(r){var i=cf.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,af.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return kf.or([function(){return kf.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}();var dh=function(){function e(t,n,r,i){yn(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return kn(e,null,[{key:"Ni",value:function(t,n){var r,i=Xl(),a=Xl(),o=hn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hh=function(){function e(){yn(this,e),this.ki=!1}return kn(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(zc(t))return kf.resolve(null);var r=Gc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Qc(t,null,"F"),r=Gc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Xl.apply(void 0,gn(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Qc(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return zc(t)||r.isEqual(af.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(Du()<=yr.DEBUG&&Mu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yc(t)),i.qi(e,o,t,df(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Tc(el(e));return t.forEach((function(t,r){$c(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return Du()<=yr.DEBUG&&Mu("QueryEngine","Using full collection scan to execute query:",Yc(t)),this.Oi.getDocumentsMatchingQuery(e,t,pf.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ph=function(){function e(t,n,r,i){yn(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Cc(tf),this.Gi=new Fl((function(e){return Mc(e)}),Lc),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return kn(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eh(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function vh(e,t,n,r){return new ph(e,t,n,r)}function mh(e,t){return gh.apply(this,arguments)}function gh(){return gh=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Xl(),u=hn(t);try{for(u.s();!(i=u.n()).done;){var f=i.value;a.push(f.batchId);var c,l=hn(f.mutations);try{for(l.s();!(c=l.n()).done;){var d=c.value;s=s.add(d.key)}}catch(b){l.e(b)}finally{l.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=hn(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=hn(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function yh(e,t){var n=zu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Bu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Xl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bh(e){var t=zu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function kh(e,t){var n=zu(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,s)})));var f=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?f=f.withResumeToken(Pf.EMPTY_BYTE_STRING,af.min()).withLastLimboFreeSnapshotVersion(af.min()):a.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(a.resumeToken,r)),i=i.insert(s,f),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,f,a)&&o.push(n.Ns.updateTargetData(e,f))}}));var s=zl(),u=Xl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wh(e,a,t.documentUpdates).next((function(e){s=e.Hi,u=e.Ji}))),!r.isEqual(af.min())){var f=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(f)}return kf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ki=i,e}))}function wh(e,t,n){var r=Xl(),i=Xl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=zl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(af.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function _h(e,t){var n=zu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Eh(e,t){var n=zu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,kf.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Hd(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Ch(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=on(rn().mark((function e(t,n,r){var i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zu(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),wf(e.t1)){e.next=12;break}throw e.t1;case 12:Mu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xh.apply(this,arguments)}function Sh(e,t,n){var r=zu(e),i=af.min(),a=Xl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zu(e),i=r.Gi.get(n);return void 0!==i?kf.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Gc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:af.min(),n?a:Xl())})).next((function(e){return Th(r,Zc(t),e),{documents:e,Yi:a}}))}))}function Th(e,t,n){var r=e.Qi.get(t)||af.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}var Ah=function(){function e(){yn(this,e),this.activeTargetIds=$l()}return kn(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ih=function(){function e(){yn(this,e),this.Ur=new Ah,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return kn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Ah,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Rh=function(){function e(){yn(this,e)}return kn(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Nh=function(){function e(){var t=this;yn(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return kn(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=hn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=hn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ph={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Oh=function(){function e(t){yn(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return kn(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),Dh=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return kn(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Iu;o.setWithCredentials(!0),o.listenOnce(Cu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Eu.NO_ERROR:var t=o.getResponseJson();Mu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Eu.TIMEOUT:Mu("Connection",'RPC "'+e+'" timed out'),a(new qu(Vu.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:var n=o.getStatus();if(Mu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vu).indexOf(t)>=0?t:Vu.UNKNOWN}(s.status);a(new qu(u,s.message))}else a(new qu(Vu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new qu(Vu.UNAVAILABLE,"Connection failed."));break;default:Fu()}}finally{Mu("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=wu(),a=_u(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Tu({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Mu("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),f=!1,c=!1,l=new Oh({Yr:function(e){c?Mu("Connection","Not sending because WebChannel is closed:",e):(f||(Mu("Connection","Opening WebChannel transport."),u.open(),f=!0),Mu("Connection","WebChannel sending:",e),u.send(e))},Zr:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,Au.EventType.OPEN,(function(){c||Mu("Connection","WebChannel transport opened.")})),d(u,Au.EventType.CLOSE,(function(){c||(c=!0,Mu("Connection","WebChannel transport closed"),l.oo())})),d(u,Au.EventType.ERROR,(function(e){c||(c=!0,ju("Connection","WebChannel transport errored:",e),l.oo(new qu(Vu.UNAVAILABLE,"The operation could not be completed")))})),d(u,Au.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Bu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Mu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Pl[e];if(void 0!==t)return Ul(t)}(a),s=i.message;void 0===o&&(o=Vu.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,l.oo(new qu(o,s)),u.close()}else Mu("Connection","WebChannel received:",n),l.uo(n)}})),d(a,xu.STAT_EVENT,(function(e){e.stat===Su.PROXY?Mu("Connection","Detected buffering proxy"):e.stat===Su.NOPROXY&&Mu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.ro()}),0),l}}]),n}(function(){function e(t){yn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return kn(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);Mu("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return Mu("RestConnection","Received: ",e),e}),(function(t){throw ju("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=Ph[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function Mh(){return"undefined"!=typeof document?document:null}function Lh(e){return new ld(e,!0)}var jh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;yn(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return kn(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Mu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),Uh=function(){function e(t,n,r,i,a,o,s,u){yn(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new jh(t,n)}return kn(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===Vu.RESOURCE_EXHAUSTED?(Lu(n.toString()),Lu("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===Vu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=nn(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new qu(Vu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(on(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Mu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Fh=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a,o,s){var u;return yn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u}return kn(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Bu(void 0===t||"string"==typeof t),Pf.fromBase64String(t||"")):(Bu(void 0===t||t instanceof Uint8Array),Pf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Vu.UNKNOWN:Ul(e.code);return new qu(t,e.message||"")}(o);n=new rd(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var f=bd(e,u.document.name),c=vd(u.document.updateTime),l=u.document.createTime?vd(u.document.createTime):af.min(),d=new Rc({mapValue:{fields:u.document.fields}}),h=Pc.newFoundDocument(f,c,l,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new td(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=bd(e,m.document),y=m.readTime?vd(m.readTime):af.min(),b=Pc.newNoDocument(g,y),k=m.removedTargetIds||[];n=new td([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=bd(e,w.document),E=w.removedTargetIds||[];n=new td([],E,_,null)}else{if(!("filter"in t))return Fu();t.filter;var C=t.filter;C.targetId;var x=C.count||0,S=new Ll(x),T=C.targetId;n=new nd(T,S)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return af.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?af.min():t.readTime?vd(t.readTime):af.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=_d(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=jc(r)?{documents:Sd(e,r)}:{query:Td(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hd(e,t.resumeToken):t.snapshotVersion.compareTo(af.min())>0&&(n.readTime=dd(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=_d(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(Uh),Bh=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a,o,s){var u;return yn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u.Zo=!1,u}return kn(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,ln(cn(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Bu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Bu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vd(e.updateTime):vd(t);return n.isEqual(af.min())&&(n=vd(t)),new yl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vd(e.commitTime);return this.listener.eu(n,t)}return Bu(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=_d(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xd(t.Tt,e)}))};this.qo(n)}}]),n}(Uh),zh=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a){var o;return yn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return kn(n,[{key:"ru",value:function(){if(this.iu)throw new qu(Vu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=nn(i,2),o=a[0],s=a[1];return r.connection.lo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new qu(Vu.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=nn(a,2),s=o[0],u=o[1];return i.connection.mo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new qu(Vu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return kn((function e(){yn(this,e)}))}());var Vh=function(){function e(t,n){yn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return kn(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Lu(t),this.cu=!1):Mu("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),qh=kn((function e(t,n,r,i,a){var o=this;yn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ep(o),!e.t0){e.next=5;break}return Mu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zu(t)).mu.add(4),e.next=4,Gh(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,Hh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new Vh(r,i)}));function Hh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=on(rn().mark((function e(t){var n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ep(t)){e.next=18;break}n=hn(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Wh.apply(this,arguments)}function Gh(e){return Kh.apply(this,arguments)}function Kh(){return Kh=on(rn().mark((function e(t){var n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hn(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Kh.apply(this,arguments)}function Qh(e,t){var n=zu(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Zh(n)?$h(n):Ip(n).Mo()&&Xh(n,t))}function Jh(e,t){var n=zu(e),r=Ip(n);n.wu.delete(t),r.Mo()&&Yh(n,t),0===n.wu.size&&(r.Mo()?r.Bo():ep(n)&&n.pu.set("Unknown"))}function Xh(e,t){e.Iu.Ft(t.targetId),Ip(e).Jo(t)}function Yh(e,t){e.Iu.Ft(t),Ip(e).Yo(t)}function $h(e){e.Iu=new ad({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),Ip(e).start(),e.pu.au()}function Zh(e){return ep(e)&&!Ip(e).Oo()&&e.wu.size>0}function ep(e){return 0===zu(e).mu.size}function tp(e){e.Iu=void 0}function np(e){return rp.apply(this,arguments)}function rp(){return rp=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Xh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e,t){return ap.apply(this,arguments)}function ap(){return ap=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tp(t),Zh(t)?(t.pu.fu(n),$h(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t,n){return sp.apply(this,arguments)}function sp(){return sp=on(rn().mark((function e(t,n,r){var i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof rd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=on(rn().mark((function e(t,n){var r,i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=hn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Mu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,up(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof td?t.Iu.Qt(n):n instanceof nd?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(af.min())){e.next=29;break}return e.prev=14,e.next=17,bh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Pf.EMPTY_BYTE_STRING,n.snapshotVersion)),Yh(e,t);var r=new Hd(n.target,t,1,n.sequenceNumber);Xh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Mu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,up(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sp.apply(this,arguments)}function up(e,t,n){return fp.apply(this,arguments)}function fp(){return fp=on(rn().mark((function e(t,n,r){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wf(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Gh(t);case 5:t.pu.set("Offline"),r||(r=function(){return bh(t.localStore)}),t.asyncQueue.enqueueRetryable(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,Hh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function cp(e,t){return t().catch((function(n){return up(e,n,t)}))}function lp(e){return dp.apply(this,arguments)}function dp(){return dp=on(rn().mark((function e(t){var n,r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zu(t),r=Rp(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!hp(n)){e.next=19;break}return e.prev=3,e.next=6,_h(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,pp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,up(n,e.t0);case 17:e.next=2;break;case 19:vp(n)&&mp(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dp.apply(this,arguments)}function hp(e){return ep(e)&&e._u.length<10}function pp(e,t){e._u.push(t);var n=Rp(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function vp(e){return ep(e)&&!Rp(e).Oo()&&e._u.length>0}function mp(e){Rp(e).start()}function gp(e){return yp.apply(this,arguments)}function yp(){return yp=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rp(t).su();case 1:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function bp(e){return kp.apply(this,arguments)}function kp(){return kp=on(rn().mark((function e(t){var n,r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rp(t),r=hn(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function wp(e,t,n){return _p.apply(this,arguments)}function _p(){return _p=on(rn().mark((function e(t,n,r){var i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=Vd.from(i,n,r),e.next=3,cp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lp(t);case 5:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}function Ep(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Rp(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jl(i=n.code)||i===Vu.ABORTED){e.next=7;break}return r=t._u.shift(),Rp(t).$o(),e.next=5,cp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vp(t)&&mp(t);case 5:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function xp(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zu(t)).asyncQueue.verifyOperationInProgress(),Mu("RemoteStore","RemoteStore received new credentials"),i=ep(r),r.mu.add(3),e.next=6,Gh(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,Hh(r);case 12:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}function Tp(e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,Hh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Gh(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Ip(e){return e.Tu||(e.Tu=function(e,t,n){var r=zu(e);return r.ru(),new Fh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:np.bind(null,e),no:ip.bind(null,e),Ho:op.bind(null,e)}),e.gu.push(function(){var t=on(rn().mark((function t(n){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),Zh(e)?$h(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:tp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function Rp(e){return e.Eu||(e.Eu=function(e,t,n){var r=zu(e);return r.ru(),new Bh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:gp.bind(null,e),no:Ep.bind(null,e),nu:bp.bind(null,e),eu:wp.bind(null,e)}),e.gu.push(function(){var t=on(rn().mark((function t(n){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,lp(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Mu("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var Np=function(){function e(t,n,r,i,a){yn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return kn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qu(Vu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pp(e,t){if(Lu("AsyncQueue","".concat(t,": ").concat(e)),wf(e))return new qu(Vu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Op=function(){function e(t){yn(this,e),this.comparator=t?function(e,n){return t(e,n)||cf.comparator(e.key,n.key)}:function(e,t){return cf.comparator(e.key,t.key)},this.keyedMap=ql(),this.sortedSet=new Cc(this.comparator)}return kn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Dp=function(){function e(){yn(this,e),this.Au=new Cc(cf.comparator)}return kn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Fu():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Mp=function(){function e(t,n,r,i,a,o,s,u,f){yn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=f}return kn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Op.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Lp=kn((function e(){yn(this,e),this.bu=void 0,this.listeners=[]})),jp=kn((function e(){yn(this,e),this.queries=new Fl((function(e){return Xc(e)}),Jc),this.onlineState="Unknown",this.vu=new Set}));function Up(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=on(rn().mark((function e(t,n){var r,i,a,o,s;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Lp),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Pp(e.t0,"Initialization of query '".concat(Yc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&Hp(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Fp.apply(this,arguments)}function Bp(e,t){return zp.apply(this,arguments)}function zp(){return zp=on(rn().mark((function e(t,n){var r,i,a,o,s;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Vp(e,t){var n,r=zu(e),i=!1,a=hn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var f,c=hn(u.listeners);try{for(c.s();!(f=c.n()).done;){f.value.Vu(o)&&(i=!0)}}catch(l){c.e(l)}finally{c.f()}u.bu=o}}}catch(l){a.e(l)}finally{a.f()}i&&Hp(r)}function qp(e,t,n){var r=zu(e),i=r.queries.get(t);if(i){var a,o=hn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Hp(e){e.vu.forEach((function(e){e.next()}))}var Wp=function(){function e(t,n,r){yn(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return kn(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=hn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Mp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=Mp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}();var Gp=kn((function e(t){yn(this,e),this.key=t})),Kp=kn((function e(t){yn(this,e),this.key=t})),Qp=function(){function e(t,n){yn(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Xl(),this.mutatedKeys=Xl(),this.ju=el(t),this.zu=new Op(this.ju)}return kn(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new Dp,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,f="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=$c(n.query,t)?t:null,d=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?d!==h&&(r.track({type:3,doc:l}),p=!0):n.Yu(c,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.ju(l,u)>0||f&&n.ju(l,f)<0)&&(s=!0)):!c&&l?(r.track({type:0,doc:l}),p=!0):c&&!l&&(r.track({type:1,doc:c}),p=!0,(u||f)&&(s=!0)),p&&(l?(o=o.add(l),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:s,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fu()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],s=0===this.Qu.size&&this.current?1:0,u=s!==this.Gu;return this.Gu=s,0!==a.length||u?{snapshot:new Mp(this.query,e.zu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Dp,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Xl(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new Kp(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new Gp(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Xl();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return Mp.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),Jp=kn((function e(t,n,r){yn(this,e),this.query=t,this.targetId=n,this.view=r})),Xp=kn((function e(t){yn(this,e),this.key=t,this.ic=!1})),Yp=function(){function e(t,n,r,i,a,o){yn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Fl((function(e){return Xc(e)}),Jc),this.uc=new Map,this.cc=new Set,this.ac=new Cc(cf.comparator),this.hc=new Map,this.lc=new rh,this.fc={},this.dc=new Map,this._c=Yd.Sn(),this.onlineState="Unknown",this.wc=void 0}return kn(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function $p(e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=on(rn().mark((function e(t,n){var r,i,a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tv(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Eh(r.localStore,Gc(n));case 8:return s=e.sent,r.isPrimaryClient&&Qh(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,ev(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function ev(e,t,n,r,i){return tv.apply(this,arguments)}function tv(){return tv=on(rn().mark((function e(t,n,r,i,a){var o,s,u,f,c,l;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=on(rn().mark((function e(t,n,r,i){var a,o,s;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,Sh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bv(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Sh(t.localStore,n,!0);case 3:return o=e.sent,s=new Qp(n,o.Yi),u=s.Hu(o.documents),f=ed.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,f),bv(t,r,c.tc),l=new Jp(n,r,s),e.abrupt("return",(t.oc.set(n,l),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=on(rn().mark((function e(t,n){var r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Jc(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ch(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Jh(r.remoteStore,i.targetId),gv(r,i.targetId)})).catch(yf);case 9:e.next=14;break;case 11:return gv(r,i.targetId),e.next=14,Ch(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t,n){return av.apply(this,arguments)}function av(){return av=on(rn().mark((function e(t,n,r){var i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Av(t),e.prev=1,e.next=4,function(e,t){var n,r,i=zu(e),a=rf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Xl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=zl(),u=Xl();return i.ji.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=hn(t);try{for(u.s();!(o=u.n()).done;){var f=o.value,c=xl(f,n.get(f.key).overlayedDocument);null!=c&&s.push(new Al(f.key,c,Nc(c.value.mapValue),bl.exists(!0)))}}catch(l){u.e(l)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Hl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new Cc(tf)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_v(i,a.changes);case 9:return e.next=11,lp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pp(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),av.apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.prev=1,e.next=4,kh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Bu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Bu(n.ic):e.removedDocuments.size>0&&(Bu(n.ic),n.ic=!1))})),e.next=8,_v(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),sv.apply(this,arguments)}function uv(e,t,n){var r=zu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=hn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Hp(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fv(e,t,n){return cv.apply(this,arguments)}function cv(){return cv=on(rn().mark((function e(t,n,r){var i,a,o,s,u,f;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Cc(cf.comparator)).insert(o,Pc.newNoDocument(o,af.min())),u=Xl().add(o),f=new Zl(af.min(),new Map,new Tc(tf),s,u),e.next=9,ov(i,f);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),wv(i),e.next=16;break;case 14:return e.next=16,Ch(i.localStore,n,!1).then((function(){return gv(i,n,r)})).catch(yf);case 16:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return dv.apply(this,arguments)}function dv(){return dv=on(rn().mark((function e(t,n){var r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),i=n.batch.batchId,e.prev=1,e.next=4,yh(r.localStore,n);case 4:return a=e.sent,mv(r,i,null),vv(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_v(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dv.apply(this,arguments)}function hv(e,t,n){return pv.apply(this,arguments)}function pv(){return pv=on(rn().mark((function e(t,n,r){var i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),e.prev=1,e.next=4,function(e,t){var n=zu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Bu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mv(i,n,r),vv(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_v(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pv.apply(this,arguments)}function vv(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function mv(e,t,n){var r=zu(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function gv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=hn(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||yv(e,t)}))}function yv(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Jh(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),wv(e))}function bv(e,t,n){var r,i=hn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gp?(e.lc.addReference(a.key,t),kv(e,a)):a instanceof Kp?(Mu("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||yv(e,a.key)):Fu()}}catch(o){i.e(o)}finally{i.f()}}function kv(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Mu("SyncEngine","New document in limbo: "+n),e.cc.add(r),wv(e))}function wv(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new cf(sf.fromString(t)),r=e._c.next();e.hc.set(r,new Xp(n)),e.ac=e.ac.insert(n,r),Qh(e.remoteStore,new Hd(Gc(Bc(n.path)),r,2,_f.at))}}function _v(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=on(rn().mark((function e(t,n,r){var i,a,o,s;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zu(t),a=[],o=[],s=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){s.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=dh.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.rc.Ho(a),e.next=9,function(){var e=on(rn().mark((function e(t,n){var r,i,a,o,s,u,f,c;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kf.forEach(n,(function(t){return kf.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kf.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),wf(e.t0)){e.next=10;break}throw e.t0;case 10:Mu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=hn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ki.get(s),f=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(f),r.Ki=r.Ki.insert(s,c))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Cv(e,t){return xv.apply(this,arguments)}function xv(){return xv=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zu(t)).currentUser.isEqual(n)){e.next=11;break}return Mu("SyncEngine","User change. New user:",n.toKey()),e.next=5,mh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new qu(Vu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_v(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function Sv(e,t){var n=zu(e),r=n.hc.get(t);if(r&&r.ic)return Xl().add(r.key);var i=Xl(),a=n.uc.get(t);if(!a)return i;var o,s=hn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,f=n.oc.get(u);i=i.unionWith(f.view.Wu)}}catch(c){s.e(c)}finally{s.f()}return i}function Tv(e){var t=zu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ov.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fv.bind(null,t),t.rc.Ho=Vp.bind(null,t.eventManager),t.rc.gc=qp.bind(null,t.eventManager),t}function Av(e){var t=zu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hv.bind(null,t),t}var Iv=function(){function e(){yn(this,e),this.synchronizeTabs=!1}return kn(e,[{key:"initialize",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return vh(this.persistence,new hh,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new fh(lh.qs,this.Tt)}},{key:"Ic",value:function(e){return new Ih}},{key:"terminate",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rv=function(){function e(){yn(this,e)}return kn(e,[{key:"initialize",value:function(){var e=on(rn().mark((function e(t,n){var r=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cv.bind(null,this.syncEngine),e.next=12,Tp(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jp}},{key:"createDatastore",value:function(e){var t,n=Lh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Dh(t));return function(e,t,n,r){return new zh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uv(o.syncEngine,e,0)},a=Nh.C()?new Nh:new Rh,new qh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Yp(e,t,n,r,i,a);return o&&(s.wc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zu(t),Mu("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Gh(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Nv=function(){function e(t){yn(this,e),this.observer=t,this.muted=!1}return kn(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Lu("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Pv=function(){function e(t,n,r,i){var a=this;yn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nu.UNAUTHENTICATED,this.clientId=ef.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Mu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return kn(e,[{key:"getConfiguration",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new qu(Vu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(on(rn().mark((function n(){var r;return rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pp(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ov(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Mu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Mv(e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jv(t);case 3:return r=e.sent,Mu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return xp(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return xp(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function jv(e){return Uv.apply(this,arguments)}function Uv(){return Uv=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Mu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ov(t,new Iv);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Fv(e){return Bv.apply(this,arguments)}function Bv(){return Bv=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Mu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Mv(t,new Rv);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function zv(e){return Fv(e).then((function(e){return e.syncEngine}))}function Vv(e){return qv.apply(this,arguments)}function qv(){return qv=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=$p.bind(null,n.syncEngine),r.onUnlisten=nv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Hv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hu;return e.asyncQueue.enqueueAndForget(on(rn().mark((function i(){return rn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Nv({next:function(a){t.enqueueAndForget((function(){return Bp(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new qu(Vu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new qu(Vu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Wp(Bc(n.path),a,{includeMetadataChanges:!0,Ou:!0});return Up(e,o)},i.next=3,Vv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hu;return e.asyncQueue.enqueueAndForget(on(rn().mark((function i(){return rn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Nv({next:function(n){t.enqueueAndForget((function(){return Bp(e,o)})),n.fromCache&&"server"===r.source?i.reject(new qu(Vu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Wp(n,a,{includeMetadataChanges:!0,Ou:!0});return Up(e,o)},i.next=3,Vv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Gv=new Map;function Kv(e,t,n){if(!n)throw new qu(Vu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qv(e){if(!cf.isDocumentKey(e))throw new qu(Vu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jv(e){if(cf.isDocumentKey(e))throw new qu(Vu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Fu()}function Yv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qu(Vu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xv(e);throw new qu(Vu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var $v=function(){function e(t){var n;if(yn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new qu(Vu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qu(Vu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new qu(Vu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return kn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Zv=function(){function e(t,n,r,i){yn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1}return kn(e,[{key:"app",get:function(){if(!this._app)throw new qu(Vu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new qu(Vu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gu;switch(e.type){case"gapi":var t=e.client;return new Xu(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qu(Vu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Gv.get(e);t&&(Mu("ComponentProvider","Removing Datastore"),Gv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function em(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Yv(e,Zv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Nu.MOCK_USER;else{o=Fn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new qu(Vu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Nu(u)}e._authCredentials=new Ku(new Wu(o,s))}}var tm=function(){function e(t,n,r){yn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return kn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new rm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),nm=function(){function e(t,n,r){yn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return kn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),rm=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a;return yn(this,n),(a=t.call(this,e,r,Bc(i)))._path=i,a.type="collection",a}return kn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new tm(this.firestore,null,new cf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(nm);function im(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hr(e),Kv("collection","path",t),e instanceof Zv){var a=sf.fromString.apply(sf,[t].concat(r));return Jv(a),new rm(e,null,a)}if(!(e instanceof tm||e instanceof rm))throw new qu(Vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sf.fromString.apply(sf,[t].concat(r)));return Jv(o),new rm(e.firestore,null,o)}function am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hr(e),1===arguments.length&&(t=ef.R()),Kv("doc","path",t),e instanceof Zv){var a=sf.fromString.apply(sf,[t].concat(r));return Qv(a),new tm(e,null,new cf(a))}if(!(e instanceof tm||e instanceof rm))throw new qu(Vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sf.fromString.apply(sf,[t].concat(r)));return Qv(o),new tm(e.firestore,e instanceof rm?e.converter:null,new cf(o))}var om=function(){function e(){var t=this;yn(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new jh(this,"async_queue_retry"),this.Hc=function(){var e=Mh();e&&Mu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Mh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return kn(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Mh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Hu;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=on(rn().mark((function e(){var t=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),wf(e.t0)){e.next=12;break}throw e.t0;case 12:Mu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=Np.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Fu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=hn(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=hn(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function sm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=hn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var um=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a){var o;return yn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new om,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return kn(n,[{key:"_terminate",value:function(){return this._firestoreClient||lm(this),this._firestoreClient.terminate()}}]),n}(Zv);function fm(e,t){var n="string"==typeof e?e:t||"(default)",r=ti("object"==typeof e?e:si(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Mn("firestore");i&&em.apply(void 0,[r].concat(gn(i)))}return r}function cm(e){return e._firestoreClient||lm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lm(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ef(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Pv(e._authCredentials,e._appCheckCredentials,e._queue,r)}var dm=function(){function e(t){yn(this,e),this._byteString=t}return kn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Pf.fromBase64String(t))}catch(t){throw new qu(Vu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Pf.fromUint8Array(t))}}]),e}(),hm=function(){function e(){yn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new qu(Vu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ff(n)}return kn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pm=kn((function e(t){yn(this,e),this._methodName=t})),vm=function(){function e(t,n){if(yn(this,e),!isFinite(t)||t<-90||t>90)throw new qu(Vu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new qu(Vu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return kn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return tf(this._lat,e._lat)||tf(this._long,e._long)}}]),e}(),mm=/^__.*__$/,gm=function(){function e(t,n,r){yn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return kn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Al(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}]),e}(),ym=function(){function e(t,n,r){yn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return kn(e,[{key:"toMutation",value:function(e,t){return new Al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fu()}}var km=function(){function e(t,n,r,i,a,o){yn(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return kn(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return jm(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(bm(this.ra)&&mm.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),wm=function(){function e(t,n,r){yn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Lh(t)}return kn(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new km({ra:e,methodName:t,_a:n,path:ff.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function _m(e){var t=e._freezeSettings(),n=Lh(e._databaseId);return new wm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Em(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);Om("Data must be an object, but it was:",o,r);var s,u,f=Nm(r,o);if(a.merge)s=new Ic(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,l=[],d=hn(a.mergeFields);try{for(d.s();!(c=d.n()).done;){var h=Dm(t,c.value,n);if(!o.contains(h))throw new qu(Vu.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Um(l,h)||l.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new Ic(l),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new gm(new Rc(f),s,u)}var Cm=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pm);function xm(e,t,n){return new km({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var Sm=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this,e)).ma=r,i}return kn(n,[{key:"_toFieldTransform",value:function(e){var t=xm(this,e,!0),n=this.ma.map((function(e){return Rm(e,t)})),r=new dl(n);return new gl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pm);function Tm(e,t,n,r){var i=e.wa(1,t,n);Om("Data must be an object, but it was:",i,r);var a=[],o=Rc.empty();Sf(r,(function(e,r){var s=Lm(t,e,n);r=hr(r);var u=i.ha(s);if(r instanceof Cm)a.push(s);else{var f=Rm(r,u);null!=f&&(a.push(s),o.set(s,f))}}));var s=new Ic(a);return new ym(o,s,i.fieldTransforms)}function Am(e,t,n,r,i,a){var o=e.wa(1,t,n),s=[Dm(t,r,n)],u=[i];if(a.length%2!=0)throw new qu(Vu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var f=0;f<a.length;f+=2)s.push(Dm(t,a[f])),u.push(a[f+1]);for(var c=[],l=Rc.empty(),d=s.length-1;d>=0;--d)if(!Um(c,s[d])){var h=s[d],p=u[d];p=hr(p);var v=o.ha(h);if(p instanceof Cm)c.push(h);else{var m=Rm(p,v);null!=m&&(c.push(h),l.set(h,m))}}var g=new Ic(c);return new ym(l,g,o.fieldTransforms)}function Im(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rm(n,e.wa(r?4:3,t))}function Rm(e,t){if(Pm(e=hr(e)))return Om("Unsupported field value:",t,e),Nm(e,t);if(e instanceof pm)return function(e,t){if(!bm(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=hn(e);try{for(a.s();!(n=a.n()).done;){var o=Rm(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=hr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return il(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rf.fromDate(e);return{timestampValue:dd(t.Tt,n)}}if(e instanceof rf){var r=new rf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dd(t.Tt,r)}}if(e instanceof vm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dm)return{bytesValue:hd(t.Tt,e._byteString)};if(e instanceof tm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:md(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(Xv(e)))}(e,t)}function Nm(e,t){var n={};return Tf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sf(e,(function(e,r){var i=Rm(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rf||e instanceof vm||e instanceof dm||e instanceof tm||e instanceof pm)}function Om(e,t,n){if(!Pm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Xv(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function Dm(e,t,n){if((t=hr(t))instanceof hm)return t._internalPath;if("string"==typeof t)return Lm(e,t);throw jm("Field path arguments must be of type string or ",e,!1,void 0,n)}var Mm=new RegExp("[~\\*/\\[\\]]");function Lm(e,t,n){if(t.search(Mm)>=0)throw jm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return fn(hm,gn(t.split(".")))._internalPath}catch(O){throw jm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new qu(Vu.INVALID_ARGUMENT,s+e+u)}function Um(e,t){return e.some((function(e){return e.isEqual(t)}))}var Fm=function(){function e(t,n,r,i,a){yn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return kn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new tm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Bm=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"data",value:function(){return ln(cn(n.prototype),"data",this).call(this)}}]),n}(Fm);function zm(e,t){return"string"==typeof t?Lm(e,t):t instanceof hm?t._internalPath:t._delegate._internalPath}function Vm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qu(Vu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qm=kn((function e(){yn(this,e)})),Hm=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n)}(qm);function Wm(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof qm&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Km})).length,n=e.filter((function(e){return e instanceof Gm})).length;if(t>1||t>0&&n>0)throw new qu(Vu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=hn(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Gm=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a;return yn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return kn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Xm(e._query,t),new nm(e.firestore,e.converter,Kc(e._query,t))}},{key:"_parse",value:function(e){var t=_m(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new qu(Vu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Jm(o,a);var u,f=[],c=hn(o);try{for(c.s();!(u=c.n()).done;){var l=u.value;f.push(Qm(r,e,l))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:f}}}else s=Qm(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Jm(o,a),s=Im(n,"where",o,"in"===a||"not-in"===a);return oc.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Hm);var Km=function(e){pn(n,e);var t=mn(n);function n(e,r){var i;return yn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return kn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:sc.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=hn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Xm(r,a),r=Kc(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new nm(e.firestore,e.converter,Kc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qm);function Qm(e,t,n){if("string"==typeof(n=hr(n))){if(""===n)throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hc(t)&&-1!==n.indexOf("/"))throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sf.fromString(n));if(!cf.isDocumentKey(r))throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qf(e,new cf(r))}if(n instanceof tm)return Qf(e,n._key);throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xv(n),"."))}function Jm(e,t){if(!Array.isArray(e)||0===e.length)throw new qu(Vu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Xm(e,t){if(t.isInequality()){var n=qc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Vc(e);null!==i&&Ym(e,r,i)}var a=function(e,t){var n,r=hn(e);try{for(r.s();!(n=r.n()).done;){var i,a=hn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new qu(Vu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new qu(Vu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Ym(e,t,n){if(!n.isEqual(t))throw new qu(Vu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var $m=function(){function e(){yn(this,e)}return kn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Sf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vm(Mf(e.latitude),Mf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Uf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ff(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Df(e);return new rf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sf.fromString(e);Bu(jd(n));var r=new Cf(n.get(1),n.get(3)),i=new cf(n.popFirst(5));return r.isEqual(t)||Lu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Zm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eg=function(){function e(t,n){yn(this,e),this.hasPendingWrites=t,this.fromCache=n}return kn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),tg=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a,o,s){var u;return yn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return kn(n,[{key:"exists",value:function(){return ln(cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Fm),ng=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ln(cn(n.prototype),"data",this).call(this,e)}}]),n}(tg),rg=function(){function e(t,n,r,i){yn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eg(i.hasPendingWrites,i.fromCache),this.query=r}return kn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ng(n._firestore,n._userDataWriter,r.key,r,new eg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qu(Vu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ng(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ng(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ig(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ig(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fu()}}function ag(e){e=Yv(e,tm);var t=Yv(e.firestore,um);return Hv(cm(t),e._key).then((function(n){return pg(t,e,n)}))}var og=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).firestore=e,r}return kn(n,[{key:"convertBytes",value:function(e){return new dm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tm(this.firestore,null,t)}}]),n}($m);function sg(e){e=Yv(e,nm);var t=Yv(e.firestore,um),n=cm(t),r=new og(t);return Vm(e._query),Wv(n,e._query).then((function(n){return new rg(t,r,e,n)}))}function ug(e,t,n){e=Yv(e,tm);var r=Yv(e.firestore,um),i=Zm(e.converter,t,n);return hg(r,[Em(_m(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bl.none())])}function fg(e,t,n){e=Yv(e,tm);for(var r=Yv(e.firestore,um),i=_m(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return hg(r,[("string"==typeof(t=hr(t))||t instanceof hm?Am(i,"updateDoc",e._key,t,n,o):Tm(i,"updateDoc",e._key,t)).toMutation(e._key,bl.exists(!0))])}function cg(e){return hg(Yv(e.firestore,um),[new Dl(e._key,bl.none())])}function lg(e,t){var n=Yv(e.firestore,um),r=am(e),i=Zm(e.converter,t);return hg(n,[Em(_m(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bl.exists(!1))]).then((function(){return r}))}function dg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=hr(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||sm(n[u])||(s=n[u],u++);var f,c,l,d={includeMetadataChanges:s.includeMetadataChanges};if(sm(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof tm)c=Yv(e.firestore,um),l=Bc(e._key.path),f={next:function(t){n[u]&&n[u](pg(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Yv(e,nm);c=Yv(p.firestore,um),l=p._query;var v=new og(c);f={next:function(e){n[u]&&n[u](new rg(c,v,p,e))},error:n[u+1],complete:n[u+2]},Vm(e._query)}return function(e,t,n,r){var i=new Nv(r),a=new Wp(t,i,n);return e.asyncQueue.enqueueAndForget(on(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Up,t.next=3,Vv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(on(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bp,t.next=3,Vv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(cm(c),l,d,f)}function hg(e,t){return function(e,t){var n=new Hu;return e.asyncQueue.enqueueAndForget(on(rn().mark((function r(){return rn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=iv,r.next=3,zv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(cm(e),t)}function pg(e,t,n){var r=n.docs.get(t._key),i=new og(e);return new tg(e,i,t._key,r,new eg(n.hasPendingWrites,n.fromCache),t.converter)}function vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sm("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pu=e}(ai),ei(new pr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new um(new Qu(e.getProvider("auth-internal")),new $u(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qu(Vu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ui(Ru,"3.8.4",e),ui(Ru,"3.8.4","esm2017")}();var mg=n(184),gg=function(e){var t=e.label,n=e.classname,r=e.type,i=p(Qt);return"p"===r?(0,mg.jsx)("p",{className:"light"===i.theme?"".concat(n," light__color"):"".concat(n," dark__color"),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t}):"h1"===r?(0,mg.jsx)("h1",{className:"light"===i.theme?"".concat(n," light__color"):"".concat(n," dark__color"),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t}):"h3"===r?(0,mg.jsx)("h3",{className:"light"===i.theme?"".concat(n," light__color"):"".concat(n," dark__color"),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t}):void 0};var yg=n.p+"static/media/logout.1c3bff3a41d3035020f8ecf148a68916.svg";var bg=n.p+"static/media/back.d8cbb569748c26b69944f10a816a3edb.svg";var kg=n.p+"static/media/clip.7d654ae5bd1cb9a86b0e3d25f9dcfda7.svg";var wg=n.p+"static/media/close.59b3c18f6f7a7edc49bad33eff2d0250.svg";var _g=n.p+"static/media/dots.d7cbcbd3110d22a4a15a210897d98904.svg";var Eg=n.p+"static/media/language.dbb5d675cacf95f423a41c4169740516.svg";var Cg=n.p+"static/media/light.6db2ed36eacdf587eeea942be73a3b7c.svg";var xg=n.p+"static/media/night.534f5391a391eaf0468f68928d0c3239.svg";var Sg=n.p+"static/media/settings.289702251cb32e423f73bc455b382a2d.svg";var Tg=n.p+"static/media/smile.0b98a46e07f4543c3d920de488393592.svg";var Ag=n.p+"static/media/trash.40b9b997823a71a3e834c87d9873bf06.svg";var Ig=n.p+"static/media/micro.4c7206a86efd590a1c04e116e9a261eb.svg";var Rg=n.p+"static/media/Burger.9ff1920d953e9f8edd8dc356cacb6354.svg";var Ng=n.p+"static/media/send.35b42fca5abe95b7e3b73e1238b6ba99.svg";var Pg=n.p+"static/media/logout.65463921c1044f5b76329665c20aadfd.svg";var Og=n.p+"static/media/back.ded3eafe11c067a4f250d53dcf02e901.svg";var Dg=n.p+"static/media/clip.50102dcad00d89570e95ee15536b460b.svg";var Mg=n.p+"static/media/close.d7d26dcb6951bba033f6ac1383be5394.svg";var Lg=n.p+"static/media/dots.ace74898c40a66b13b45ea39e9d65087.svg";var jg=n.p+"static/media/language.d55fa237d4d3bea8a1ac7396338cd9e8.svg";var Ug=n.p+"static/media/light.2405634456399e50da010f87e1e0283d.svg";var Fg=n.p+"static/media/night.d059d399ebfa45a2510ab7e732205150.svg";var Bg=n.p+"static/media/settings.2e4dce37f99a68e5302ef8cf1571f095.svg";var zg=n.p+"static/media/smile.a6df0f60c8b8b3bd0704ca3250d55750.svg";var Vg=n.p+"static/media/trash.75bc9b5e7ebc99a6f10060d1c9a68168.svg";var qg=n.p+"static/media/micro.eab4c59773148e8e021530124c48a329.svg";var Hg=n.p+"static/media/Burger.4891247c5587bffc7a6199606b33746a.svg";var Wg=n.p+"static/media/send.ab03ffca1e9868b30bbf71694f1c4c67.svg",Gg={Logout_def:yg,Back_def:bg,Clip_def:kg,Close_def:wg,Dots_def:_g,Language_def:Eg,Light_def:Cg,Night_def:xg,Settings_def:Sg,Smile_def:Tg,Trash_def:Ag,Micro_def:Ig,Burger_def:Rg,Send_def:Ng,Plus_def:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB7dNBCgAgCETRIbr/Fe0mRmBbKVBcOA9mF/xNAhRMbGnU9mwgGQMNA+ePq7PLeyNeoBwPjYGCwMSfBYq2ARneFmsufOkLAAAAAElFTkSuQmCC"},Kg={Logout_night:Pg,Back_night:Og,Clip_night:Dg,Close_night:Mg,Dots_night:Lg,Language_night:jg,Light_night:Ug,Night_night:Fg,Settings_night:Bg,Smile_night:zg,Trash_night:Vg,Micro_night:qg,Burger_night:Hg,Send_night:Wg,Plus_night:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABgSURBVHgB7ZXBCcAgFENj6SAtncDlOoTLdYGWuokiIoi3oJ7Mg3/IIT98CHxAjMS670/DeHZQhAMkGyajgAUCTC1yx/kqNiv9c19nUdMvoLDuDWkYj1qkgH7If2A8xGgigpgSPkDenw8AAAAASUVORK5CYII="},Qg=function(t){var n=t.isModalShown,r=t.setModalShown,i=t.setModalShown2,a=t.setModalShown3,o=p(Lt),s=p(Et),u=nn((0,e.useState)(null),2),f=u[0],c=u[1],l=function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.user.id,o.choosedThread.admin===t?c(!0):c(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){l()}),[o]);var d=E(),h=function(){var e=on(rn().mark((function e(t){var n,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fm(),i=am(im(n,"threads"),t),e.next=4,cg(i);case 4:return d(Mt(null)),r(!1),a=am(im(n,"bots"),t),e.next=9,cg(a);case 9:d(Mt(null)),r(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=p(Qt),m=p($t);return(0,mg.jsxs)("div",{className:"light"===v.theme?"modal-moreactions light__background ":"modal-moreactions dark__background ",style:{opacity:n?"1":"0",visibility:n?"visible":"hidden",transform:"translateX(".concat(n?"0%":"200%",")")},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===v.theme?Gg.Close_def:Kg.Close_night,")")},className:"close",onClick:function(){return r((function(e){return!e}))}}),(0,mg.jsxs)("ul",{children:[(0,mg.jsxs)("li",{onClick:function(){return h(o.choosedThread.id)},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===v.theme?Gg.Trash_def:Kg.Trash_night,")")},className:"trash"}),(0,mg.jsx)(gg,{type:"p",label:"en"===m.language?"delete":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})]}),f?(0,mg.jsxs)(mg.Fragment,{children:[(0,mg.jsxs)("li",{onClick:function(){i(!0),r(!1)},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===v.theme?Gg.Plus_def:Kg.Plus_night,")")},className:"trash"}),(0,mg.jsx)(gg,{type:"p",label:"en"===m.language?"invite":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),(0,mg.jsxs)("li",{onClick:function(){a(!0),r(!1)},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===v.theme?Gg.Trash_def:Kg.Trash_night,")")},className:"trash"}),(0,mg.jsx)(gg,{type:"p",label:"en"===m.language?"remove":"\u0443\u0431\u0440\u0430\u0442\u044c"})]})]}):null]})]})};ui("firebase","9.17.2","app");function Jg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Xg;Object.create;function Yg(){return Te({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $g=Yg,Zg=new Qn("auth","Firebase",Yg()),ey=new xr("@firebase/auth");function ty(e){if(ey.logLevel<=yr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ey.error.apply(ey,["Auth (".concat(ai,"): ").concat(e)].concat(n))}}function ny(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw oy.apply(void 0,[e].concat(n))}function ry(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oy.apply(void 0,[e].concat(n))}function iy(e,t,n){var r=Object.assign(Object.assign({},$g()),Te({},t,n));return new Qn("auth","Firebase",r).create(t,{appName:e.name})}function ay(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ny(e,"argument-error"),iy(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function oy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=gn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(gn(o)))}return Zg.create.apply(Zg,[e].concat(n))}function sy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw oy.apply(void 0,[t].concat(r))}}function uy(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ty(t),new Error(t)}function fy(e,t){e||uy(t)}var cy=new Map;function ly(e){fy(e instanceof Function,"Expected a class definition");var t=cy.get(e);return t?(fy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cy.set(e,t),t)}function dy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hy(){return"http:"===py()||"https:"===py()}function py(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function vy(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hy()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var my=function(){function e(t,n){yn(this,e),this.shortDelay=t,this.longDelay=n,fy(n>t,"Short delay should be less than long delay!"),this.isMobile=zn()||qn()}return kn(e,[{key:"get",value:function(){return vy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function gy(e,t){fy(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yy=function(){function e(){yn(this,e)}return kn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void uy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void uy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void uy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),by=(Te(Xg={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Te(Xg,"MISSING_CUSTOM_TOKEN","internal-error"),Te(Xg,"INVALID_IDENTIFIER","invalid-email"),Te(Xg,"MISSING_CONTINUE_URI","internal-error"),Te(Xg,"INVALID_PASSWORD","wrong-password"),Te(Xg,"MISSING_PASSWORD","internal-error"),Te(Xg,"EMAIL_EXISTS","email-already-in-use"),Te(Xg,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Te(Xg,"INVALID_IDP_RESPONSE","invalid-credential"),Te(Xg,"INVALID_PENDING_TOKEN","invalid-credential"),Te(Xg,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Te(Xg,"MISSING_REQ_TYPE","internal-error"),Te(Xg,"EMAIL_NOT_FOUND","user-not-found"),Te(Xg,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Te(Xg,"EXPIRED_OOB_CODE","expired-action-code"),Te(Xg,"INVALID_OOB_CODE","invalid-action-code"),Te(Xg,"MISSING_OOB_CODE","internal-error"),Te(Xg,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Te(Xg,"INVALID_ID_TOKEN","invalid-user-token"),Te(Xg,"TOKEN_EXPIRED","user-token-expired"),Te(Xg,"USER_NOT_FOUND","user-token-expired"),Te(Xg,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Te(Xg,"INVALID_CODE","invalid-verification-code"),Te(Xg,"INVALID_SESSION_INFO","invalid-verification-id"),Te(Xg,"INVALID_TEMPORARY_PROOF","invalid-credential"),Te(Xg,"MISSING_SESSION_INFO","missing-verification-id"),Te(Xg,"SESSION_EXPIRED","code-expired"),Te(Xg,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Te(Xg,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Te(Xg,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Te(Xg,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Te(Xg,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Te(Xg,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Te(Xg,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Te(Xg,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Te(Xg,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Te(Xg,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Te(Xg,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xg),ky=new my(3e4,6e4);function wy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function _y(e,t,n,r){return Ey.apply(this,arguments)}function Ey(){return Ey=on(rn().mark((function e(t,n,r,i){var a,o=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Cy(t,a,on(rn().mark((function e(){var a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ar(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yy.fetch()(Ay(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Cy(e,t,n){return xy.apply(this,arguments)}function xy(){return xy=on(rn().mark((function e(t,n,r){var i,a,o,s,u,f,c,l,d,h;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},by),n),e.prev=2,a=new Iy(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ry(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,f=u.split(" : "),c=nn(f,2),l=c[0],d=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==l){e.next=23;break}throw Ry(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==l){e.next=27;break}throw Ry(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==l){e.next=29;break}throw Ry(t,"user-disabled",s);case 29:if(h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw iy(t,h,d);case 34:ny(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Kn)){e.next=41;break}throw e.t0;case 41:ny(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),xy.apply(this,arguments)}function Sy(e,t,n,r){return Ty.apply(this,arguments)}function Ty(){return Ty=on(rn().mark((function e(t,n,r,i){var a,o,s=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,_y(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ny(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Ay(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?gy(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Iy=function(){function e(t){var n=this;yn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ry(n.auth,"network-request-failed"))}),ky.get())}))}return kn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ry(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ry(e,t,r);return i.customData._tokenResponse=n,i}function Ny(e,t){return Py.apply(this,arguments)}function Py(){return Py=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_y(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Oy(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_y(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function My(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ly(){return Ly=on(rn().mark((function e(t){var n,r,i,a,o,s,u=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=hr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,sy((a=Uy(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:My(jy(a.auth_time)),issuedAtTime:My(jy(a.iat)),expirationTime:My(jy(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function jy(e){return 1e3*Number(e)}function Uy(e){var t=nn(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ty("JWT malformed, contained fewer than 3 sections"),null;try{var a=In(r);return a?JSON.parse(a):(ty("Failed to decode base64 JWT payload"),null)}catch(o){return ty("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Fy(e,t){return By.apply(this,arguments)}function By(){return By=on(rn().mark((function e(t,n){var r=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Kn&&zy(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),By.apply(this,arguments)}function zy(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Vy=function(){function e(t){yn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return kn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(on(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qy=function(){function e(t,n){yn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return kn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=My(this.lastLoginAt),this.creationTime=My(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=on(rn().mark((function e(t){var n,r,i,a,o,s,u,f,c,l,d;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fy(t,Oy(r,{idToken:i}));case 6:sy(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Jg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ky(t.providerData,s),f=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),l=!!f&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qy(o.createdAt,o.lastLoginAt),isAnonymous:l},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Wy.apply(this,arguments)}function Gy(){return(Gy=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hr(t),e.next=3,Hy(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ky(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(gn(n),gn(t))}function Qy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cy(t,{},on(rn().mark((function e(){var r,i,a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ay(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yy.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}var Xy=function(){function e(){yn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return kn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){sy(e.idToken,"internal-error"),sy("undefined"!==typeof e.idToken,"internal-error"),sy("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Uy(e);return sy(t,"internal-error"),sy("undefined"!==typeof t.exp,"internal-error"),sy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=on(rn().mark((function e(t){var n,r=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],sy(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=on(rn().mark((function e(t,n){var r,i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qy(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return uy("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(sy("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(sy("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(sy("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Yy(e,t){sy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var $y=function(){function e(t){yn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Jg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?gn(a.providerData):[],this.metadata=new qy(a.createdAt||void 0,a.lastLoginAt||void 0)}return kn(e,[{key:"getIdToken",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fy(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(sy(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ly.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Gy.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(sy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){sy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=on(rn().mark((function e(t){var n,r,i=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Hy(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Fy(this,Ny(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,f,c,l=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(f=n.createdAt)&&void 0!==f?f:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,E=n.stsTokenManager;sy(b&&E,t,"internal-error");var C=Xy.fromJSON(this.name,E);sy("string"===typeof b,t,"internal-error"),Yy(l,t.name),Yy(d,t.name),sy("boolean"===typeof k,t,"internal-error"),sy("boolean"===typeof w,t,"internal-error"),Yy(h,t.name),Yy(p,t.name),Yy(v,t.name),Yy(m,t.name),Yy(g,t.name),Yy(y,t.name);var x=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:l,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(x.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=on(rn().mark((function t(n,r){var i,a,o,s=arguments;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Xy).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Hy(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Zy=function(){function e(){yn(this,e),this.type="NONE",this.storage={}}return kn(e,[{key:"_isAvailable",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Zy.type="NONE";var eb=Zy;function tb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var nb=function(){function e(t,n,r){yn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=tb(this.userKey,a.apiKey,o),this.fullPersistenceKey=tb("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return kn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?$y._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=on(rn().mark((function t(n,r){var i,a,o,s,u,f,c,l,d,h,p,v=arguments;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ly(eb),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ly(eb),s=tb(i,n.config.apiKey,n.name),u=null,f=hn(r),t.prev=10,f.s();case 12:if((c=f.n()).done){t.next=29;break}return l=c.value,t.prev=14,t.next=17,l._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=$y._fromJSON(n,d),l!==o&&(u=h),o=l,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function rb(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ib(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fb(t))return"Blackberry";if(cb(t))return"Webos";if(ab(t))return"Safari";if((t.includes("chrome/")||ob(t))&&!t.includes("edge/"))return"Chrome";if(ub(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ib(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/firefox\//i.test(e)}function ab(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/crios\//i.test(e)}function sb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/iemobile/i.test(e)}function ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/android/i.test(e)}function fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/blackberry/i.test(e)}function cb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/webos/i.test(e)}function lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function db(){return function(){var e=Bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function hb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn();return lb(e)||ub(e)||cb(e)||fb(e)||/windows phone/i.test(e)||sb(e)}function pb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rb(Bn());break;case"Worker":t="".concat(rb(Bn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ai,"/").concat(r)}var vb=function(){function e(t){yn(this,e),this.auth=t,this.queue=[]}return kn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=on(rn().mark((function e(t){var n,r,i,a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=hn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=hn(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(V){}}}catch(f){o.e(f)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mb=function(){function e(t,n,r){yn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new vb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return kn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ly(t)),this._initializationPromise=this.queue(on(rn().mark((function r(){var i,a;return rn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,nb.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=on(rn().mark((function e(t){var n,r,i,a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return sy(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hy(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?hr(t):null)&&sy(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=on(rn().mark((function e(t){var n,r=this,i=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&sy(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(on(rn().mark((function n(){return rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ly(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Qn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return sy(n=t&&ly(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,nb.create(this,[ly(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=on(rn().mark((function e(t){var n=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return sy(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return sy(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=on(rn().mark((function e(){var t,n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gb(e){return hr(e)}var yb=function(){function e(t){var n=this;yn(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new fr(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return kn(e,[{key:"next",get:function(){return sy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bb(e,t,n){var r=gb(e);sy(r._canInitEmulator,r,"emulator-config-failed"),sy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=kb(t),o=function(e){var t=kb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wb(r.substr(a.length+1))}}var o=nn(r.split(":"),2);return{host:o[0],port:wb(o[1])}}(t),s=o.host,u=o.port,f=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(f,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kb(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wb(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var _b=function(){function e(t,n){yn(this,e),this.providerId=t,this.signInMethod=n}return kn(e,[{key:"toJSON",value:function(){return uy("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return uy("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return uy("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return uy("not implemented")}}]),e}();function Eb(e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function xb(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithPassword",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Tb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithEmailLink",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Ib(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithEmailLink",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}var Nb=function(e){pn(n,e);var t=mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return yn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return kn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xb(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Tb(t,{email:this._email,oobCode:this._password}));case 5:ny(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Eb(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ib(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ny(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_b);function Pb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithIdp",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}var Db=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return kn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pb(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pb(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pb(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ar(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ny("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Jg(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_b);function Mb(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_y(t,"POST","/v1/accounts:sendVerificationCode",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function jb(){return jb=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithPhoneNumber",wy(t,n)));case 1:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Ub(){return Ub=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sy(t,"POST","/v1/accounts:signInWithPhoneNumber",wy(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ry(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}var Fb=Te({},"USER_NOT_FOUND","user-not-found");function Bb(){return Bb=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sy(t,"POST","/v1/accounts:signInWithPhoneNumber",wy(t,r),Fb));case 2:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}var zb=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return kn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return jb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ub.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Bb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_b);var Vb=function(){function e(t){var n,r,i,a,o,s;yn(this,e);var u=or(sr(t)),f=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);sy(f&&c&&l,"argument-error"),this.apiKey=f,this.operation=l,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return kn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=or(sr(e)).link,n=t?or(sr(t)).deep_link_id:null,r=or(sr(e)).deep_link_id;return(r?or(sr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var qb=function(){function e(){yn(this,e),this.providerId=e.PROVIDER_ID}return kn(e,null,[{key:"credential",value:function(e,t){return Nb._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Vb.parseLink(t);return sy(n,"argument-error"),Nb._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qb.PROVIDER_ID="password",qb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hb=function(){function e(t){yn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return kn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wb=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return kn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return gn(this.scopes)}}]),n}(Hb),Gb=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.call(this,"facebook.com")}return kn(n,null,[{key:"credential",value:function(e){return Db._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wb);Gb.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gb.PROVIDER_ID="facebook.com";var Kb=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return kn(n,null,[{key:"credential",value:function(e,t){return Db._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wb);Kb.GOOGLE_SIGN_IN_METHOD="google.com",Kb.PROVIDER_ID="google.com";var Qb=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.call(this,"github.com")}return kn(n,null,[{key:"credential",value:function(e){return Db._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wb);Qb.GITHUB_SIGN_IN_METHOD="github.com",Qb.PROVIDER_ID="github.com";var Jb=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.call(this,"twitter.com")}return kn(n,null,[{key:"credential",value:function(e,t){return Db._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wb);Jb.TWITTER_SIGN_IN_METHOD="twitter.com",Jb.PROVIDER_ID="twitter.com";var Xb=function(){function e(t){yn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return kn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=on(rn().mark((function t(n,r,i){var a,o,s,u,f=arguments;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f.length>3&&void 0!==f[3]&&f[3],t.next=3,$y._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Yb(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=on(rn().mark((function t(n,r,i){var a;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var $b=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a){var o,s;return yn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(vn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return kn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Kn);function Zb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $b._fromErrorAndOperation(e,n,t,r);throw n}))}function ek(e,t){return tk.apply(this,arguments)}function tk(){return tk=on(rn().mark((function e(t,n){var r,i,a=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fy,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xb._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=on(rn().mark((function e(t,n){var r,i,a,o,s,u,f=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]&&f[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Fy(t,Zb(i,a,n,t),r);case 6:return sy((o=e.sent).idToken,i,"internal-error"),sy(s=Uy(o.idToken),i,"internal-error"),u=s.sub,sy(t.uid===u,i,"user-mismatch"),e.abrupt("return",Xb._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ny(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),rk.apply(this,arguments)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=on(rn().mark((function e(t,n){var r,i,a,o,s=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Zb(t,i,n);case 4:return a=e.sent,e.next=7,Xb._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t){return _y(e,"POST","/v2/accounts/mfaEnrollment:start",wy(e,t))}new WeakMap;var sk="__sak",uk=function(){function e(t,n){yn(this,e),this.storageRetriever=t,this.type=n}return kn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(sk,"1"),this.storage.removeItem(sk),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fk=10,ck=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Bn();return ab(e)||lb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=hb(),e._shouldAllowMigration=!0,e}return kn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);db()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fk):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=on(rn().mark((function e(t,r){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(cn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=on(rn().mark((function e(t){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(cn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(cn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uk);ck.type="LOCAL";var lk=ck,dk=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return kn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uk);dk.type="SESSION";var hk=dk;function pk(e){return Promise.all(e.map(function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vk=function(){function e(t){yn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return kn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=on(rn().mark((function e(t){var n,r,i,a,o,s,u,f;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,pk(u);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function mk(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vk.receivers=[];var gk=function(){function e(t){yn(this,e),this.target=t,this.handlers=new Set}return kn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=on(rn().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var f=mk("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===f)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:f,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yk(){return window}function bk(){return"undefined"!==typeof yk().WorkerGlobalScope&&"function"===typeof yk().importScripts}function kk(){return wk.apply(this,arguments)}function wk(){return(wk=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _k(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ek="firebaseLocalStorageDb",Ck=1,xk="firebaseLocalStorage",Sk="fbase_key",Tk=function(){function e(t){yn(this,e),this.request=t}return kn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ak(e,t){return e.transaction([xk],t?"readwrite":"readonly").objectStore(xk)}function Ik(){var e=indexedDB.deleteDatabase(Ek);return new Tk(e).toPromise()}function Rk(){var e=indexedDB.open(Ek,Ck);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xk,{keyPath:Sk})}catch(r){n(r)}})),e.addEventListener("success",on(rn().mark((function n(){var r;return rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xk)){n.next=12;break}return r.close(),n.next=5,Ik();case 5:return n.t0=t,n.next=8,Rk();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Nk(e,t,n){return Pk.apply(this,arguments)}function Pk(){return Pk=on(rn().mark((function e(t,n,r){var i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ak(t,!0).put((Te(i={},Sk,n),Te(i,"value",r),i)),e.abrupt("return",new Tk(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Ok(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=on(rn().mark((function e(t,n){var r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ak(t,!1).get(n),e.next=3,new Tk(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Mk(e,t){var n=Ak(e,!0).delete(t);return new Tk(n).toPromise()}var Lk=function(){function e(){yn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return kn(e,[{key:"_openDb",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rk();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bk()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=on(rn().mark((function e(){var t=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vk._getInstance(bk()?self:null),this.receiver._subscribe("keyChanged",function(){var e=on(rn().mark((function e(n,r){var i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=on(rn().mark((function e(t,n){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=on(rn().mark((function e(){var t,n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kk();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gk(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_k()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rk();case 5:return t=e.sent,e.next=8,Nk(t,sk,"1");case 8:return e.next=10,Mk(t,sk);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=on(rn().mark((function e(t){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=on(rn().mark((function e(t,n){var r=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Nk(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ok(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=on(rn().mark((function e(t){var n=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Mk(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=on(rn().mark((function e(){var t,n,r,i,a,o,s,u,f,c,l;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ak(e,!1).getAll();return new Tk(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=hn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(f=0,c=Object.keys(this.localCache);f<c.length;f++)l=c[f],this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(on(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Lk.type="LOCAL";var jk=Lk;function Uk(e,t){return _y(e,"POST","/v2/accounts/mfaSignIn:start",wy(e,t))}function Fk(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ry("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Bk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Bk("rcb"),new my(3e4,6e4);var zk="recaptcha";function Vk(e,t,n){return qk.apply(this,arguments)}function qk(){return qk=on(rn().mark((function e(t,n,r){var i,a,o,s,u,f,c,l,d;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,sy("string"===typeof a,t,"argument-error"),sy(r.type===zk,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return sy("enroll"===s.type,t,"internal-error"),e.next=13,ok(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return sy("signin"===s.type,t,"internal-error"),sy(f=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Uk(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Mb(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return l=e.sent,d=l.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qk.apply(this,arguments)}var Hk=function(){function e(t){yn(this,e),this.providerId=e.PROVIDER_ID,this.auth=gb(t)}return kn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Vk(this.auth,e,hr(t))}}],[{key:"credential",value:function(e,t){return zb._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zb._fromTokenResponse(n,r):null}}]),e}();function Wk(e,t){return t?ly(t):(sy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hk.PROVIDER_ID="phone",Hk.PHONE_SIGN_IN_METHOD="phone";var Gk=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return kn(n,[{key:"_getIdTokenResponse",value:function(e){return Pb(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pb(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pb(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_b);function Kk(e){return ik(e.auth,new Gk(e),e.bypassAuthState)}function Qk(e){var t=e.auth,n=e.user;return sy(n,t,"internal-error"),nk(n,new Gk(e),e.bypassAuthState)}function Jk(e){return Xk.apply(this,arguments)}function Xk(){return Xk=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,sy(r=t.user,n,"internal-error"),e.abrupt("return",ek(r,new Gk(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}var Yk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];yn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return kn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=on(rn().mark((function t(n,r){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=on(rn().mark((function e(t){var n,r,i,a,o,s,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kk;case"linkViaPopup":case"linkViaRedirect":return Jk;case"reauthViaPopup":case"reauthViaRedirect":return Qk;default:ny(this.auth,"internal-error")}}},{key:"resolve",value:function(e){fy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){fy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$k=new my(2e3,1e4);function Zk(e,t,n){return ew.apply(this,arguments)}function ew(){return ew=on(rn().mark((function e(t,n,r){var i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gb(t),ay(t,n,Hb),a=Wk(i,r),o=new tw(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}var tw=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a,o){var s;return yn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=vn(s),s}return kn(n,[{key:"executeNotNull",value:function(){var e=on(rn().mark((function e(){var t;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return sy(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=on(rn().mark((function e(){var t,n=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fy(1===this.filter.length,"Popup operations only handle one event"),t=mk(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ry(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ry(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ry(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,$k.get())}()}}]),n}(Yk);tw.currentPopupAction=null;var nw="pendingRedirect",rw=new Map,iw=function(e){pn(n,e);var t=mn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return yn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return kn(n,[{key:"execute",value:function(){var e=on(rn().mark((function e(){var t,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rw.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,aw(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ln(cn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rw.set(this.auth._key(),t);case 21:return this.bypassAuthState||rw.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=on(rn().mark((function e(t){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ln(cn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ln(cn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=on(rn().mark((function e(){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yk);function aw(e,t){return ow.apply(this,arguments)}function ow(){return ow=on(rn().mark((function e(t,n){var r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fw(n),i=uw(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}function sw(e,t){rw.set(e._key(),t)}function uw(e){return ly(e._redirectPersistence)}function fw(e){return tb(nw,e.config.apiKey,e.name)}function cw(e,t){return lw.apply(this,arguments)}function lw(){return lw=on(rn().mark((function e(t,n){var r,i,a,o,s,u=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=gb(t),a=Wk(i,n),o=new iw(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}var dw=function(){function e(t){yn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return kn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!pw(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ry(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(hw(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function hw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function pw(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=on(rn().mark((function e(t){var n,r=arguments;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",_y(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}var gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yw=/^https?/;function bw(){return bw=on(rn().mark((function e(t){var n,r,i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vw(t);case 4:n=e.sent,r=n.authorizedDomains,i=hn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!kw(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ny(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bw.apply(this,arguments)}function kw(e){var t=dy(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yw.test(r))return!1;if(gw.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ww=new my(3e4,6e4);function _w(){var e=yk().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=gn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ew=null;function Cw(e){return Ew=Ew||function(e){return new Promise((function(t,n){var r,i,a;function o(){_w(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){_w(),n(ry(e,"network-request-failed"))},timeout:ww.get()})}if(null===(i=null===(r=yk().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yk().gapi)||void 0===a?void 0:a.load)){var s=Bk("iframefcb");return yk()[s]=function(){gapi.load?o():n(ry(e,"network-request-failed"))},Fk("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ew=null,e}))}(e),Ew}var xw=new my(5e3,15e3),Sw="__/auth/iframe",Tw="emulator/auth/iframe",Aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rw(e){var t=e.config;sy(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?gy(t,Tw):"https://".concat(e.config.authDomain,"/").concat(Sw),r={apiKey:t.apiKey,appName:e.name,v:ai},i=Iw.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ar(r).slice(1))}function Nw(e){return Pw.apply(this,arguments)}function Pw(){return Pw=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cw(t);case 2:return n=e.sent,sy(r=yk().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Rw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aw,dontclear:!0},(function(e){return new Promise(function(){var n=on(rn().mark((function n(r,i){var a,o,s;return rn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){yk().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ry(t,"network-request-failed"),o=yk().setTimeout((function(){i(a)}),xw.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}var Ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dw=500,Mw=600,Lw="_blank",jw="http://localhost",Uw=function(){function e(t){yn(this,e),this.window=t,this.associatedEvent=null}return kn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Fw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dw,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mw,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ow),{width:r.toString(),height:i.toString(),top:a,left:o}),f=Bn().toLowerCase();n&&(s=ob(f)?Lw:n),ib(f)&&(t=t||jw,u.scrollbars="yes");var c=Object.entries(u).reduce((function(e,t){var n=nn(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return lb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(f)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Uw(null);var l=window.open(t||"",s,c);sy(l,e,"popup-blocked");try{l.focus()}catch(d){}return new Uw(l)}var Bw="__/auth/handler",zw="emulator/auth/handler";function Vw(e,t,n,r,i,a){sy(e.config.authDomain,e,"auth-domain-config-required"),sy(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ai,eventId:i};if(t instanceof Hb){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",tr(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var f=nn(u[s],2),c=f[0],l=f[1];o[c]=l}}if(t instanceof Wb){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bw);return gy(t,zw)}(e),"?").concat(ar(h).slice(1))}var qw="webStorageSupport",Hw=function(){function e(){yn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hk,this._completeRedirectFn=cw,this._overrideRedirectResult=sw}return kn(e,[{key:"_openPopup",value:function(){var e=on(rn().mark((function e(t,n,r,i){var a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fy(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Vw(t,n,r,dy(),i),e.abrupt("return",Fw(t,o,mk()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=on(rn().mark((function e(t,n,r,i){return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Vw(t,n,r,dy(),i),yk().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(fy(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nw(t);case 2:return n=e.sent,r=new dw(t),n.register("authEvent",(function(e){return sy(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qw,{type:qw},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[qw];void 0!==i&&t(!!i),ny(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bw.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return hb()||ab()||lb()}}]),e}(),Ww=Hw,Gw=function(){function e(t){yn(this,e),this.factorId=t}return kn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return uy("unexpected MultiFactorSessionType")}}}]),e}(),Kw=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this,"phone")).credential=e,r}return kn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return _y(e,"POST","/v2/accounts/mfaEnrollment:finalize",wy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return _y(e,"POST","/v2/accounts/mfaSignIn:finalize",wy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Gw);(function(){function e(){yn(this,e)}return kn(e,null,[{key:"assertion",value:function(e){return Kw._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Qw="@firebase/auth",Jw="0.21.4",Xw=function(){function e(t){yn(this,e),this.auth=t,this.internalListeners=new Map}return kn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=on(rn().mark((function e(t){var n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){sy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Yw,$w=jn("authIdTokenMaxAge")||300,Zw=null,e_=function(e){return function(){var t=on(rn().mark((function t(n){var r,i,a;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>$w)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Zw!==a){t.next=12;break}return t.abrupt("return");case 12:return Zw=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Yw="Browser",ei(new pr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){sy(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),sy(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Yw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(Yw)},i=new mb(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ly);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ei(new pr("auth-internal",(function(e){return function(e){return new Xw(e)}(gb(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ui(Qw,Jw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yw)),ui(Qw,Jw,"esm2017");var t_=oi({apiKey:"AIzaSyDtNhg3ZTpKWc9DvL3qwznHeVX5mkX_D8w",authDomain:"messanger-271fa.firebaseapp.com",projectId:"messanger-271fa",storageBucket:"messanger-271fa.appspot.com",messagingSenderId:"706972794767",appId:"1:706972794767:web:3b3b9ea583610eb0c5d5fa"}),n_=fm(t_),r_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si(),t=ti(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=ti(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(rr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;ny(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ww,persistence:[jk,lk,hk]}),r=jn("authTokenSyncURL");if(r){var i=e_(r);!function(e,t,n){hr(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){hr(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=Dn("auth");return a&&bb(n,"http://".concat(a)),n}(t_),i_=function(t){var n=t.isModalShown,r=t.setModalShown,i=(E(),p(Lt)),a=p(Qt),o=(p($t),p(Et),nn((0,e.useState)(null),2)),s=o[0],u=o[1],f=nn((0,e.useState)(null),2),c=f[0],l=f[1],d=nn((0,e.useState)(""),2),h=d[0],v=d[1],m=nn((0,e.useState)(null),2),g=(m[0],m[1],function(){var e=on(rn().mark((function e(){var t,n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wm(im(n_,"users")),e.next=3,sg(t);case 3:n=e.sent,r=n.docs.map((function(e){return Ie({id:e.id},e.data())})),u(r),l(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,e.useEffect)((function(){g()}),[]),(0,e.useEffect)((function(){if(s){var e=s.filter((function(e){return e.displayName.includes(h)}));l(e)}}),[h]);var y=function(){var e=on(rn().mark((function e(t){var n,r,a,o,s;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.choosedThread.id,e.prev=1,r=am(n_,"threads",n),e.next=5,ag(r);case 5:if(a=e.sent,(o=a.data().members||[]).includes(t)){e.next=14;break}return s=[].concat(gn(o),[t]),e.next=11,fg(r,{members:s});case 11:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 ID ".concat(t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0447\u0430\u0442 ").concat(n,".")),e.next=15;break;case 14:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 ID ".concat(t," \u0443\u0436\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u043c \u0447\u0430\u0442\u0430 ").concat(n,"."));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0432 \u0447\u0430\u0442:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,mg.jsxs)("div",{className:"light"===a.theme?"modal-moreactions2 light__background ":"modal-moreactions2 dark__background ",style:{opacity:n?"1":"0",visibility:n?"visible":"hidden",transform:"translateX(".concat(n?"0%":"200%",")"),overflowY:"scroll"},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===a.theme?Gg.Close_def:Kg.Close_night,")")},className:"close",onClick:function(){return r((function(e){return!e}))}}),(0,mg.jsx)("input",{style:{width:"100%",border:"1px solid #000",height:40,marginTop:30,marginBottom:10},value:h,onChange:function(e){return v(e.target.value)}}),c?c.map((function(e){return(0,mg.jsxs)("div",{onClick:function(){return y(e.id)},style:{display:"flex",alignItems:"center",width:"100%",marginBottom:15,borderRadius:8,border:"1px solid #000"},children:[(0,mg.jsx)("img",{style:{width:30,height:30,borderRadius:100},src:e.photo,alt:"pic"}),(0,mg.jsx)("p",{style:{marginLeft:10},children:e.displayName})]},e.id)})):null]})},a_=function(t){var n=t.isModalShown,r=t.setModalShown,i=(E(),p(Lt)),a=p(Qt),o=(p($t),p(Et)),s=nn((0,e.useState)(null),2),u=s[0],f=s[1],c=nn((0,e.useState)(null),2),l=c[0],d=c[1],h=nn((0,e.useState)(""),2),v=h[0],m=h[1],g=nn((0,e.useState)(null),2),y=(g[0],g[1],function(){var e=on(rn().mark((function e(){var t,n,r,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Wm(im(n_,"users")),e.next=4,sg(t);case 4:n=e.sent,r=n.docs.map((function(e){return Ie({id:e.id},e.data())})),a=r.filter((function(e){return i.choosedThread.members.includes(e.id)&&e.id!==o.user.id})),f(a),d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}());(0,e.useEffect)((function(){y()}),[i,o]),(0,e.useEffect)((function(){if(u){var e=u.filter((function(e){return e.displayName.includes(v)}));d(e)}}),[v]);var b=function(){var e=on(rn().mark((function e(t){var n,r,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.choosedThread.id,e.prev=1,r=am(n_,"threads",n),e.next=5,ag(r);case 5:if(a=e.sent,!(a.data().members||[]).includes(t)){e.next=14;break}return o=vg(t),e.next=11,fg(r,{members:o});case 11:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 ID ".concat(t," \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0447\u0430\u0442\u0430 ").concat(n,".")),e.next=15;break;case 14:alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 ID ".concat(t," \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u043c \u0447\u0430\u0442\u0430 ").concat(n,"."));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0438\u0437 \u0447\u0430\u0442\u0430:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,mg.jsxs)("div",{className:"light"===a.theme?"modal-moreactions2 light__background ":"modal-moreactions2 dark__background ",style:{opacity:n?"1":"0",visibility:n?"visible":"hidden",transform:"translateX(".concat(n?"0%":"200%",")"),overflowY:"scroll"},children:[(0,mg.jsx)("div",{style:{backgroundImage:"url(".concat("light"===a.theme?Gg.Close_def:Kg.Close_night,")")},className:"close",onClick:function(){return r((function(e){return!e}))}}),(0,mg.jsx)("input",{style:{width:"100%",border:"1px solid #000",height:40,marginTop:30,marginBottom:10},value:v,onChange:function(e){return m(e.target.value)}}),l?l.map((function(e){return(0,mg.jsxs)("div",{onClick:function(){return b(e.id)},style:{display:"flex",alignItems:"center",width:"100%",marginBottom:15,borderRadius:8,border:"1px solid #000"},children:[(0,mg.jsx)("img",{style:{width:30,height:30,borderRadius:100},src:e.photo,alt:"pic"}),(0,mg.jsx)("p",{style:{marginLeft:10},children:e.displayName})]},e.id)})):null]})},o_=function(t){var n=t.isSidebarVisible,r=t.setSidebarVisibility,i=p(Lt),a=p(Qt),o=E(),s=p(Et),u=p(Lt),f=nn((0,e.useState)(null),2),c=f[0],l=f[1];(0,e.useEffect)((function(){var e;(null===(e=u.choosedThread)||void 0===e?void 0:e.admin)===s.user.id?l(!0):l(!1)}),[s,u]);var d=nn((0,e.useState)(!1),2),h=d[0],v=d[1],m=nn((0,e.useState)(!1),2),g=m[0],y=m[1],b=nn((0,e.useState)(!1),2),k=b[0],w=b[1];return(0,mg.jsxs)("header",{className:"light"===a.theme?"messagearea__top light__shadow":"messagearea__top dark__shadow",children:[(0,mg.jsx)("button",{style:{opacity:i.isSelected?"1":"0",transition:"all 0.3s",boxShadow:"none",visibility:i.isSelected?"visible":"hidden",backgroundImage:"url(".concat("light"===a.theme?Gg.Back_def:Kg.Back_night,")")},className:"back-icon",onClick:function(){o(Mt(null)),v(!1),o(Ft([]))}}),n?null:(0,mg.jsx)("button",{onClick:function(){return r((function(e){return!e}))},className:"sidebar__close-mobile",style:{backgroundImage:"url(".concat("light"===a.theme?Gg.Burger_def:Kg.Burger_night,")")}}),(0,mg.jsx)(gg,{type:"h1",label:i.choosedThread?i.choosedThread.name:"Messenger",classname:"messagearea__top-headText"}),c?(0,mg.jsx)("button",{style:{opacity:i.isSelected?"1":"0",transition:"all 0.3s",visibility:i.isSelected?"visible":"hidden",backgroundImage:"url(".concat("light"===a.theme?Gg.Dots_def:Kg.Dots_night,")")},className:"dots-icon",onClick:function(){return v((function(e){return!e}))}}):null,(0,mg.jsx)(Qg,{isModalShown:h,setModalShown:v,setModalShown2:y,setModalShown3:w}),(0,mg.jsx)(i_,{isModalShown:g,setModalShown:y}),(0,mg.jsx)(a_,{isModalShown:k,setModalShown:w})]})};function s_(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s_(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var u_,f_=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s_(e))&&(r&&(r+=" "),r+=t);return r};function c_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"."+e})).join("")}function l_(e){e&&requestAnimationFrame((function(){e.focus()}))}function d_(e){e&&l_(e.previousElementSibling)}function h_(e){e&&l_(e.nextElementSibling)}function p_(e){e&&l_(e.firstElementChild)}function v_(t){var n=t.children,r=(0,e.useRef)(null),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useRef)(null),s=(0,e.useRef)(null),u=(0,e.useRef)(null),f=(0,e.useRef)(null);return(0,e.createElement)(__.Provider,{value:{AnchoredEmojiRef:i,BodyRef:a,CategoryNavigationRef:u,PickerMainRef:r,SearchInputRef:o,SkinTonePickerRef:s,VariationPickerRef:f}},n)}!function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariatios="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker"}(u_||(u_={}));var m_,g_,y_,b_,k_,w_,__=(0,e.createContext)({AnchoredEmojiRef:(0,e.createRef)(),BodyRef:(0,e.createRef)(),CategoryNavigationRef:(0,e.createRef)(),PickerMainRef:(0,e.createRef)(),SearchInputRef:(0,e.createRef)(),SkinTonePickerRef:(0,e.createRef)(),VariationPickerRef:(0,e.createRef)()});function E_(){return(0,e.useContext)(__)}function C_(){return E_().PickerMainRef}function x_(){return E_().AnchoredEmojiRef}function S_(){var e=x_();return function(t){null===t&&null!==e.current&&l_(e.current),e.current=t}}function T_(){return E_().BodyRef}function A_(){return E_().SearchInputRef}function I_(){return E_().SkinTonePickerRef}function R_(){return E_().CategoryNavigationRef}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_.apply(this,arguments)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P_(e,t)}function O_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D_(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return O_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O_(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}!function(e){e.RECENT="recent",e.FREQUENT="frequent"}(m_||(m_={})),function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"}(g_||(g_={})),function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"}(y_||(y_={})),function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"}(b_||(b_={})),function(e){e.SUGGESTED="suggested",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"}(k_||(k_={})),function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"}(w_||(w_={}));var M_="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",L_="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",j_="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",U_="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";var F_,B_={smileys_people:[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],animals_nature:[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],food_drink:[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],travel_places:[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],activities:[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],objects:[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker\u2019s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],symbols:[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],flags:[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","\xe5land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barth\xe9lemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","c\xf4te d\u2019ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","cura\xe7ao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","r\xe9union flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","s\xe3o tom\xe9 & pr\xedncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}]},z_=[b_.NEUTRAL,b_.LIGHT,b_.MEDIUM_LIGHT,b_.MEDIUM,b_.MEDIUM_DARK,b_.DARK],V_=Object.entries(b_).reduce((function(e,t){var n=t[0];return e[t[1]]=n,e}),{}),q_=z_.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{});function H_(e){var t;return null!=(t=e[F_.name])?t:[]}function W_(e){return e?H_(e)[0]:""}function G_(e){var t=e.split("-"),n=t.splice(1,1)[0];return q_[n]?t.join("-"):e}function K_(e,t){var n,r=e[F_.unified];return t&&Y_(e)&&null!=(n=function(e,t){return t?X_(e).find((function(e){return e.includes(t)})):K_(e)}(e,t))?n:r}function Q_(e){var t;return null!=(t=null==B_?void 0:B_[e])?t:[]}function J_(e,t){return""+function(e){switch(e){case g_.TWITTER:return j_;case g_.GOOGLE:return U_;case g_.FACEBOOK:return L_;case g_.APPLE:default:return M_}}(t)+e+".png"}function X_(e){var t;return null!=(t=e[F_.variations])?t:[]}function Y_(e){return X_(e).length>0}function $_(e){if(e){if(tE[e])return tE[e];var t=G_(e);return tE[t]}}!function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a"}(F_||(F_={}));var Z_,eE=Object.values(B_).flat(),tE={};setTimeout((function(){eE.reduce((function(e,t){return e[K_(t)]=t,e}),tE)}));var nE=[k_.SUGGESTED,k_.SMILEYS_PEOPLE,k_.ANIMALS_NATURE,k_.FOOD_DRINK,k_.TRAVEL_PLACES,k_.ACTIVITIES,k_.OBJECTS,k_.SYMBOLS,k_.FLAGS],rE={name:"Recently Used",category:k_.SUGGESTED},iE=((Z_={})[k_.SUGGESTED]={category:k_.SUGGESTED,name:"Frequently Used"},Z_[k_.SMILEYS_PEOPLE]={category:k_.SMILEYS_PEOPLE,name:"Smileys & People"},Z_[k_.ANIMALS_NATURE]={category:k_.ANIMALS_NATURE,name:"Animals & Nature"},Z_[k_.FOOD_DRINK]={category:k_.FOOD_DRINK,name:"Food & Drink"},Z_[k_.TRAVEL_PLACES]={category:k_.TRAVEL_PLACES,name:"Travel & Places"},Z_[k_.ACTIVITIES]={category:k_.ACTIVITIES,name:"Activities"},Z_[k_.OBJECTS]={category:k_.OBJECTS,name:"Objects"},Z_[k_.SYMBOLS]={category:k_.SYMBOLS,name:"Symbols"},Z_[k_.FLAGS]={category:k_.FLAGS,name:"Flags"},Z_);function aE(e){return nE.map((function(t){return N_({},iE[t],e&&e[t]&&e[t])}))}function oE(e){return e.category}function sE(e){return e.name}function uE(e,t){return void 0===t&&(t={}),Object.assign(iE[e],t)}function fE(e){var t;void 0===e&&(e={});var n=cE(),r=Object.assign(n.previewConfig,null!=(t=e.previewConfig)?t:{}),i=Object.assign(n,e),a=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t={});var r={};t.suggestionMode===m_.RECENT&&(r[k_.SUGGESTED]=rE);var i=aE(r);return null!=(n=e)&&n.length?e.map((function(e){return"string"===typeof e?uE(e,r[e]):N_({},uE(e.category,r[e.category]),e)})):i}(e.categories,{suggestionMode:i.suggestedEmojisMode});return N_({},i,{categories:a,previewConfig:r,skinTonePickerLocation:i.searchDisabled?w_.PREVIEW:i.skinTonePickerLocation})}function cE(){return{autoFocusSearch:!0,categories:aE(),defaultSkinTone:b_.NEUTRAL,emojiStyle:g_.APPLE,emojiVersion:null,getEmojiUrl:J_,height:450,lazyLoadEmojis:!1,onEmojiClick:function(e,t){},previewConfig:N_({},lE),searchDisabled:!1,searchPlaceHolder:"Search",skinTonePickerLocation:w_.SEARCH,skinTonesDisabled:!1,suggestedEmojisMode:m_.FREQUENT,theme:y_.LIGHT,width:350}}var lE={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},dE=["children"],hE=(0,e.createContext)(cE());function pE(t){var n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,dE);return(0,e.createElement)(hE.Provider,{value:fE(r)},n)}function vE(){return(0,e.useContext)(hE)}function mE(){return vE().emojiStyle}function gE(){return vE().categories}function yE(){return vE().previewConfig}function bE(){var e=vE().theme;return e===y_.AUTO?"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?y_.DARK:y_.LIGHT:e}function kE(){return vE().skinTonePickerLocation}function wE(){return vE().getEmojiUrl}function _E(e){return"number"===typeof e?e+"px":e}var EE={};function CE(t,n){void 0===n&&(n=0);var r=(0,e.useState)(t),i=r[0],a=r[1],o=(0,e.useRef)(null);return[i,function(e){return new Promise((function(t){var r;o.current&&clearTimeout(o.current),o.current=null==(r=window)?void 0:r.setTimeout((function(){a(e),t(e)}),n)}))}]}function xE(){var t=(0,e.useRef)({}),n=vE().emojiVersion;return(0,e.useMemo)((function(){var e=parseFloat(""+n);return!n||Number.isNaN(e)?t.current:eE.reduce((function(t,n){return function(e,t){return function(e){return parseFloat(e[F_.added_in])}(e)>t}(n,e)&&(t[K_(n)]=!0),t}),t.current)}),[n])}function SE(t){var n,r=t.children,i=xE(),a=vE().defaultSkinTone,o=(0,e.useRef)(EE),s=(0,e.useRef)(!1),u=(0,e.useRef)(!1),f=(0,e.useRef)(i),c=CE(Date.now(),200),l=CE("",100),d=(0,e.useState)(!1),h=(0,e.useState)(a),p=(0,e.useState)(null),v=(0,e.useState)(new Set),m=(0,e.useState)(null),g=(0,e.useState)(!1),y=g[0],b=g[1];return n=b,(0,e.useEffect)((function(){n(!0)}),[n]),(0,e.createElement)(TE.Provider,{value:{activeCategoryState:p,activeSkinTone:h,disallowClickRef:s,disallowMouseRef:u,disallowedEmojisRef:f,emojiVariationPickerState:m,emojisThatFailedToLoadState:v,filterRef:o,isPastInitialLoad:y,searchTerm:l,skinToneFanOpenState:d,suggestedUpdateState:c}},r)}setTimeout((function(){eE.reduce((function(e,t){return H_(t).flat().join("").replace(/[^a-zA-Z\d]/g,"").split("").forEach((function(n){var r;e[n]=null!=(r=e[n])?r:{},e[n][K_(t)]=t})),e}),EE)}));var TE=(0,e.createContext)({activeCategoryState:[null,function(){}],activeSkinTone:[b_.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise((function(){}))}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}]});function AE(){return(0,e.useContext)(TE).filterRef}function IE(){return(0,e.useContext)(TE).disallowMouseRef}function RE(){return(0,e.useContext)(TE).searchTerm}function NE(){return(0,e.useContext)(TE).activeSkinTone}function PE(){return(0,e.useContext)(TE).emojisThatFailedToLoadState}function OE(){return(0,e.useContext)(TE).emojiVariationPickerState}function DE(){return(0,e.useContext)(TE).skinToneFanOpenState}function ME(){var t=(0,e.useContext)(TE).suggestedUpdateState,n=t[0],r=t[1];return[n,function(){r(Date.now())}]}function LE(){var e=IE();return function(){e.current=!1}}function jE(){var e=IE();return function(){return e.current}}function UE(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,r=t.getBoundingClientRect().width;return Math.floor(n/r)}function FE(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().width,r=t.getBoundingClientRect().left,i=e.getBoundingClientRect().left;return Math.floor((r-i)/n)}function BE(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().height,r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top;return Math.round((r-i)/n)}function zE(e,t,n){if(-1===t){var r=Math.floor((e.length-1)/n)*n,i=e.length-1;return e.slice(r,i+1)}return e.slice(t*n,(t+1)*n)}function VE(e,t,n,r){var i=zE(e,t,n);return i[r]||i[i.length-1]||null}function qE(e,t,n,r){var i=function(e,t,n){var r=t+1;return r*n>e.length?[]:zE(e,r,n)}(e,t,n);return i[r]||i[i.length-1]||null}var HE="button"+c_(u_.emoji),WE=[HE,c_(u_.visible),":not("+c_(u_.hidden)+")"].join("");function GE(e){var t;return null!=(t=null==e?void 0:e.closest(HE))?t:null}function KE(e){var t=rC(e),n=nC(e);if(!t)return[];var r=$_(t);return r?[r,n]:[]}function QE(e){var t;return null!=(t=null==e?void 0:e.clientHeight)?t:0}function JE(e){if(!e)return 0;var t=GE(e),n=hC(t),r=XE(n);return eC(t)+eC(n)+r}function XE(e){var t,n;if(!e)return 0;var r=e.querySelector(c_(u_.categoryContent));return(null!=(t=null==e?void 0:e.clientHeight)?t:0)-(null!=(n=null==r?void 0:r.clientHeight)?n:0)}function YE(e){return e?e.matches(c_(u_.scrollBody))?e:e.querySelector(c_(u_.scrollBody)):null}function $E(e){var t,n;return e?JE(e)-(null!=(t=null==(n=ZE(e))?void 0:n.scrollTop)?t:0):0}function ZE(e){var t;return e&&null!=(t=e.closest(c_(u_.scrollBody)))?t:null}function eC(e){var t;return null!=(t=null==e?void 0:e.offsetTop)?t:0}function tC(e){var t;return null!=(t=null==e?void 0:e.offsetLeft)?t:0}function nC(e){var t;return null!=(t=function(e,t){var n;return null!=(n=function(e){var t;return null!=(t=null==e?void 0:e.dataset)?t:{}}(e)[t])?n:null}(GE(e),"unified"))?t:null}function rC(e){var t=nC(e);return t?G_(t):null}function iC(e){return e.classList.contains(u_.visible)}function aC(e){return!e||e.classList.contains(u_.hidden)}function oC(e){return e?Array.from(e.querySelectorAll(WE)):[]}function sC(e){if(!e)return null;var t=oC(e).slice(-1)[0];return t?iC(t)?t:fC(t):null}function uC(e){var t=e.nextElementSibling;return t?iC(t)?t:uC(t):cC(dC(e))}function fC(e){var t=e.previousElementSibling;return t?iC(t)?t:fC(t):sC(lC(e))}function cC(e){return e?function(e,t){if(!e||!t.length)return null;var n=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;return t.find((function(e){var t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;return t>=n&&t<=r||i>=n&&i<=r}))||null}(e,oC(e)):null}function lC(e){var t=hC(e);if(!t)return null;var n=t.previousElementSibling;return n?aC(n)?lC(n):n:null}function dC(e){var t=hC(e);if(!t)return null;var n=t.nextElementSibling;return n?aC(n)?dC(n):n:null}function hC(e){return e?e.closest(c_(u_.category)):null}function pC(e){return e?e.closest(c_(u_.categoryContent)):null}function vC(e){return e.split("-").map((function(e){return String.fromCodePoint(parseInt(e,16))})).join("")}var mC="epr_suggested";function gC(e){try{var t,n,r;if(null==(t=window)||!t.localStorage)return[];var i=JSON.parse(null!=(n=null==(r=window)?void 0:r.localStorage.getItem(mC))?n:"[]");return e===m_.FREQUENT?i.sort((function(e,t){return t.count-e.count})):i}catch(a){return[]}}function yC(){var t=OE(),n=t[0],r=t[1],i=DE(),a=i[0],o=i[1];return(0,e.useCallback)((function(){n&&r(null),a&&o(!1)}),[n,a,r,o])}function bC(){var e=OE()[0],t=DE()[0];return function(){return!!e||t}}function kC(){var e=S_(),t=OE()[1];return function(n){var r=KE(n)[0];r&&(e(n),t(r))}}function wC(t){var n=(0,e.useRef)(),r=kC(),i=(0,e.useContext)(TE).disallowClickRef,a=OE()[1],o=yC(),s=NE()[0],u=vE().onEmojiClick,f=ME()[1],c=wE(),l=(0,e.useCallback)((function(e){if(!i.current){o();var t=_C(e),n=t[0],r=t[1];if(n&&r){var a=function(e){var t=e.split("-")[1];return z_.includes(t)?t:null}(r)||s;f(),function(e,t){var n,r=gC(),i=K_(e,t),a=K_(e),o=r.find((function(e){return e.unified===i}));n=o?[o].concat(r.filter((function(e){return e!==o}))):[o={unified:i,original:a,count:0}].concat(r),o.count++,n.length=Math.min(n.length,14);try{var s;null==(s=window)||s.localStorage.setItem(mC,JSON.stringify(n))}catch(u){}}(n,a),u(function(e,t,n){var r=K_(e,t);return{activeSkinTone:t,emoji:vC(r),getImageUrl:function(e){return n(r,e)},names:H_(e),unified:r,unifiedWithoutSkinTone:K_(e)}}(n,a,c),e)}}}),[s,o,i,u,f,c]),d=(0,e.useCallback)((function(e){var t;n.current&&clearTimeout(n.current);var s=_C(e)[0];s&&Y_(s)&&(n.current=null==(t=window)?void 0:t.setTimeout((function(){i.current=!0,n.current=void 0,o(),r(e.target),a(s)}),500))}),[i,o,r,a]),h=(0,e.useCallback)((function(){n.current?(clearTimeout(n.current),n.current=void 0):i.current&&requestAnimationFrame((function(){i.current=!1}))}),[i]);(0,e.useEffect)((function(){if(t.current){var e=t.current;return e.addEventListener("click",l,{passive:!0}),e.addEventListener("mousedown",d,{passive:!0}),e.addEventListener("mouseup",h,{passive:!0}),function(){null==e||e.removeEventListener("click",l),null==e||e.removeEventListener("mousedown",d),null==e||e.removeEventListener("mouseup",h)}}}),[t,l,d,h])}function _C(e){var t=null==e?void 0:e.target;return function(e){var t;return Boolean((null==e?void 0:e.matches(HE))||(null==e||null==(t=e.parentElement)?void 0:t.matches(HE)))}(t)?KE(t):[]}function EC(e,t){void 0===t&&(t=0);var n=YE(e);n&&requestAnimationFrame((function(){n.scrollTop=t+1}))}function CC(e){if(e&&function(e){return!!e&&$E(e)<XE(hC(e))}(e)&&!e.closest(c_(u_.variationPicker))){var t=ZE(e),n=$E(e);!function(e,t){var n=YE(e);n&&requestAnimationFrame((function(){n.scrollTop=n.scrollTop+t}))}(t,-(XE(hC(e))-n))}}function xC(){var t=A_();return(0,e.useCallback)((function(){l_(t.current)}),[t])}function SC(){var t=R_();return(0,e.useCallback)((function(){t.current&&p_(t.current)}),[t])}function TC(){var e=IC(),t=A_(),n=xC();return function(){t.current&&(t.current.value=""),e(""),n()}}function AC(){var e=A_(),t=AE(),n=function(){var e=AE();return function t(n){if("function"===typeof n)return t(n(e.current));e.current=n}}(),r=IC();return{onChange:function(e){var i=t.current,a=e.toLowerCase();if(null!=i&&i[a]||a.length<=1)return r(a);var o=function(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort((function(e,t){return t.length-e.length})).find((function(t){return e.includes(t)}));if(n)return t[n];return null}(a,i);if(!o)return r(a);n((function(e){var t;return Object.assign(e,((t={})[a]=function(e,t){var n={};for(var r in e){var i=e[r];RC(i,t)&&(n[r]=i)}return n}(o,a),t))})),r(a)},searchTerm:RE()[0],SearchInputRef:e}}function IC(){var e=RE()[1],t=C_();return function(n){requestAnimationFrame((function(){e(n?null==n?void 0:n.toLowerCase():n).then((function(){EC(t.current,0)}))}))}}function RC(e,t){return H_(e).some((function(e){return e.includes(t)}))}function NC(e){return e&&"string"===typeof e?e.trim().toLowerCase():""}function PC(){var e=PE()[0],t=function(){var e=AE().current,t=RE()[0];return function(n){return function(e,t,n){var r;return!(!t||!n)&&!(null!=(r=t[n])&&r[e])}(n,e,t)}}();return function(n){var r=K_(n),i=e.has(r),a=t(r);return{failedToLoad:i,filteredOut:a,hidden:i||a}}}function OC(t){return(0,e.createElement)("button",Object.assign({type:"button"},t,{className:f_("epr-btn",t.className)}),t.children)}function DC(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}function MC(t){var n,r=t.emoji,i=t.unified,a=t.hidden,o=t.hiddenOnSearch,s=t.emojiStyle,u=t.showVariations,f=void 0===u||u,c=t.size,l=t.lazyLoad,d=t.getEmojiUrl,h=Y_(r);return(0,e.createElement)(OC,{className:f_(u_.emoji,(n={},n[u_.hidden]=a,n[u_.hiddenOnSearch]=o,n[u_.visible]=!a&&!o,n[u_.emojiHasVariatios]=h&&f,n)),"data-unified":i,"aria-label":W_(r),"data-full-name":H_(r)},(0,e.createElement)(LC,{unified:i,emoji:r,size:c,emojiStyle:s,lazyLoad:l,getEmojiUrl:d}))}function LC(t){var n=t.emoji,r=t.unified,i=t.emojiStyle,a=t.size,o=t.lazyLoad,s=t.getEmojiUrl,u=void 0===s?J_:s,f={};a&&(f.width=f.height=f.fontSize=a+"px");var c=n||$_(r);return c?(0,e.createElement)(e.Fragment,null,i===g_.NATIVE?(0,e.createElement)(jC,{unified:r,style:f}):(0,e.createElement)(UC,{unified:r,style:f,emoji:c,emojiStyle:i,lazyLoad:o,getEmojiUrl:u})):null}function jC(t){var n=t.unified,r=t.style;return(0,e.createElement)("span",{className:f_(u_.external,"epr-emoji-native"),"data-unified":n,style:r},vC(n))}function UC(t){var n=t.emoji,r=t.unified,i=t.emojiStyle,a=t.style,o=t.lazyLoad,s=void 0!==o&&o,u=t.getEmojiUrl,f=PE()[1];return(0,e.createElement)("img",{src:u(r,i),alt:W_(n),className:f_(u_.external,"epr-emoji-img"),loading:s?"lazy":"eager",onError:function(){f((function(e){return new Set(e).add(r)}))},style:a})}DC('.EmojiPickerReact button.epr-emoji{align-items:center;border-radius:8px;box-sizing:border-box;display:flex;height:var(--epr-emoji-fullsize);justify-content:center;max-height:var(--epr-emoji-fullsize);max-width:var(--epr-emoji-fullsize);overflow:hidden;position:relative;width:var(--epr-emoji-fullsize)}.EmojiPickerReact button.epr-emoji.epr-emoji-has-variations:after{border-bottom:4px solid var(--epr-emoji-variation-indicator-color);border-left:4px solid transparent;border-right:4px solid transparent;bottom:1px;content:"";display:block;height:0;position:absolute;right:0;transform:rotate(135deg);width:0;z-index:var(--epr-emoji-variations-indictator-z-index)}.EmojiPickerReact button.epr-emoji .epr-emoji-img{max-height:var(--epr-emoji-fullsize);max-width:var(--epr-emoji-fullsize);padding:var(--epr-emoji-padding)}.EmojiPickerReact button.epr-emoji .epr-emoji-native{padding:var(--epr-emoji-padding)}.EmojiPickerReact button.epr-emoji>*{align-self:center;display:block;justify-self:center}.EmojiPickerReact button.epr-emoji.epr-emoji-has-variations:hover:after{border-bottom:4px solid var(--epr-emoji-variation-indicator-color-hover)}.__EmojiPicker__.epr-emoji-img{font-size:0}.__EmojiPicker__.epr-emoji-native{align-self:center;font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,Android Emoji,Times,Symbola,Aegyptus,Code2000,Code2001,Code2002,Musica,serif,LastResort;font-size:var(--epr-emoji-size);justify-self:center;letter-spacing:0;line-height:100%;position:relative;text-align:center}.EmojiPickerReact button.epr-emoji:hover>*{background-color:var(--epr-emoji-hover-color)}.EmojiPickerReact button.epr-emoji:focus>*{background-color:var(--epr-focus-bg-color)}');function FC(t){var n,r=t.categoryConfig,i=t.children,a=t.hidden,o=t.hiddenOnSearch,s=oE(r),u=sE(r);return(0,e.createElement)("li",{className:f_(u_.category,(n={},n[u_.hidden]=a,n[u_.hiddenOnSearch]=o,n)),"data-name":s,"aria-label":u},(0,e.createElement)("div",{className:u_.label},u),(0,e.createElement)("div",{className:u_.categoryContent},i))}function BC(t){var n=t.categoryConfig,r=ME()[0],i=vE().suggestedEmojisMode,a=wE(),o=(0,e.useMemo)((function(){var e;return null!=(e=gC(i))?e:[]}),[r,i]),s=mE();return(0,e.createElement)(FC,{categoryConfig:n,hiddenOnSearch:!0,hidden:0===o.length},o.map((function(t){var n=$_(t.original);return n?(0,e.createElement)(MC,{showVariations:!1,unified:t.unified,emojiStyle:s,emoji:n,key:t.unified,getEmojiUrl:a}):null})))}DC(".EmojiPickerReact li.epr-emoji-category>.epr-emoji-category-content{grid-gap:0;display:grid;grid-template-columns:repeat(auto-fill,var(--epr-emoji-fullsize));justify-content:space-between;margin:var(--epr-category-padding);position:relative}.EmojiPickerReact li.epr-emoji-category:not(:has(.epr-visible)){display:none}.EmojiPickerReact li.epr-emoji-category>.epr-emoji-category-label{align-items:center;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background-color:var(--epr-category-label-bg-color);color:var(--epr-category-label-text-color);display:flex;font-weight:700;height:var(--epr-category-label-height);padding:var(--epr-category-label-padding);position:-webkit-sticky;position:sticky;text-transform:capitalize;top:0;width:100%;z-index:var(--epr-category-label-z-index)}");function zC(){var t=gE();return(0,e.createElement)("ul",{className:u_.emojiList},t.map((function(t,n){var r=oE(t);return r===k_.SUGGESTED?(0,e.createElement)(BC,{key:r,categoryConfig:t}):(0,e.createElement)(VC,{key:r,index:n,category:r,categoryConfig:t})})))}function VC(t){var n=t.index,r=t.category,i=t.categoryConfig,a=PC(),o=vE().lazyLoadEmojis,s=mE(),u=(0,e.useContext)(TE).isPastInitialLoad,f=NE()[0],c=function(){var e=xE();return function(t){var n=G_(K_(t));return Boolean(e[n])}}(),l=wE(),d=!u&&n>1?[]:Q_(r),h=0,p=d.map((function(t){var n=K_(t,f),r=a(t),i=r.failedToLoad,u=r.filteredOut,d=r.hidden,p=c(t);return(d||p)&&h++,p?null:(0,e.createElement)(MC,{key:n,emoji:t,unified:n,hidden:i,hiddenOnSearch:u,emojiStyle:s,lazyLoad:o,getEmojiUrl:l})}));return(0,e.createElement)(FC,{categoryConfig:i,hidden:h===p.length},p)}function qC(e){var t=cC(e);l_(t),CC(t)}function HC(e){if(e){var t=uC(e);if(!t)return qC(dC(e));l_(t),CC(t)}}function WC(e){if(e){var t=fC(e);if(t)l_(t),CC(t);else l_(sC(lC(e)))}}function GC(e,t){if(e){var n=function(e){if(!e)return null;var t=pC(e),n=hC(t),r=FE(t,e),i=BE(t,e),a=UE(t,e);if(0===i){var o=lC(n);return o?VE(oC(o),-1,a,r):null}return function(e,t,n,r){var i=zE(e,t-1,n);return i[r]||i[i.length-1]||null}(oC(t),i,a,r)}(e);if(!n)return t();l_(n),CC(n)}}function KC(e){if(e){var t=function(e){if(!e)return null;var t=pC(e),n=hC(t),r=FE(t,e),i=BE(t,e),a=UE(t,e);if(!function(e,t){if(!e||!t)return!1;var n=t.getBoundingClientRect().height,r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().height;return Math.round(r-i+n)<a}(t,e)){var o=dC(n);return o?VE(oC(o),0,a,r):null}return qE(oC(t),i,a,r)}(e);return l_(t)}}DC(".EmojiPickerReact ul.epr-emoji-list{list-style:none;margin:0;padding:0}");var QC;function JC(){var t,n,r=x_(),i=E_().VariationPickerRef,a=OE()[0],o=mE(),s=function(e){var t=x_(),n=T_(),r=QC.Up;return{getMenuDirection:i,getTop:a};function i(){return r}function a(){r=QC.Up;var i=0;if(!e.current)return 0;var a=QE(e.current);if(t.current){var o,s=n.current,u=GE(t.current),f=QE(u);i=JE(u),(null!=(o=null==s?void 0:s.scrollTop)?o:0)>i-a&&(r=QC.Down,i+=f+a)}return i-a}}(i),u=s.getTop,f=s.getMenuDirection,c=S_(),l=function(e){var t=x_();return function(){var n={};if(!e.current)return n;if(t.current){var r=GE(t.current),i=function(e){var t=GE(e),n=hC(t);return tC(t)+tC(n)}(r);if(!r)return n;n.left=i+(null==r?void 0:r.clientWidth)/2}return n}}(i),d=wE(),h=GE(r.current),p=a&&h&&Y_(a)&&h.classList.contains(u_.emojiHasVariatios);return(0,e.useEffect)((function(){p&&qC(i.current)}),[i,p,r]),!p&&r.current?c(null):(t=u(),n=l()),(0,e.createElement)("div",{ref:i,className:f_(u_.variationPicker,{visible:p,"pointing-up":f()===QC.Down}),style:{top:t}},p&&a?[K_(a)].concat(X_(a)).slice(0,6).map((function(t){return(0,e.createElement)(MC,{key:t,emoji:a,unified:t,emojiStyle:o,showVariations:!1,getEmojiUrl:d})})):null,(0,e.createElement)("div",{className:"epr-emoji-pointer",style:n}))}DC(".EmojiPickerReact .epr-emoji-variation-picker{align-items:center;background:var(--epr-emoji-variation-picker-bg-color);border:1px solid var(--epr-picker-border-color);border-radius:3px;box-shadow:0 2px 5px rgba(0,0,0,.2);display:flex;height:0;height:var(--epr-emoji-variation-picker-height);justify-content:space-around;left:15px;opacity:0;padding:5px;pointer-events:none;position:absolute;right:15px;top:0;top:-100%;transform:scale(.9);transition:transform .1s ease-out,opacity .2s ease-out;visibility:hidden;z-index:var(--epr-skin-variation-picker-z-index)}.EmojiPickerReact .epr-emoji-variation-picker.pointing-up{transform:scale(.9);transform-origin:center 0}.EmojiPickerReact .epr-emoji-variation-picker.visible{opacity:1;pointer-events:all;transform:scale(1);visibility:visible}.EmojiPickerReact .epr-emoji-variation-picker .EmojiPickerReact .epr-emoji-variation-picker button.epr-emoji:hover{background:none}.EmojiPickerReact .epr-emoji-variation-picker .epr-emoji-pointer{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='15' xml:space='preserve'%3E%3Cg stroke-miterlimit='10'%3E%3Cpath fill='%23FFF' stroke='%23E8E7E7' d='m1.86-.43 9.83 11.53c.59.69 1.56.69 2.14 0L23.66-.43'/%3E%3Cpath fill='%23010202' stroke='%23151617' d='m26.86-.43 9.83 11.53c.59.69 1.56.69 2.14 0L48.66-.43'/%3E%3C/g%3E%3C/svg%3E\");background-position:0 0;background-repeat:no-repeat;background-size:50px 15px;content:\"\";height:15px;position:absolute;top:-10px;width:25px}.EmojiPickerReact.epr-dark-theme .epr-emoji-variation-picker .epr-emoji-pointer{background-position:-25px 0}.EmojiPickerReact .epr-emoji-variation-picker .epr-emoji-pointer{top:100%;transform:translateX(-18px)}.EmojiPickerReact .epr-emoji-variation-picker.pointing-up .epr-emoji-pointer{top:0;transform:rotate(180deg) translateY(100%) translateX(18px)}"),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(QC||(QC={}));function XC(){var t=T_();return function(t){var n=yC();(0,e.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("scroll",r,{passive:!0}),function(){null==e||e.removeEventListener("scroll",r)};function r(){n()}}),[t,n])}(t),wC(t),function(){var t=T_(),n=LE(),r=jE();(0,e.useEffect)((function(){var e=t.current;function i(){r()&&n()}return null==e||e.addEventListener("mousemove",i,{passive:!0}),function(){null==e||e.removeEventListener("mousemove",i)}}),[t,n,r])}(),(0,e.createElement)("div",{className:u_.scrollBody,ref:t},(0,e.createElement)(JC,null),(0,e.createElement)(zC,null))}function YC(){return kE()===w_.SEARCH}function $C(){return kE()===w_.PREVIEW}DC(".EmojiPickerReact .epr-body{flex:1;overflow-x:hidden;overflow-y:scroll;position:relative}");var ZC;function ex(t){var n=t.children,r=t.className,i=t.style,a=void 0===i?{}:i,o=t.direction,s=void 0===o?ZC.ROW:o;return(0,e.createElement)("div",{style:N_({},a),className:f_("Flex",r,s)},n)}function tx(t){var n=t.className,r=t.style,i=void 0===r?{}:r;return(0,e.createElement)("div",{style:N_({flex:1},i),className:f_(n)})}DC(".EmojiPickerReact .Flex{display:flex}.EmojiPickerReact .Flex.FlexRow{flex-direction:row}.EmojiPickerReact .Flex.FlexColumn{flex-direction:column}"),function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"}(ZC||(ZC={}));function nx(t){var n=t.children,r=t.className,i=t.style;return(0,e.createElement)("div",{style:N_({},i,{position:"absolute"}),className:r},n)}function rx(t){var n=t.children,r=t.className,i=t.style;return(0,e.createElement)("div",{style:N_({},i,{position:"relative"}),className:r},n)}DC(".EmojiPickerReact .epr-preview{align-items:center;border-top:1px solid var(--epr-preview-border-color);height:var(--epr-preview-height);padding:0 var(--epr-horizontal-padding);position:relative;z-index:1;z-index:var(--epr-preview-z-index)}.EmojiPickerReact .epr-preview .epr-preview-emoji-label{color:var(--epr-preview-text-color);font-size:var(--epr-preview-text-size);padding:var(--epr-preview-text-padding);text-transform:capitalize}");DC('.EmojiPickerReact .epr-skin-tones{--epr-skin-tone-size:15px;align-items:center;display:flex;justify-content:flex-end;padding:10px 0;transition:all .3s ease-in-out}.EmojiPickerReact .epr-skin-tones.epr-vertical{align-items:flex-end;border:1px solid var(--epr-bg-color);border-radius:6px;flex-direction:column;padding:5px}.EmojiPickerReact .epr-skin-tones.epr-vertical.epr-open{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:var(--epr-skin-tone-picker-menu-color);border:1px solid var(--epr-picker-border-color)}.EmojiPickerReact .epr-skin-tone-select{height:var(--epr-skin-tone-size);position:relative;width:var(--epr-skin-tone-size)}.EmojiPickerReact .epr-skin-tones.epr-open .epr-tone{transition:transform .3s ease-in-out,opacity .3s ease-in-out}.EmojiPickerReact .epr-skin-tones:not(.epr-open) .epr-tone{opacity:0;z-index:0}.EmojiPickerReact .epr-skin-tones .epr-tone{border-radius:4px;box-shadow:0 0 0 0 var(--epr-active-skin-hover-color);cursor:pointer;display:block;height:var(--epr-skin-tone-size);position:absolute;right:0;transition:transform .3s ease-in-out,opacity .5s ease-in-out;width:var(--epr-skin-tone-size);z-index:1}.EmojiPickerReact .epr-skin-tones .epr-tone:hover{box-shadow:0 0 0 3px var(--epr-active-skin-hover-color)}.EmojiPickerReact .epr-skin-tones .epr-tone:focus{box-shadow:0 0 0 3px var(--epr-focus-bg-color)}.EmojiPickerReact .epr-skin-tones.epr-open .epr-skin-tone-select .epr-tone.epr-active:after{border:1px solid var(--epr-active-skin-tone-indicator-border-color);border-radius:5px;bottom:-2px;content:"";left:-2px;position:absolute;right:-2px;top:-2px}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-active{opacity:1;z-index:1}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-neutral{background-color:#ffd225}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-1f3fb{background-color:#ffdfbd}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-1f3fc{background-color:#e9c197}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-1f3fd{background-color:#c88e62}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-1f3fe{background-color:#a86637}.EmojiPickerReact .epr-skin-tones .epr-tone.epr-tone-1f3ff{background-color:#60463a}');var ix,ax=28;function ox(){return(0,e.createElement)(rx,{style:{height:ax}},(0,e.createElement)(nx,{style:{bottom:0,right:0}},(0,e.createElement)(sx,{direction:ix.VERTICAL})))}function sx(t){var n,r=t.direction,i=void 0===r?ix.HORIZONTAL:r,a=I_(),o=vE().skinTonesDisabled,s=DE(),u=s[0],f=s[1],c=NE(),l=c[0],d=c[1],h=yC(),p=xC();if(o)return null;var v=ax*z_.length+"px",m=u?v:ax+"px",g=i===ix.VERTICAL;return(0,e.createElement)(rx,{className:f_("epr-skin-tones",i,(n={},n[u_.open]=u,n)),style:g?{flexBasis:m,height:m}:{flexBasis:m}},(0,e.createElement)("div",{className:"epr-skin-tone-select",ref:a},z_.map((function(t,n){var r,i=t===l;return(0,e.createElement)(OC,{style:{transform:f_(g?"translateY(-"+n*(u?ax:0)+"px)":"translateX(-"+n*(u?ax:0)+"px)",u&&i&&"scale(1.3)")},onClick:function(){u?(d(t),p()):f(!0),h()},key:t,className:f_("epr-tone-"+t,"epr-tone",(r={},r[u_.active]=i,r)),tabIndex:u?0:-1,"aria-pressed":i,"aria-label":"Skin tone "+V_[t]})}))))}function ux(){var t=yE(),n=$C();return t.showPreview?(0,e.createElement)(ex,{className:"epr-preview"},(0,e.createElement)(fx,null),(0,e.createElement)(tx,null),n?(0,e.createElement)(ox,null):null):null}function fx(){var t=yE(),n=(0,e.useState)(null),r=n[0],i=n[1],a=mE(),o=OE()[0],s=wE();!function(t,n){var r=T_(),i=jE(),a=LE();(0,e.useEffect)((function(){if(t){var e=r.current;return null==e||e.addEventListener("keydown",s,{passive:!0}),null==e||e.addEventListener("mouseover",u,!0),null==e||e.addEventListener("focus",a,!0),null==e||e.addEventListener("mouseout",o,{passive:!0}),null==e||e.addEventListener("blur",o,!0),function(){null==e||e.removeEventListener("mouseover",u),null==e||e.removeEventListener("mouseout",o),null==e||e.removeEventListener("focus",a,!0),null==e||e.removeEventListener("blur",o,!0),null==e||e.removeEventListener("keydown",s)}}function a(e){var t=GE(e.target);if(!t)return o();var r=nC(t),i=rC(t);if(!r||!i)return o();n({unified:r,originalUnified:i})}function o(e){if(e&&!GE(e.relatedTarget))return n(null);n(null)}function s(e){"Escape"===e.key&&n(null)}function u(e){if(!i()){var t=GE(e.target);t&&l_(t)}}}),[r,t,n,i,a])}(t.showPreview,i);var u=$_(null==r?void 0:r.originalUnified),f=null!=u&&null!=r;return(0,e.createElement)((function(){var n=null!=o?o:$_(t.defaultEmoji);if(!n)return null;var i=o?W_(o):t.defaultCaption;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",null,f?(0,e.createElement)(LC,{unified:null==r?void 0:r.unified,emoji:u,emojiStyle:a,size:45,getEmojiUrl:s}):n?(0,e.createElement)(LC,{unified:K_(n),emoji:n,emojiStyle:a,size:45,getEmojiUrl:s}):null),f?(0,e.createElement)("div",{className:"epr-preview-emoji-label"},W_(u)):(0,e.createElement)("div",{className:"epr-preview-emoji-label"},i))}),null)}!function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"}(ix||(ix={}));function cx(e){var t;return null!=(t=null==e?void 0:e.getAttribute("data-name"))?t:null}function lx(){return!!RE()[0]}function dx(){var t=(0,e.useState)(null),n=t[0],r=t[1],i=function(){var e=T_(),t=C_();return function(n){var r;if(e.current){var i=null==(r=e.current)?void 0:r.querySelector('[data-name="'+n+'"]');if(i){var a=i.offsetTop||0;EC(t.current,a)}}}}();!function(t){var n=T_();(0,e.useEffect)((function(){var e=new Map,r=n.current,i=new IntersectionObserver((function(n){if(r){for(var i,a=D_(n);!(i=a()).done;){var o=i.value,s=cx(o.target);e.set(s,o.intersectionRatio)}var u=Array.from(e),f=u[u.length-1];if(1==f[1])return t(f[0]);for(var c=0,l=u;c<l.length;c++){var d=l[c],h=d[0];if(d[1]){t(h);break}}}}),{threshold:[0,1]});null==r||r.querySelectorAll(c_(u_.category)).forEach((function(e){i.observe(e)}))}),[n,t])}(r);var a=lx(),o=gE(),s=R_();return(0,e.createElement)("div",{className:"epr-category-nav",ref:s},o.map((function(t){var o,s=oE(t);return(0,e.createElement)(OC,{tabIndex:a?-1:0,className:f_("epr-cat-btn","epr-icn-"+s,(o={},o[u_.active]=s===n,o)),key:s,onClick:function(){r(s),i(s)},"aria-label":sE(t)})})))}DC(".EmojiPickerReact .epr-category-nav{display:flex;flex-direction:row;justify-content:space-around;padding:var(--epr-header-padding)}.EmojiPickerReact .epr-category-nav>button.epr-cat-btn{background-size:calc(var(--epr-category-navigation-button-size)*10);display:inline-block;height:var(--epr-category-navigation-button-size);outline:none;position:relative;transition:opacity .2s ease-in-out;width:var(--epr-category-navigation-button-size)}.EmojiPickerReact .epr-category-nav>button.epr-cat-btn:focus:before{border:2px solid var(--epr-category-icon-active-color);border-radius:50%;bottom:-2px;content:\"\";left:-2px;position:absolute;right:-2px;top:-2px}aside.EmojiPickerReact.epr-main:has(input:not(:-moz-placeholder-shown)) .epr-category-nav{cursor:default;opacity:.3;pointer-events:none}aside.EmojiPickerReact.epr-main:has(input:not(:placeholder-shown)) .epr-category-nav{cursor:default;opacity:.3;pointer-events:none}.EmojiPickerReact.epr-search-active .epr-category-nav{cursor:default;opacity:.3;pointer-events:none}aside.EmojiPickerReact.epr-main:has(input:not(:-moz-placeholder-shown)) .epr-category-nav>button.epr-cat-btn:hover{background-position-y:var(--epr-category-navigation-button-size);opacity:1}aside.EmojiPickerReact.epr-main:has(input:not(:placeholder-shown)) .epr-category-nav>button.epr-cat-btn:hover{background-position-y:var(--epr-category-navigation-button-size);opacity:1}.EmojiPickerReact:not(.epr-search-active) .epr-category-nav>button.epr-cat-btn.epr-active,.EmojiPickerReact:not(.epr-search-active) .epr-category-nav>button.epr-cat-btn:hover{background-position-y:var(--epr-category-navigation-button-size);opacity:1}.EmojiPickerReact .epr-category-nav>button.epr-cat-btn{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='80' xml:space='preserve'%3E%3Cg fill='%233371B7' stroke='%233371B7' stroke-width='.1' stroke-miterlimit='10'%3E%3Cpath d='M12.8 29.5c.6 0 1.1-.5 1.1-1.1 0-.6-.5-1.2-1.1-1.2-.6 0-1.2.5-1.2 1.2 0 .6.6 1.1 1.2 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4z'/%3E%3Cpath d='M10 23c-3.8 0-7 3.1-7 7 0 3.8 3.1 7 7 7s7-3.1 7-7c0-3.8-3.2-7-7-7zm0 13.2c-3.4 0-6.2-2.8-6.2-6.2 0-3.4 2.8-6.2 6.2-6.2s6.2 2.8 6.2 6.2c0 3.4-2.8 6.2-6.2 6.2z'/%3E%3Cpath d='M14.6 31.2c-.1-.1-.2-.2-.3-.2H5.7c-.1 0-.2.1-.3.2-.1.1-.1.2 0 .4.7 2 2.5 3.3 4.6 3.3s3.9-1.3 4.6-3.3c.1-.1.1-.3 0-.4zM10 34.1c-1.6 0-3-.9-3.7-2.2h7.3c-.6 1.3-2 2.2-3.6 2.2zm-2.8-4.6c.6 0 1.2-.5 1.2-1.1 0-.6-.5-1.2-1.2-1.2-.6 0-1.1.5-1.1 1.2 0 .6.5 1.1 1.1 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%233371B7' d='M64.1 33.4h2.3c.2 0 .4.2.4.4v2.1c0 .2-.2.4-.4.4h-2.3c-.2 0-.4-.2-.4-.4v-2.1c0-.2.1-.4.4-.4zm9.4.1h2.4c.2 0 .4.2.4.4v2c0 .2-.2.4-.4.4h-2.4c-.2 0-.4-.2-.4-.4v-2c0-.3.2-.4.4-.4zm-9.8-5.1h12.6v5H63.7v-5z'/%3E%3Cpath fill='none' stroke='%233371B7' d='M65.5 23.6h8.9c1 0 1.9.8 1.9 1.9v3.1H63.7v-3.1c0-1 .8-1.9 1.8-1.9z'/%3E%3Cellipse fill='%233371B7' cx='66.2' cy='30.9' rx='.9' ry='1'/%3E%3Cellipse fill='%233371B7' cx='73.8' cy='30.9' rx='.9' ry='1'/%3E%3Cg fill='none' stroke='%233371B7'%3E%3Cpath d='M96.4 30c0 3.6-2.9 6.5-6.4 6.5s-6.4-2.9-6.4-6.5 2.9-6.5 6.4-6.5 6.4 2.9 6.4 6.5z'/%3E%3Cpath d='M96.3 28.6v.1c-.9.1-2.9.1-4.6-1.1-1.1-.8-2-1.7-2.6-2.5-.3-.4-.6-.8-.7-1-.1-.1-.1-.1-.1-.2.5-.1 1.2-.2 2-.1 1.2 0 2.5.3 3.5 1.1s1.7 1.8 2.1 2.8c.2.2.3.6.4.9zM84 32.2v-.1c.9-.2 2.9-.4 4.7.6 1.1.7 1.9 1.5 2.4 2.3.4.5.6 1 .7 1.3-.4.1-1 .2-1.7.3-1 0-2.1-.1-3.2-.8s-1.9-1.6-2.4-2.5c-.3-.5-.4-.8-.5-1.1z'/%3E%3C/g%3E%3Cg fill='none' stroke='%233371B7'%3E%3Cpath stroke-linecap='round' d='m116.3 26.8-1.4 2-.8-.8-.6-.6v.9l-.1 8.2h-6.8l-.1-8.2v-.9l-.6.6-.8.8-1.4-2 2.6-2.9c.1-.1.2-.1.3-.1h1.3l.4.7c.7 1.3 2.6 1.3 3.3-.1l.3-.6h1.2c.1 0 .2 0 .3.1l.3-.3-.3.3 2.9 2.9z'/%3E%3Cpath d='M110.1 27.7h2v.9c0 .4-.4.7-1 .7s-1-.3-1-.7v-.9z'/%3E%3C/g%3E%3Cpath d='M126.8 34.3c0 1.2-1 2.2-2.2 2.2s-2.2-1-2.2-2.2 1-2.2 2.2-2.2 2.2 1 2.2 2.2zm10.8 0c0 1.2-1 2.2-2.2 2.2-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2c1.2 0 2.2 1 2.2 2.2zm-10.8-9.9v9.9m10.9-9.9v9.9m-10.9-10.8h10.8v2.7h-10.8v-2.7z' fill='none' stroke='%233371B7'/%3E%3Cg fill='%233371B7'%3E%3Cpath d='M170.8 23.1h-.8c-2.1 0-4 1-5.3 2.5h-.1l-.1-.1-1-1.2-.3 3.4 3.4.3-1.1-1.3-.1-.1.1-.1c1.1-1.5 3-2.3 5-2.1 3.2.3 5.5 3.1 5.2 6.3-.3 3-3.1 5.3-6.1 5.1-3.1-.2-5.4-2.9-5.3-6l-1.3-.1c-.2 3.8 2.6 7.1 6.3 7.4 3.9.3 7.3-2.6 7.6-6.5.3-3.8-2.5-7.1-6.1-7.5z'/%3E%3Cpath d='M170.3 27.4c0-.3-.3-.6-.6-.6s-.6.3-.6.6v3.2c0 .2.1.3.2.4.1.1.3.2.4.2h2.4c.4 0 .6-.3.6-.6 0-.4-.3-.6-.6-.6h-1.8v-2.6z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%233371B7' d='M186.2 23.4h7.7c1.5 0 2.7 1.2 2.7 2.7v7.7c0 1.5-1.2 2.7-2.7 2.7h-7.7c-1.5 0-2.7-1.2-2.7-2.7v-7.7c-.1-1.5 1.2-2.7 2.7-2.7z'/%3E%3Ccircle fill='%233371B7' cx='186' cy='28.9' r='.7'/%3E%3Ccircle fill='%233371B7' cx='194' cy='26.7' r='.7'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='m186 33.3.4-.3c.4-.3 1-.3 1.5-.1l1 .4c.5.2 1 .2 1.5-.1l.8-.5c.4-.3 1-.3 1.5-.1l1.8.8'/%3E%3Cpath fill='%233371B7' stroke='%233371B7' stroke-width='.25' stroke-miterlimit='10' d='M156 24.3c-.2-.1-.4-.1-.5 0 0 0-.2.1-.9.2-.7 0-2.4-.1-3.8-.6-.8-.3-1.7-.5-2.5-.5h-.5c-1.3 0-2.5.3-3.6 1-.2.1-.2.2-.2.4v11.6c0 .3.1.5.3.5.6 0 .5-.4.5-.6v-5.7c.7-.3 3.2-1.1 5.8-.1 1.6.6 3.5.7 4.3.7.8 0 1.3-.3 1.3-.3.2-.1.3-.2.3-.4v-5.7c-.3-.2-.4-.4-.5-.5zm-.4 5.9c-.1 0-.7.1-1 .1-.7 0-2.4-.1-3.8-.6-2.5-1-5-.5-6.2-.1v-4.9c.9-.5 2.2-.7 3.2-.7h.4c.7 0 1.5.2 2.2.4 1.6.6 3.5.7 4.3.7.2 0 .8 0 1-.1v5.2z'/%3E%3Cpath fill='none' stroke='%233371B7' d='M48.1 23.5h3.7c2.5 0 4.5 2 4.5 4.5 0 .5-.4.9-.9.9H44.5c-.5 0-.9-.4-.9-.9 0-2.5 2-4.5 4.5-4.5z'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='M43.5 28.8c-.2.1-.5 1.2 0 1.5 1.4 1 8.5.8 11.3.6.8-.1 1.6-.4 1.7-1.2 0-.3-.1-.6-.6-.9'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='m43.5 30.6-.2.4c-.2.5.2 1 .7.9.3-.1.5 0 .7.3l.1.2c.3.5 1 .6 1.5.2h0c.3-.2.7-.3 1-.2l.8.3c.4.2.8.1 1.2 0l.5-.2c.4-.2.9-.2 1.3 0l.5.2c.4.2.8.2 1.2 0l.2-.1c.3-.2.8-.2 1.1.1l.2.2c.3.3.8.2 1-.2l.1-.2c.1-.2 0-.3.2-.3.5 0 1.2-.3 1.1-.7l-.4-1.1'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='M43.5 32.2c-.1.2-.3.8 0 1.1.3.4 3 1.1 6.4 1.1 2.2 0 4.6-.3 6-.6.5-.1.9-.5.8-.9 0-.2-.2-.5-.4-.7'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='M43.5 33.3c0 .5.6 2.3 1.3 2.7 1.8.8 5.7.7 8.1.5 1.3-.1 2.5-.7 3.2-1.8.3-.5.5-1 .5-1.4'/%3E%3Cellipse fill='%233371B7' cx='51.6' cy='26.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%233371B7' cx='53' cy='25' rx='.3' ry='.4'/%3E%3Cellipse fill='%233371B7' cx='53' cy='27.2' rx='.3' ry='.4'/%3E%3Cellipse fill='%233371B7' cx='54.3' cy='26.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%233371B7' cx='50.9' cy='25' rx='.3' ry='.4'/%3E%3Cpath fill='none' stroke='%233371B7' d='M24.2 31v-7.6c.1.1.8.9 2.8 3.1 2.5-1.6 5.6-.7 6.9 0l2.4-3.1v7.1c0 1.2-.1 2.5-.9 3.4-1 1.2-2.7 2.5-5.3 2.5-2.9 0-4.5-1.5-5.3-2.9-.6-.6-.6-1.5-.6-2.5z'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='m21.2 30 5.4 1.2m-5.4 2.9 5.4-1.2M38.8 30l-5.4 1.2m5.4 2.9-5.4-1.2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%233371B7' d='m29.5 32.4-.5-.7c-.2-.3 0-.6.3-.6h1.4c.3 0 .5.4.3.6l-.7 1c-.7 1.2-2.6 1.1-3.1-.3l-.1-.2c-.1-.2 0-.4.2-.5s.4 0 .5.2l.1.2c.4.7 1.2.8 1.6.3z'/%3E%3Cpath fill='none' stroke='%233371B7' stroke-linecap='round' d='m32.4 32.1-.1.2c-.4 1-1.8 1.1-2.3.2'/%3E%3Ccircle fill='%233371B7' cx='27.6' cy='29.7' r='.7'/%3E%3Ccircle fill='%233371B7' cx='32.4' cy='29.7' r='.7'/%3E%3Cg fill='%23C0C0BF' stroke='%23C0C0BF' stroke-width='.1' stroke-miterlimit='10'%3E%3Cpath d='M12.8 49.5c.6 0 1.1-.5 1.1-1.1 0-.6-.5-1.2-1.1-1.2-.6 0-1.2.5-1.2 1.2 0 .6.6 1.1 1.2 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4zm1.8 3.2c-.1-.1-.2-.2-.3-.2H5.7c-.1 0-.2.1-.3.2-.1.1-.1.2 0 .4.7 2 2.5 3.3 4.6 3.3s3.9-1.3 4.6-3.3c.1-.1.1-.3 0-.4zM10 54.1c-1.6 0-3-.9-3.7-2.2h7.3c-.6 1.3-2 2.2-3.6 2.2zm-2.8-4.6c.6 0 1.2-.5 1.2-1.1 0-.6-.5-1.2-1.2-1.2-.6 0-1.1.5-1.1 1.2 0 .6.5 1.1 1.1 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4z'/%3E%3Cpath d='M10 43c-3.8 0-7 3.1-7 7 0 3.8 3.1 7 7 7s7-3.1 7-7c0-3.8-3.2-7-7-7zm0 13.2c-3.4 0-6.2-2.8-6.2-6.2 0-3.4 2.8-6.2 6.2-6.2s6.2 2.8 6.2 6.2c0 3.4-2.8 6.2-6.2 6.2z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%23C0C0BF' d='M64.1 53.4h2.3c.2 0 .4.2.4.4v2.1c0 .2-.2.4-.4.4h-2.3c-.2 0-.4-.2-.4-.4v-2.1c0-.2.1-.4.4-.4zm9.4.1h2.4c.2 0 .4.2.4.4v2c0 .2-.2.4-.4.4h-2.4c-.2 0-.4-.2-.4-.4v-2c0-.3.2-.4.4-.4zm-9.8-5.1h12.6v5H63.7v-5z'/%3E%3Cpath fill='none' stroke='%23C0C0BF' d='M65.5 43.6h8.9c1 0 1.9.8 1.9 1.9v3.1H63.7v-3.1c0-1 .8-1.9 1.8-1.9z'/%3E%3Cellipse fill='%23C0C0BF' cx='66.2' cy='50.9' rx='.9' ry='1'/%3E%3Cellipse fill='%23C0C0BF' cx='73.8' cy='50.9' rx='.9' ry='1'/%3E%3Cg fill='none' stroke='%23C0C0BF'%3E%3Cpath d='M96.4 50c0 3.6-2.9 6.5-6.4 6.5s-6.4-2.9-6.4-6.5 2.9-6.5 6.4-6.5 6.4 2.9 6.4 6.5z'/%3E%3Cpath d='M96.3 48.6v.1c-.9.1-2.9.1-4.6-1.2-1.1-.8-2-1.7-2.6-2.5-.3-.4-.6-.8-.7-1-.1-.1-.1-.2-.1-.2.5-.1 1.2-.2 2-.2 1.2 0 2.5.3 3.5 1.1s1.7 1.8 2.1 2.8c.2.4.3.8.4 1.1zM84 52.2v-.1c.9-.2 2.9-.4 4.7.6 1.1.7 1.9 1.5 2.4 2.3.4.5.6 1 .7 1.3-.4.1-1 .2-1.7.3-1 0-2.1-.1-3.2-.8s-1.9-1.6-2.4-2.5c-.3-.5-.4-.8-.5-1.1z'/%3E%3C/g%3E%3Cg fill='none' stroke='%23C0C0BF'%3E%3Cpath stroke-linecap='round' d='m116.3 46.8-1.4 2-.8-.8-.6-.7v.9l-.1 8.2h-6.8l-.1-8.2v-.9l-.6.7-.8.8-1.4-2 2.6-2.9c.1-.1.2-.1.3-.1h1.3l.4.7c.7 1.3 2.6 1.3 3.3-.1l.3-.6h1.2c.1 0 .2 0 .3.1l.3-.3-.3.3 2.9 2.9z'/%3E%3Cpath d='M110.1 47.7h2v.9c0 .4-.4.7-1 .7s-1-.3-1-.7v-.9z'/%3E%3C/g%3E%3Cpath d='M126.8 54.3c0 1.2-1 2.2-2.2 2.2s-2.2-1-2.2-2.2 1-2.2 2.2-2.2 2.2 1 2.2 2.2zm10.8 0c0 1.2-1 2.2-2.2 2.2-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2c1.2 0 2.2 1 2.2 2.2zm-10.8-9.9v9.9m10.9-9.9v9.9m-10.9-10.8h10.8v2.7h-10.8v-2.7z' fill='none' stroke='%23C0C0BF'/%3E%3Cg fill='%23C0C0BF'%3E%3Cpath d='M170.8 43.1h-.8c-2.1 0-4 1-5.3 2.5h-.1l-.1-.1-1-1.2-.3 3.4 3.4.3-1.1-1.3-.1-.1.1-.1c1.1-1.5 3-2.3 5-2.1 3.2.3 5.5 3.1 5.2 6.3-.3 3-3.1 5.3-6.1 5.1-3.1-.2-5.4-2.9-5.3-6l-1.3-.1c-.2 3.8 2.6 7.1 6.3 7.4 3.9.3 7.3-2.6 7.6-6.5.3-3.8-2.5-7.1-6.1-7.5z'/%3E%3Cpath d='M170.3 47.4c0-.3-.3-.6-.6-.6s-.6.3-.6.6v3.2c0 .2.1.3.2.4.1.1.3.2.4.2h2.4c.4 0 .6-.3.6-.6s-.3-.6-.6-.6h-1.8v-2.6z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%23C0C0BF' d='M186.2 43.4h7.7c1.5 0 2.7 1.2 2.7 2.7v7.7c0 1.5-1.2 2.7-2.7 2.7h-7.7c-1.5 0-2.7-1.2-2.7-2.7v-7.7c-.1-1.4 1.2-2.7 2.7-2.7z'/%3E%3Ccircle fill='%23C0C0BF' cx='186' cy='48.9' r='.7'/%3E%3Ccircle fill='%23C0C0BF' cx='194' cy='46.7' r='.7'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='m186 53.3.4-.3c.4-.3 1-.3 1.5-.1l1 .4c.5.2 1 .2 1.5-.1l.8-.5c.4-.3 1-.3 1.5-.1l1.8.8'/%3E%3Cpath fill='%23C0C0BF' stroke='%23C0C0BF' stroke-width='.25' stroke-miterlimit='10' d='M156 44.3c-.2-.1-.4-.1-.5 0 0 0-.2.1-.9.2-.7 0-2.4-.1-3.8-.6-.8-.3-1.7-.5-2.5-.5h-.5c-1.3 0-2.5.3-3.6 1-.2.1-.2.2-.2.4v11.6c0 .3.1.5.3.5.6 0 .5-.4.5-.6v-5.7c.7-.3 3.2-1.1 5.8-.1 1.6.6 3.5.7 4.3.7.8 0 1.3-.3 1.3-.3.2-.1.3-.2.3-.4v-5.7c-.3-.2-.4-.4-.5-.5zm-.4 5.9c-.1 0-.7.1-1 .1-.7 0-2.4-.1-3.8-.6-2.5-1-5-.5-6.2-.1v-4.9c.9-.5 2.2-.7 3.2-.7h.4c.7 0 1.5.2 2.2.4 1.6.6 3.5.7 4.3.7.2 0 .8 0 1-.1v5.2z'/%3E%3Cpath fill='none' stroke='%23C0C0BF' d='M48.1 43.5h3.7c2.5 0 4.5 2 4.5 4.5 0 .5-.4.9-.9.9H44.5c-.5 0-.9-.4-.9-.9 0-2.5 2-4.5 4.5-4.5z'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='M43.5 48.8c-.2.1-.5 1.2 0 1.5 1.4 1 8.5.8 11.3.6.8-.1 1.6-.4 1.7-1.2 0-.3-.1-.6-.6-.9'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='m43.5 50.6-.2.4c-.2.5.2 1 .7.9.3-.1.5 0 .7.3l.1.2c.3.5 1 .6 1.5.2h0c.3-.2.7-.3 1-.2l.8.3c.4.2.8.1 1.2 0l.5-.2c.4-.2.9-.2 1.3 0l.5.2c.4.2.8.2 1.2 0l.2-.1c.3-.2.8-.2 1.1.1l.2.2c.3.3.8.2 1-.2l.1-.2c.1-.2 0-.3.2-.3.5 0 1.2-.3 1.1-.7l-.4-1.1'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='M43.5 52.2c-.1.2-.3.8 0 1.1.3.4 3 1.1 6.4 1.1 2.2 0 4.6-.3 6-.6.5-.1.9-.5.8-.9 0-.2-.2-.5-.4-.7'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='M43.5 53.3c0 .5.6 2.3 1.3 2.7 1.8.8 5.7.7 8.1.5 1.3-.1 2.5-.7 3.2-1.8.3-.5.5-1 .5-1.4'/%3E%3Cellipse fill='%23C0C0BF' cx='51.6' cy='46.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%23C0C0BF' cx='53' cy='45' rx='.3' ry='.4'/%3E%3Cellipse fill='%23C0C0BF' cx='53' cy='47.2' rx='.3' ry='.4'/%3E%3Cellipse fill='%23C0C0BF' cx='54.3' cy='46.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%23C0C0BF' cx='50.9' cy='45' rx='.3' ry='.4'/%3E%3Cpath fill='none' stroke='%23C0C0BF' d='M24.2 51v-7.6c.1.1.8.9 2.8 3.1 2.5-1.7 5.6-.7 6.9 0l2.4-3.1v7.1c0 1.2-.1 2.5-.9 3.4-1 1.2-2.7 2.5-5.3 2.5-2.9 0-4.5-1.5-5.3-2.9-.6-.6-.6-1.5-.6-2.5z'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='m21.2 50 5.4 1.2m-5.4 2.9 5.4-1.2M38.8 50l-5.4 1.2m5.4 2.9-5.4-1.2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23C0C0BF' d='m29.5 52.4-.5-.7c-.2-.3 0-.6.3-.6h1.4c.3 0 .5.4.3.6l-.7 1c-.7 1.2-2.6 1.1-3.1-.3l-.1-.2c-.1-.2 0-.4.2-.5s.4 0 .5.2l.1.2c.4.7 1.2.8 1.6.3z'/%3E%3Cpath fill='none' stroke='%23C0C0BF' stroke-linecap='round' d='m32.4 52.1-.1.2c-.4 1-1.8 1.1-2.3.2'/%3E%3Ccircle fill='%23C0C0BF' cx='27.6' cy='49.7' r='.7'/%3E%3Ccircle fill='%23C0C0BF' cx='32.4' cy='49.7' r='.7'/%3E%3Cg fill='%236AA9DD' stroke='%236AA9DD' stroke-width='.1' stroke-miterlimit='10'%3E%3Cpath d='M14.6 71.2c-.1-.1-.2-.2-.3-.2H5.7c-.1 0-.2.1-.3.2-.1.1-.1.2 0 .4.7 2 2.5 3.3 4.6 3.3s3.9-1.3 4.6-3.3c.1-.1.1-.3 0-.4zM10 74.1c-1.6 0-3-.9-3.7-2.2h7.3c-.6 1.3-2 2.2-3.6 2.2zm2.8-4.6c.6 0 1.1-.5 1.1-1.1 0-.6-.5-1.2-1.1-1.2-.6 0-1.2.5-1.2 1.2 0 .6.6 1.1 1.2 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4zm-5.6 1.5c.6 0 1.2-.5 1.2-1.1 0-.6-.5-1.2-1.2-1.2-.6 0-1.1.5-1.1 1.2 0 .6.5 1.1 1.1 1.1zm0-1.5c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4c0-.3.2-.4.4-.4z'/%3E%3Cpath d='M10 63c-3.8 0-7 3.1-7 7 0 3.8 3.1 7 7 7s7-3.1 7-7c0-3.8-3.2-7-7-7zm0 13.2c-3.4 0-6.2-2.8-6.2-6.2 0-3.4 2.8-6.2 6.2-6.2s6.2 2.8 6.2 6.2c0 3.4-2.8 6.2-6.2 6.2z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%236AA9DD' d='M64.1 73.4h2.3c.2 0 .4.2.4.4v2.1c0 .2-.2.4-.4.4h-2.3c-.2 0-.4-.2-.4-.4v-2.1c0-.2.1-.4.4-.4zm9.4.1h2.4c.2 0 .4.2.4.4V76c0 .2-.2.4-.4.4h-2.4c-.2 0-.4-.2-.4-.4v-2.1c0-.3.2-.4.4-.4zm-9.8-5.1h12.6v5H63.7v-5z'/%3E%3Cpath fill='none' stroke='%236AA9DD' d='M65.5 63.6h8.9c1 0 1.9.8 1.9 1.9v3.1H63.7v-3.1c0-1 .8-1.9 1.8-1.9z'/%3E%3Ccircle fill='%236AA9DD' cx='66.2' cy='70.9' r='.9'/%3E%3Ccircle fill='%236AA9DD' cx='73.8' cy='70.9' r='.9'/%3E%3Cg fill='none' stroke='%236AA9DD'%3E%3Cpath d='M96.4 70c0 3.6-2.9 6.5-6.4 6.5s-6.4-2.9-6.4-6.5 2.9-6.5 6.4-6.5 6.4 2.9 6.4 6.5z'/%3E%3Cpath d='M96.3 68.6v.1c-.9.1-2.9.1-4.6-1.2-1.1-.8-2-1.7-2.6-2.5-.3-.4-.6-.8-.7-1.1-.1-.1-.1-.2-.1-.2.5-.1 1.2-.2 2-.2 1.2 0 2.5.3 3.5 1.1s1.7 1.8 2.1 2.8c.2.5.3.9.4 1.2zM84 72.2v-.1c.9-.2 2.9-.4 4.7.6 1.1.7 1.9 1.5 2.4 2.3.4.5.6 1 .7 1.3-.4.1-1 .2-1.7.3-1 0-2.1-.1-3.2-.8s-1.9-1.6-2.4-2.5c-.3-.5-.4-.9-.5-1.1z'/%3E%3C/g%3E%3Cg fill='none' stroke='%236AA9DD'%3E%3Cpath stroke-linecap='round' d='m116.3 66.8-1.4 2-.8-.8-.6-.7v.9l-.1 8.2h-6.8l-.1-8.2v-.9l-.6.7-.8.8-1.4-2 2.6-2.9c.1-.1.2-.1.3-.1h1.3l.4.7c.7 1.3 2.6 1.3 3.3-.1l.3-.6h1.2c.1 0 .2 0 .3.1l.3-.3-.3.3 2.9 2.9z'/%3E%3Cpath d='M110.1 67.7h2v.9c0 .4-.4.7-1 .7s-1-.3-1-.7v-.9z'/%3E%3C/g%3E%3Cpath d='M126.8 74.3c0 1.2-1 2.2-2.2 2.2s-2.2-1-2.2-2.2 1-2.2 2.2-2.2 2.2 1 2.2 2.2zm10.8 0c0 1.2-1 2.2-2.2 2.2-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2c1.2 0 2.2 1 2.2 2.2zm-10.8-9.9v9.9m10.9-9.9v9.9m-10.9-10.8h10.8v2.7h-10.8v-2.7z' fill='none' stroke='%236AA9DD'/%3E%3Cg fill='%236AA9DD'%3E%3Cpath d='M170.8 63.1h-.8c-2.1 0-4 1-5.3 2.5h-.1l-.1-.1-1-1.2-.3 3.4 3.4.3-1.1-1.3-.1-.1.1-.1c1.1-1.4 3-2.3 5-2.1 3.2.3 5.5 3.1 5.2 6.3-.3 3-3.1 5.3-6.1 5.1-3.1-.2-5.4-2.9-5.3-6l-1.3-.1c-.2 3.8 2.6 7.1 6.3 7.4 3.9.3 7.3-2.6 7.6-6.5.3-3.8-2.5-7.1-6.1-7.5z'/%3E%3Cpath d='M170.3 67.4c0-.3-.3-.6-.6-.6s-.6.3-.6.6v3.2c0 .2.1.3.2.4.1.1.3.2.4.2h2.4c.4 0 .6-.3.6-.6s-.3-.6-.7-.6h-1.8v-.2l.1-2.4z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%236AA9DD' d='M186.2 63.4h7.7c1.5 0 2.7 1.2 2.7 2.7v7.7c0 1.5-1.2 2.7-2.7 2.7h-7.7c-1.5 0-2.7-1.2-2.7-2.7v-7.7c-.1-1.4 1.2-2.7 2.7-2.7z'/%3E%3Ccircle fill='%236AA9DD' cx='186' cy='68.9' r='.7'/%3E%3Ccircle fill='%236AA9DD' cx='194' cy='66.7' r='.7'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='m186 73.3.4-.3c.4-.3 1-.3 1.5-.1l1 .4c.5.2 1 .2 1.5-.1l.8-.5c.4-.3 1-.3 1.5-.1l1.8.8'/%3E%3Cpath fill='%236AA9DD' stroke='%236AA9DD' stroke-width='.25' stroke-miterlimit='10' d='M156 64.3c-.2-.1-.4-.1-.5 0 0 0-.2.1-.9.2-.7 0-2.4-.1-3.8-.6-.8-.3-1.7-.5-2.5-.5h-.5c-1.3 0-2.5.3-3.6 1-.2.1-.2.2-.2.4v11.6c0 .3.1.5.3.5.6 0 .5-.4.5-.6v-5.7c.7-.3 3.2-1.1 5.8-.1 1.6.6 3.5.7 4.3.7.8 0 1.3-.3 1.3-.3.2-.1.3-.2.3-.4v-5.7c-.3-.2-.4-.4-.5-.5zm-.4 5.9c-.1 0-.7.1-1 .1-.7 0-2.4-.1-3.8-.6-2.5-1-5-.5-6.2-.1v-4.9c.9-.5 2.2-.7 3.2-.7h.4c.7 0 1.5.2 2.2.4 1.6.6 3.5.7 4.3.7.2 0 .8 0 1-.1v5.2z'/%3E%3Cpath fill='none' stroke='%236AA9DD' d='M48.1 63.5h3.7c2.5 0 4.5 2 4.5 4.5 0 .5-.4.9-.9.9H44.5c-.5 0-.9-.4-.9-.9 0-2.5 2-4.5 4.5-4.5z'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='M43.5 68.8c-.2.1-.5 1.2 0 1.5 1.4.9 8.5.8 11.3.6.8-.1 1.6-.4 1.7-1.2 0-.3-.1-.6-.6-.9'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='m43.5 70.6-.2.4c-.2.5.2 1 .7.9.3-.1.5.1.7.3l.1.2c.3.5 1 .6 1.5.2h0c.3-.2.7-.3 1-.2l.8.3c.4.2.8.1 1.2 0l.5-.2c.4-.2.9-.2 1.3 0l.5.2c.4.2.8.2 1.2-.1l.2-.1c.3-.2.8-.2 1.1.1l.2.2c.3.3.8.2 1-.2l.1-.2c.1-.2 0-.3.2-.3.5 0 1.2-.3 1.1-.7l-.4-1.1'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='M43.5 72.2c-.1.2-.3.8 0 1.1.3.4 3 1.1 6.4 1.1 2.2 0 4.6-.3 6-.6.5-.1.9-.4.8-.9 0-.2-.2-.5-.4-.7'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='M43.5 73.3c0 .5.6 2.3 1.3 2.7 1.8.8 5.7.7 8.1.5 1.3-.1 2.5-.7 3.2-1.8.3-.5.5-1 .5-1.4'/%3E%3Cellipse fill='%236AA9DD' cx='51.6' cy='66.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%236AA9DD' cx='53' cy='65' rx='.3' ry='.4'/%3E%3Cellipse fill='%236AA9DD' cx='53' cy='67.2' rx='.3' ry='.4'/%3E%3Cellipse fill='%236AA9DD' cx='54.3' cy='66.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%236AA9DD' cx='50.9' cy='65' rx='.3' ry='.4'/%3E%3Cpath fill='none' stroke='%236AA9DD' d='M24.2 71v-7.6c.1.1.8.9 2.8 3.1 2.5-1.7 5.6-.7 6.9 0l2.4-3.1v7.1c0 1.2-.1 2.5-.9 3.4-1 1.2-2.7 2.5-5.3 2.5-2.9 0-4.5-1.5-5.3-2.9-.6-.6-.6-1.5-.6-2.5z'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='m21.2 70.1 5.4 1.2m-5.4 2.8 5.4-1.2m12.2-2.8-5.4 1.2m5.4 2.8-5.4-1.2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%236AA9DD' d='m29.5 72.4-.5-.7c-.2-.3 0-.6.3-.6h1.4c.3 0 .5.4.3.6l-.7 1c-.7 1.2-2.6 1.1-3.1-.3l-.1-.2c-.1-.2 0-.4.2-.5.2-.1.4 0 .5.2l.1.2c.4.7 1.2.8 1.6.3z'/%3E%3Cpath fill='none' stroke='%236AA9DD' stroke-linecap='round' d='m32.4 72.1-.1.2c-.4 1-1.8 1.1-2.3.2'/%3E%3Ccircle fill='%236AA9DD' cx='27.6' cy='69.7' r='.7'/%3E%3Ccircle fill='%236AA9DD' cx='32.4' cy='69.7' r='.7'/%3E%3Cg fill='%23868686' stroke='%23868686' stroke-width='.1' stroke-miterlimit='10'%3E%3Cpath d='M12.8 9.5c.6 0 1.1-.5 1.1-1.2 0-.6-.5-1.1-1.1-1.1-.6 0-1.2.5-1.2 1.1s.6 1.2 1.2 1.2zm0-1.6c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4.2-.4.4-.4zM7.2 9.5c.6 0 1.2-.5 1.2-1.2 0-.6-.5-1.1-1.2-1.1-.6 0-1.1.5-1.1 1.1s.5 1.2 1.1 1.2zm0-1.6c.2 0 .4.2.4.4s-.2.4-.4.4-.4-.2-.4-.4.2-.4.4-.4zm7.4 3.3c-.1-.1-.2-.2-.3-.2H5.7c-.1 0-.2.1-.3.2-.1.1-.1.2 0 .4.7 2 2.5 3.3 4.6 3.3s3.9-1.3 4.6-3.3c.1-.2.1-.3 0-.4zM10 14.1c-1.6 0-3-.9-3.7-2.2h7.3c-.6 1.3-2 2.2-3.6 2.2z'/%3E%3Cpath d='M10 3c-3.8 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.2-7-7-7zm0 13.2c-3.4 0-6.2-2.8-6.2-6.2S6.6 3.8 10 3.8s6.2 2.8 6.2 6.2-2.8 6.2-6.2 6.2z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%23868686' d='M64.1 13.4h2.3c.2 0 .4.2.4.4v2.1c0 .2-.2.4-.4.4h-2.3c-.2 0-.4-.2-.4-.4v-2.1c0-.2.1-.4.4-.4zm9.4 0h2.4c.2 0 .4.2.4.4v2.1c0 .2-.2.4-.4.4h-2.4c-.2 0-.4-.2-.4-.4v-2.1c0-.2.2-.4.4-.4zm-9.8-5h12.6v5H63.7v-5z'/%3E%3Cpath fill='none' stroke='%23868686' d='M65.5 3.6h8.9c1 0 1.9.8 1.9 1.9v3.1H63.7V5.5c0-1.1.8-1.9 1.8-1.9z'/%3E%3Ccircle fill='%23868686' cx='66.2' cy='10.9' r='.9'/%3E%3Ccircle fill='%23868686' cx='73.8' cy='10.9' r='.9'/%3E%3Cg fill='none' stroke='%23868686'%3E%3Cpath d='M96.4 10c0 3.6-2.9 6.5-6.4 6.5s-6.4-2.9-6.4-6.5 2.9-6.5 6.4-6.5 6.4 2.9 6.4 6.5z'/%3E%3Cpath d='M96.3 8.6v.1c-.9.1-2.9.1-4.6-1.2-1.1-.8-2-1.7-2.6-2.5-.3-.4-.6-.8-.7-1.1-.1-.1-.1-.2-.1-.2.5-.1 1.2-.2 2-.2 1.2 0 2.5.3 3.5 1.1s1.7 1.8 2.1 2.8c.2.5.3.9.4 1.2zM84 12.1V12c.9-.2 2.9-.4 4.7.6 1.1.6 1.9 1.5 2.4 2.3.4.5.6 1 .7 1.3-.4.1-1 .2-1.7.3-1 0-2.1-.1-3.2-.8-1.1-.6-1.9-1.6-2.4-2.5-.3-.4-.4-.8-.5-1.1z'/%3E%3C/g%3E%3Cg fill='none' stroke='%23868686'%3E%3Cpath stroke-linecap='round' d='m116.3 6.8-1.4 2-.8-.8-.6-.7v.9l-.1 8.2h-6.8l-.1-8.2v-.9l-.6.7-.8.8-1.4-2 2.6-2.9c.1-.1.2-.1.3-.1h1.3l.4.7c.7 1.3 2.6 1.3 3.3-.1l.3-.6h1.2c.1 0 .2 0 .3.1l.3-.3-.3.3 2.9 2.9z'/%3E%3Cpath d='M110.1 7.7h2v.9c0 .4-.4.7-1 .7s-1-.3-1-.7v-.9z'/%3E%3C/g%3E%3Cpath d='M126.8 14.3c0 1.2-1 2.2-2.2 2.2s-2.2-1-2.2-2.2 1-2.2 2.2-2.2 2.2 1 2.2 2.2zm10.8 0c0 1.2-1 2.2-2.2 2.2-1.2 0-2.2-1-2.2-2.2s1-2.2 2.2-2.2c1.2 0 2.2 1 2.2 2.2zm-10.8-9.9v9.9m10.9-9.9v9.9M126.8 3.5h10.8v2.7h-10.8V3.5z' fill='none' stroke='%23868686'/%3E%3Cg fill='%23868686'%3E%3Cpath d='M170.8 3.1h-.8c-2.1 0-4 1-5.3 2.5h-.1l-.1-.1-1-1.2-.3 3.4 3.4.3-1.1-1.3-.1-.1.1-.1c1.1-1.4 3-2.3 5-2.1 3.2.3 5.5 3.1 5.2 6.3-.3 3-3.1 5.3-6.1 5.1-3.1-.2-5.4-2.9-5.3-6l-1.3-.3c-.2 3.8 2.6 7.1 6.3 7.4 3.9.4 7.3-2.6 7.6-6.5.3-3.6-2.5-6.9-6.1-7.3z'/%3E%3Cpath d='M170.3 7.4c0-.3-.3-.6-.6-.6s-.7.3-.7.6v3.2c0 .2.1.3.2.4.1.1.3.2.4.2h2.4c.4 0 .6-.3.6-.6s-.3-.6-.6-.6h-1.8v-.2l.1-2.4z'/%3E%3C/g%3E%3Cpath fill='none' stroke='%23868686' d='M186.2 3.4h7.7c1.5 0 2.7 1.2 2.7 2.7v7.7c0 1.5-1.2 2.7-2.7 2.7h-7.7c-1.5 0-2.7-1.2-2.7-2.7V6.1c-.1-1.5 1.2-2.7 2.7-2.7z'/%3E%3Ccircle fill='%23868686' cx='186' cy='8.9' r='.7'/%3E%3Ccircle fill='%23868686' cx='194' cy='6.7' r='.7'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='m186 13.3.4-.3c.4-.3 1-.3 1.5-.1l1 .4c.5.2 1 .2 1.5-.1l.8-.5c.4-.3 1-.3 1.5-.1l1.8.8'/%3E%3Cpath fill='%23868686' stroke='%23868686' stroke-width='.25' stroke-miterlimit='10' d='M156 4.3c-.2-.1-.4-.1-.5 0 0 0-.2.1-.9.1s-2.4-.1-3.8-.6c-.8-.3-1.7-.5-2.5-.5h-.5c-1.3 0-2.5.3-3.6 1-.2.1-.2.2-.2.4v11.6c0 .3.1.5.3.5.6 0 .5-.4.5-.6v-5.7c.7-.3 3.2-1.1 5.8-.1 1.6.6 3.5.7 4.3.7.8 0 1.3-.3 1.3-.3.2-.1.3-.2.3-.4V4.7c-.3-.2-.4-.3-.5-.4zm-.4 5.9c-.1 0-.7.1-1 .1-.7 0-2.4-.1-3.8-.6-2.5-1-5-.5-6.2-.1V4.7c.9-.5 2.2-.7 3.2-.7h.4c.7 0 1.5.2 2.2.4 1.6.6 3.5.7 4.3.7.2 0 .8 0 1-.1v5.2z'/%3E%3Cpath fill='none' stroke='%23868686' d='M48.1 3.5h3.7c2.5 0 4.5 2 4.5 4.5 0 .5-.4.9-.9.9H44.5c-.5 0-.9-.4-.9-.9 0-2.5 2-4.5 4.5-4.5z'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='M43.5 8.7c-.2.1-.5 1.2 0 1.5 1.4.9 8.5.8 11.3.6.8-.1 1.6-.4 1.7-1.2 0-.3-.1-.6-.6-.9'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='m43.5 10.6-.2.4c-.2.5.2 1 .7.9.3-.1.5.1.7.3l.1.2c.3.5 1 .6 1.5.2h0c.3-.2.7-.3 1-.2l.8.3c.4.1.8.1 1.2 0l.5-.2c.4-.2.9-.2 1.3 0l.5.2c.4.2.8.1 1.2-.1l.2-.1c.3-.2.8-.1 1.1.1l.2.2c.3.3.8.2 1-.2l.1-.2c.1-.2 0-.3.2-.4.5 0 1.2-.3 1.1-.7l-.4-1.1'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='M43.5 12.1c-.1.2-.3.8 0 1.1.3.4 3 1.1 6.4 1.1 2.2 0 4.6-.3 6-.6.5-.1.9-.4.8-.9 0-.2-.2-.5-.4-.7'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='M43.5 13.3c0 .5.6 2.4 1.3 2.6 1.8.8 5.7.7 8.1.5 1.3-.1 2.5-.7 3.2-1.8.3-.5.5-1 .5-1.4'/%3E%3Cellipse fill='%23868686' cx='51.6' cy='6.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%23868686' cx='53' cy='4.9' rx='.3' ry='.4'/%3E%3Cellipse fill='%23868686' cx='53' cy='7.2' rx='.3' ry='.4'/%3E%3Cellipse fill='%23868686' cx='54.3' cy='6.5' rx='.3' ry='.4'/%3E%3Cellipse fill='%23868686' cx='50.9' cy='4.9' rx='.3' ry='.4'/%3E%3Cpath fill='none' stroke='%23868686' d='M24.2 11V3.5c.1.1.8.9 2.8 3.1 2.5-1.7 5.6-.7 6.9 0l2.4-3.1v7.1c0 1.2-.1 2.5-.9 3.4-1 1.2-2.7 2.5-5.3 2.5-2.9 0-4.5-1.5-5.3-2.9-.6-.7-.6-1.7-.6-2.6z'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='m21.2 10 5.4 1.2m-5.4 2.9 5.4-1.2M38.8 10l-5.4 1.2m5.4 2.9-5.4-1.2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23868686' d='m29.5 12.4-.5-.7c-.2-.3 0-.6.3-.6h1.4c.3 0 .5.4.3.6l-.7 1c-.7 1.2-2.6 1.1-3.1-.3l-.1-.2c-.1-.2 0-.4.2-.5s.4 0 .5.2l.1.2c.4.6 1.2.8 1.6.3z'/%3E%3Cpath fill='none' stroke='%23868686' stroke-linecap='round' d='m32.4 12.1-.1.2c-.4 1-1.8 1.1-2.3.2'/%3E%3Ccircle fill='%23868686' cx='27.6' cy='9.7' r='.7'/%3E%3Ccircle fill='%23868686' cx='32.4' cy='9.7' r='.7'/%3E%3C/svg%3E\");background-position:0 0}.EmojiPickerReact.epr-dark-theme .epr-category-nav>button.epr-cat-btn{background-position-y:calc(var(--epr-category-navigation-button-size)*2)}aside.EmojiPickerReact.epr-main:has(input:-moz-placeholder-shown) .epr-category-nav{background-position-y:calc(var(--epr-category-navigation-button-size)*3)}aside.EmojiPickerReact.epr-main:has(input:placeholder-shown) .epr-category-nav{background-position-y:calc(var(--epr-category-navigation-button-size)*3)}.EmojiPickerReact.epr-dark-theme:not(.epr-search-active) .epr-category-nav>button.epr-cat-btn.epr-active,.EmojiPickerReact.epr-dark-theme:not(.epr-search-active) .epr-category-nav>button.epr-cat-btn:hover{background-position-y:calc(var(--epr-category-navigation-button-size)*3)}.EmojiPickerReact button.epr-cat-btn.epr-icn-suggested{background-position-x:calc(var(--epr-category-navigation-button-size)*-8)}.EmojiPickerReact button.epr-cat-btn.epr-icn-activities{background-position-x:calc(var(--epr-category-navigation-button-size)*-4)}.EmojiPickerReact button.epr-cat-btn.epr-icn-animals_nature{background-position-x:calc(var(--epr-category-navigation-button-size)*-1)}.EmojiPickerReact button.epr-cat-btn.epr-icn-flags{background-position-x:calc(var(--epr-category-navigation-button-size)*-7)}.EmojiPickerReact button.epr-cat-btn.epr-icn-food_drink{background-position-x:calc(var(--epr-category-navigation-button-size)*-2)}.EmojiPickerReact button.epr-cat-btn.epr-icn-objects{background-position-x:calc(var(--epr-category-navigation-button-size)*-5)}.EmojiPickerReact button.epr-cat-btn.epr-icn-smileys_people{background-position-x:0}.EmojiPickerReact button.epr-cat-btn.epr-icn-symbols{background-position-x:calc(var(--epr-category-navigation-button-size)*-6)}.EmojiPickerReact button.epr-cat-btn.epr-icn-travel_places{background-position-x:calc(var(--epr-category-navigation-button-size)*-3)}");DC(".EmojiPickerReact .epr-header .epr-header-overlay{padding:var(--epr-header-padding);z-index:var(--epr-header-overlay-z-index)}");function hx(){var t=vE().searchDisabled,n=YC();return t?null:(0,e.createElement)(ex,{className:"epr-header-overlay"},(0,e.createElement)(px,null),n?(0,e.createElement)(sx,null):null)}function px(){var t=(0,e.useState)(0),n=t[0],r=t[1],i=yC(),a=A_(),o=TC(),s=vE().searchPlaceHolder,u=vE().autoFocusSearch,f=AC().onChange,c=null==a?void 0:a.current,l=null==c?void 0:c.value;return(0,e.createElement)(rx,{className:"epr-search-container"},(0,e.createElement)(gx,{value:l}),(0,e.createElement)("input",{autoFocus:u,"aria-label":"Type to search for an emoji",onFocus:i,className:"epr-search",type:"text",placeholder:s,onChange:function(e){r(n+1),setTimeout((function(){var t,n;f(null!=(t=null==e||null==(n=e.target)?void 0:n.value)?t:l)}))},ref:a}),(0,e.createElement)("div",{className:"epr-icn-search"}),(0,e.createElement)(OC,{className:f_("epr-btn-clear-search","epr-visible-on-search-only"),onClick:o},(0,e.createElement)("div",{className:"epr-icn-clear-search"})))}DC(".EmojiPickerReact .epr-search-container{display:block;flex:1;min-width:0}.EmojiPickerReact .epr-search-container input.epr-search{background-color:var(--epr-search-input-bg-color);border:1px solid var(--epr-search-input-bg-color);border-radius:var(--epr-search-input-border-radius);color:var(--epr-search-input-text-color);height:var(--epr-search-input-height);outline:none;padding:var(--epr-search-input-padding);transition:all .2s ease-in-out;width:100%}.EmojiPickerReact .epr-search-container button.epr-btn-clear-search .epr-icn-clear-search{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='80' xml:space='preserve'%3E%3Cpath fill='%23868686' d='M6.98 13.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 8c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.4a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.2-.21.54 0 .74z'/%3E%3Cpath fill='%23868686' d='M10.15 18.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%233371B7' d='M6.98 33.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 28c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%233371B7' d='M10.15 38.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%23C0C0BF' d='M6.98 53.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 48c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%23C0C0BF' d='M10.15 58.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3Cpath fill='%236AA9DD' d='M6.98 73.59a.53.53 0 0 0 .74 0l2.42-2.42 2.43 2.43a.53.53 0 0 0 .74 0c.21-.21.21-.54 0-.75l-2.43-2.43L13.32 68c.21-.21.21-.54 0-.75a.525.525 0 0 0-.75 0l-2.42 2.42-2.41-2.41a.525.525 0 0 0-.75 0c-.21.21-.21.54 0 .75l2.41 2.41-2.42 2.42c-.21.21-.21.55 0 .75z'/%3E%3Cpath fill='%236AA9DD' d='M10.15 78.43c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14.94c3.83 0 6.94 3.11 6.94 6.94 0 3.83-3.11 6.94-6.94 6.94-3.83 0-6.94-3.11-6.94-6.94 0-3.83 3.12-6.94 6.94-6.94z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:20px;height:20px;width:20px}.EmojiPickerReact .epr-search-container button.epr-btn-clear-search{align-items:center;border-radius:50%;display:flex;height:30px;justify-content:center;padding:0;position:absolute;right:var(--epr-search-bar-inner-padding);top:50%;transform:translateY(-50%);width:30px}.EmojiPickerReact .epr-search-container button.epr-btn-clear-search:focus .epr-icn-clear-search,.EmojiPickerReact .epr-search-container button.epr-btn-clear-search:hover .epr-icn-clear-search{background-position-y:-20px}.EmojiPickerReact .epr-search-container button.epr-btn-clear-search:focus,.EmojiPickerReact .epr-search-container button.epr-btn-clear-search:hover{background:var(--epr-hover-bg-color)}.EmojiPickerReact..epr-dark-theme .epr-search-container button.epr-btn-clear-search .epr-icn-clear-search{background-position-y:-40px}.EmojiPickerReact..epr-dark-theme .epr-search-container button.epr-btn-clear-search:hover .epr-icn-clear-search{background-position-y:-60px}.EmojiPickerReact .epr-search-container .epr-icn-search{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='40' xml:space='preserve'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23868686' d='M12 8.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 6.73 12 8.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23C0C0BF' d='M12 28.81c0 2.08-1.68 3.76-3.76 3.76s-3.76-1.68-3.76-3.76 1.68-3.76 3.76-3.76S12 26.73 12 28.81zm-.77 3.91c-.83.64-1.87 1.01-2.99 1.01-2.72 0-4.92-2.2-4.92-4.92 0-2.72 2.2-4.92 4.92-4.92 2.72 0 4.92 2.2 4.92 4.92 0 1.13-.38 2.16-1.01 2.99l3.94 3.93c.25.25.25.66 0 .92-.25.25-.66.25-.92 0l-3.94-3.93z'/%3E%3C/svg%3E\");background-position:0 0;background-repeat:no-repeat;background-size:20px;content:\"\";height:20px;left:var(--epr-search-bar-inner-padding);position:absolute;top:50%;transform:translateY(-50%);width:20px}.EmojiPickerReact.epr-dark-theme .epr-search-container .epr-icn-search{background-position-y:-20px}.EmojiPickerReact .epr-search-container input.epr-search::-moz-placeholder{color:var(--epr-search-input-placeholder-color)}.EmojiPickerReact .epr-search-container input.epr-search::placeholder{color:var(--epr-search-input-placeholder-color)}.EmojiPickerReact .epr-search-container input.epr-search:focus{background-color:var(--epr-search-input-bg-color-active);border:1px solid var(--epr-search-border-color)}");var vx,mx=c_(u_.emojiPicker)+" "+c_(u_.emojiList);function gx(t){var n=t.value;if(!n)return null;var r='button[data-full-name*="'+NC(n)+'"]';return(0,e.createElement)("style",null,"\n        "+mx+" "+c_(u_.category)+":not(:has("+r+")) {\n        display: none;\n      }\n\n        "+mx+" button"+c_(u_.emoji)+":not("+r+") {\n        display: none;\n      }\n  ")}function yx(){return(0,e.createElement)(rx,{className:"epr-header"},(0,e.createElement)(hx,null),(0,e.createElement)(dx,null))}function bx(){return document.activeElement}function kx(){!function(){var t=C_(),n=TC(),r=function(){var t=T_();return(0,e.useCallback)((function(e){requestAnimationFrame((function(){t.current&&(t.current.scrollTop=e)}))}),[t])}(),i=A_(),a=xC(),o=bC(),s=function(){var e=IE();return function(){e.current=!0}}(),u=yC(),f=(0,e.useMemo)((function(){return function(e){var t=e.key;if(s(),t===vx.Escape){if(e.preventDefault(),o())return void u();n(),r(0),a()}}}),[r,n,u,a,o,s]);(0,e.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("keydown",f),function(){e.removeEventListener("keydown",f)}}),[t,i,r,f])}(),function(){var t=function(){var t=I_();return(0,e.useCallback)((function(){t.current&&p_(t.current)}),[t])}(),n=C_(),r=T_(),i=A_(),a=DE()[1],o=wx(),s=YC(),u=(0,e.useMemo)((function(){return function(e){switch(e.key){case vx.ArrowRight:if(!s)return;e.preventDefault(),a(!0),t();break;case vx.ArrowDown:e.preventDefault(),o();break;case vx.Enter:e.preventDefault(),function(e){var t=cC(e);l_(t),null==t||t.click()}(r.current)}}}),[t,o,a,r,s]);(0,e.useEffect)((function(){var e=i.current;if(e)return e.addEventListener("keydown",u),function(){e.removeEventListener("keydown",u)}}),[n,i,u])}(),function(){var t=I_(),n=xC(),r=A_(),i=wx(),a=DE(),o=a[0],s=a[1],u=$C(),f=YC(),c=Cx(),l=(0,e.useMemo)((function(){return function(e){var t=e.key;if(f)switch(t){case vx.ArrowLeft:if(e.preventDefault(),!o)return n();_x(n);break;case vx.ArrowRight:if(e.preventDefault(),!o)return n();Ex();break;case vx.ArrowDown:e.preventDefault(),o&&s(!1),i();break;default:c(e)}if(u)switch(t){case vx.ArrowUp:if(e.preventDefault(),!o)return n();_x(n);break;case vx.ArrowDown:if(e.preventDefault(),!o)return n();Ex();break;default:c(e)}}}),[o,n,s,i,c,u,f]);(0,e.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("keydown",l),function(){e.removeEventListener("keydown",l)}}),[t,r,o,l])}(),function(){var t=xC(),n=R_(),r=T_(),i=Cx(),a=(0,e.useMemo)((function(){return function(e){switch(e.key){case vx.ArrowUp:e.preventDefault(),t();break;case vx.ArrowRight:e.preventDefault(),h_(bx());break;case vx.ArrowLeft:e.preventDefault(),d_(bx());break;case vx.ArrowDown:e.preventDefault(),qC(r.current);break;default:i(e)}}}),[r,t,i]);(0,e.useEffect)((function(){var e=n.current;if(e)return e.addEventListener("keydown",a),function(){e.removeEventListener("keydown",a)}}),[n,r,a])}(),function(){var t=T_(),n=function(){var t=xC(),n=SC(),r=lx();return(0,e.useCallback)((function(){return r?t():n()}),[t,r,n])}(),r=kC(),i=bC(),a=yC(),o=Cx(),s=(0,e.useMemo)((function(){return function(e){var t=e.key,s=GE(bx());switch(t){case vx.ArrowRight:e.preventDefault(),HC(s);break;case vx.ArrowLeft:e.preventDefault(),WC(s);break;case vx.ArrowDown:if(e.preventDefault(),i()){a();break}KC(s);break;case vx.ArrowUp:if(e.preventDefault(),i()){a();break}GC(s,n);break;case vx.Space:e.preventDefault(),r(e.target);break;default:o(e)}}}),[n,o,r,i,a]);(0,e.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("keydown",s),function(){e.removeEventListener("keydown",s)}}),[t,s])}()}function wx(){var t=SC(),n=lx(),r=T_();return(0,e.useCallback)((function(){return n?qC(r.current):t()}),[r,t,n])}function _x(e){var t=bx();t&&(t.nextElementSibling||e(),h_(t))}function Ex(){var e=bx();e&&d_(e)}function Cx(){var e=function(){var e=A_(),t=IC();return function(n){e.current?(e.current.value=""+e.current.value+n,t(NC(e.current.value))):t(NC(n))}}(),t=xC(),n=yC();return function(r){var i=r.key;(function(e){var t=e.metaKey,n=e.ctrlKey,r=e.altKey;return t||n||r})(r)||i.match(/(^[a-zA-Z0-9]$){1}/)&&(r.preventDefault(),n(),t(),e(i))}}function xx(e,t,n){if(t&&n!==g_.NATIVE){var r=K_(t);Sx.has(r)||(X_(t).forEach((function(t){var r,i=e(t,n);r=i,(new Image).src=r})),Sx.add(r))}}!function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "}(vx||(vx={}));var Sx=new Set;function Tx(t){var n=t.children;return(0,e.createElement)(SE,null,(0,e.createElement)(Ax,null,n))}function Ax(t){var n,r=t.children,i=bE(),a=lx(),o=C_(),s=function(){var e=vE(),t=e.height,n=e.width;return{height:_E(t),width:_E(n)}}(),u=s.height,f=s.width;kx(),function(){var t=T_(),n=mE(),r=wE();(0,e.useEffect)((function(){if(n!==g_.NATIVE){var e=t.current;return null==e||e.addEventListener("focusin",i),function(){null==e||e.removeEventListener("focusin",i)}}function i(e){var t=GE(e.target);if(t){var i=KE(t)[0];i&&Y_(i)&&xx(r,i,n)}}}),[t,n,r])}();var c={height:u,width:f};return(0,e.createElement)("aside",{className:f_(u_.emojiPicker,"epr-main",(n={},n[u_.searchActive]=a,n["epr-dark-theme"]=i===y_.DARK,n)),ref:o,style:c},r)}DC("aside.EmojiPickerReact.epr-main{border-color:var(--epr-picker-border-color);border-radius:var(--epr-picker-border-radius);border-style:solid;border-width:1px;display:flex;flex-direction:column;position:relative}");function Ix(t){return(0,e.createElement)(v_,null,(0,e.createElement)(pE,Object.assign({},t),(0,e.createElement)(Tx,null,(0,e.createElement)(yx,null),(0,e.createElement)(XC,null),(0,e.createElement)(ux,null))))}DC(".EmojiPickerReact{--epr-highlight-color:#007aeb;--epr-hover-bg-color:#f1f8ff;--epr-focus-bg-color:#e0f0ff;--epr-text-color:#858585;--epr-search-input-bg-color:#f6f6f6;--epr-picker-border-color:#e7e7e7;--epr-bg-color:#fff;--epr-category-icon-active-color:#6aa8de;--epr-skin-tone-picker-menu-color:#ffffff95;--epr-horizontal-padding:10px;--epr-picker-border-radius:8px;--epr-search-border-color:var(--epr-highlight-color);--epr-header-padding:15px var(--epr-horizontal-padding);--epr-active-skin-tone-indicator-border-color:var(--epr-highlight-color);--epr-active-skin-hover-color:var(--epr-hover-bg-color);--epr-search-input-bg-color-active:var(--epr-search-input-bg-color);--epr-search-input-padding:0 30px;--epr-search-input-border-radius:8px;--epr-search-input-height:40px;--epr-search-input-text-color:var(--epr-text-color);--epr-search-input-placeholder-color:var(--epr-text-color);--epr-search-bar-inner-padding:var(--epr-horizontal-padding);--epr-category-navigation-button-size:30px;--epr-emoji-variation-picker-height:45px;--epr-emoji-variation-picker-bg-color:var(--epr-bg-color);--epr-preview-height:70px;--epr-preview-text-size:14px;--epr-preview-text-padding:0 var(--epr-horizontal-padding);--epr-preview-border-color:var(--epr-picker-border-color);--epr-preview-text-color:var(--epr-text-color);--epr-category-padding:0 var(--epr-horizontal-padding);--epr-category-label-bg-color:#ffffffe6;--epr-category-label-text-color:var(--epr-text-color);--epr-category-label-padding:0 var(--epr-horizontal-padding);--epr-category-label-height:40px;--epr-emoji-size:30px;--epr-emoji-padding:5px;--epr-emoji-fullsize:calc(var(--epr-emoji-size) + var(--epr-emoji-padding)*2);--epr-emoji-hover-color:var(--epr-hover-bg-color);--epr-emoji-variation-indicator-color:var(--epr-picker-border-color);--epr-emoji-variation-indicator-color-hover:var(--epr-text-color);--epr-header-overlay-z-index:3;--epr-emoji-variations-indictator-z-index:1;--epr-category-label-z-index:2;--epr-skin-variation-picker-z-index:5;--epr-preview-z-index:6}.EmojiPickerReact.epr-dark-theme{--epr-dark:#000;--epr-emoji-variation-picker-bg-color:var(--epr-dark);--epr-highlight-color:silver;--epr-text-color:var(--epr-highlight-color);--epr-hover-bg-color:#363636f6;--epr-focus-bg-color:#474747;--epr-search-input-bg-color:#333;--epr-category-label-bg-color:#222222e6;--epr-picker-border-color:#151617;--epr-bg-color:#222;--epr-search-input-bg-color-active:var(--epr-dark);--epr-emoji-variation-indicator-color:#444;--epr-category-icon-active-color:#3271b7;--epr-skin-tone-picker-menu-color:#22222295}.EmojiPickerReact{background-color:var(--epr-bg-color);overflow:hidden}.EmojiPickerReact .epr-hidden,.EmojiPickerReact.epr-search-active .epr-hidden-on-search,.EmojiPickerReact:not(.epr-search-active) .epr-visible-on-search-only{display:none!important;opacity:0!important;pointer-events:none!important;visibility:hidden!important}aside.EmojiPickerReact.epr-main:has(input:not(:-moz-placeholder-shown)) .epr-hidden-on-search{display:none!important;opacity:0!important;pointer-events:none!important;visibility:hidden!important}aside.EmojiPickerReact.epr-main:has(input:not(:placeholder-shown)) .epr-hidden-on-search{display:none!important;opacity:0!important;pointer-events:none!important;visibility:hidden!important}aside.EmojiPickerReact.epr-main:has(input:-moz-placeholder-shown) .epr-visible-on-search-only{display:none!important;opacity:0!important;pointer-events:none!important;visibility:hidden!important}aside.EmojiPickerReact.epr-main:has(input:placeholder-shown) .epr-visible-on-search-only{display:none!important;opacity:0!important;pointer-events:none!important;visibility:hidden!important}.EmojiPickerReact *{box-sizing:border-box;font-family:sans-serif}.EmojiPickerReact button.epr-btn{background:none;border:0;cursor:pointer;outline:none}");var Rx=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,P_(t,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var i=r.prototype;return i.componentDidCatch=function(e,t){console.error("Emoji Picker React failed to render:",e,t)},i.render=function(){return this.state.hasError?null:this.props.children},r}(e.Component);var Nx=function(t){return(0,e.createElement)(Rx,null,(0,e.createElement)(Ix,Object.assign({},t)))},Px=function(e){var t=e.onEmojiClick,n=e.onMouseEnter,r=e.onMouseLeave,i=e.isShown;return(0,mg.jsx)("div",{onMouseEnter:n,onMouseLeave:r,className:"emoji",style:{opacity:i?"1":"0",transition:"all .3s ease",transform:"translateX(".concat(i?"0%":"100%",") scale(").concat(i?"1":"0",")")},children:(0,mg.jsx)(Nx,{onEmojiClick:t})})},Ox=function(t){var n=t.isRecording,r=t.audioURL,i=t.sendAudioMessage,a=t.startRecording,o=t.stopRecording,s=t.message,u=t.setMessage,f=t.sendMessage,c=t.setFile,l=t.file,d=t.isBot,h=nn((0,e.useState)(!1),2),v=h[0],m=h[1],g=p(Qt),y=p($t),b=(0,e.useRef)(null),k=nn((0,e.useState)(0),2),w=k[0],_=k[1],E=function(e){"mousedown"===e.type&&a(),"mouseup"===e.type&&o()},C=function(e){f(e)};return(0,e.useEffect)((function(){r&&i()}),[r]),(0,mg.jsx)("footer",{className:"light"===g.theme?"messagearea__bottom light__background light__shadow":"messagearea__bottom dark__background dark__shadow",children:(0,mg.jsxs)("form",{onSubmit:function(e){return C(e)},children:[(0,mg.jsx)("input",{ref:b,autoFocus:!0,className:"light"===g.theme?"light__color light__background light__shadow":"dark__color dark__background dark__shadow",type:"text",name:"message",value:s,onChange:function(e){return u(e.target.value)},placeholder:"en"===y.language?"Message...":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),d?null:(0,mg.jsxs)("button",{className:"file_upload",children:[(0,mg.jsx)("label",{htmlFor:"file-upload",className:"light"===g.theme?"custom-file-upload light__background ":"custom-file-upload dark__background ",style:{backgroundImage:"url(".concat("light"===g.theme?Gg.Clip_def:Kg.Clip_night,")")}}),l&&(0,mg.jsx)("div",{className:"file_upload_dot"}),(0,mg.jsx)("input",{id:"file-upload",accept:"images/*",type:"file",name:"file",onChange:function(e){var t=e.target.files[0];c(t),_((function(e){return e+1}))}},w)]}),(0,mg.jsx)("button",{onMouseEnter:function(){return m((function(e){return!e}))},onMouseLeave:function(){return m((function(e){return!e}))},className:"light"===g.theme?"emoji-btn light__background ":"emoji-btn dark__background ",style:{backgroundImage:"url(".concat("light"===g.theme?Gg.Smile_def:Kg.Smile_night,")")}}),(0,mg.jsx)(Px,{onEmojiClick:function(e){return u(s+e.emoji)},onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},isShown:v}),(0,mg.jsx)("button",{onClick:function(e){return C(e)},className:"light"===g.theme?"sendbtn-web light__color light__background light__shadow":"sendbtn-web dark__color dark__background dark__shadow",type:"submit",children:"en"===y.language?"send":"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,mg.jsx)("button",{onClick:function(e){return C(e)},className:"light"===g.theme?"mobile-btn-send  light__background ":"mobile-btn-send  dark__background ",style:{backgroundImage:"url(".concat("light"===g.theme?Gg.Send_def:Kg.Send_night,")")}}),d?null:(0,mg.jsx)("button",{tabIndex:3,className:"light"===g.theme?"audiobutton  light__background light__shadow":"audiobutton  dark__background dark__shadow",style:{transform:"scale(".concat(n?"1.3":"1",")"),backgroundImage:"url(".concat("light"===g.theme?Gg.Micro_def:Kg.Micro_night,")")},onMouseDown:E,onMouseUp:E}),d?null:(0,mg.jsx)("button",{className:"light"===g.theme?"audiobuttonMobile  light__background light__shadow":"audiobuttonMobile  dark__background dark__shadow",style:{transform:"scale(".concat(n?"1.3":"1",")"),backgroundImage:"url(".concat("light"===g.theme?Gg.Micro_def:Kg.Micro_night,")")},onClick:function(){n?o():a()}})]})})},Dx=n(4802),Mx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAIABJREFUeJzt3Xm4bmV53/Hv3kxyODgBgkBwCJMTGlREIKJGTMTZONdgjM3V1EZStaaapM0ydhCTaIbaNGkuMdFE1LQipiSaqi8aRNFoqhJEMUxxQAGFA3gmzukfzz5hs9nD+75ruJ/1PN/Pdd3XOTGcve+19nr3/VvzApJKtg9wEnAKcDxwHHA4cG9g89J/cyvwA+BbwFeBK4CLgUuBnQP3K0mS5rQ/8BLgw8AWYPectQW4AHjx0teUJEkZOhL4XeBm5h/6a9UPgN8BjhhsaSRJ0roOBv4HsI3uB//K2gq8AzhokCWTJEl3swD8PHAj/Q/+lfU94JVLPUiSpIEcRDrHP/TgX1kXAPfteVklSRLwaOBa4of/nroG+LFel1iSpMo9kX4u8mtbW4Cn9rfYkiTV60zSRXjRw36t2go8rbellySpQo8jPbAneshvVLcDp/a0DiRJqsqDibnSf966AXhgHytCkqRa7ANcQvxQn7UuBfbtYX1IklSF3yZ+mM9bb+1hfUiSVLwTgB3ED/J5ayfwqM7XiiRJBVsEPkP8EG9bF+PTAiVJmtrziB/eXdWzOl43kiQV63PED+6u6rMdrxtJkor0JOKHdtd1eqdrSFJri9ENSLqbn41uoAcvj25A0l15cY6UlwOA7wCboxvp2C3A/UlPCpSUAY8ASHn5Ccob/gD3JJ3akJQJA4CUl5KHZMnLJo2OAUDKS8lDsuRlk0bHawCkfOwN3Ea5z9DfDmwC7ohuRJJHAKScPJhyhz+kZXtgdBOSEgOAlI+joxsYwDHRDUhKDABSPu4d3cAAalhGaRQMAFI+DoxuYAA1LKM0CgYAKR/7RzcwgAOiG5CUGACkfNTweaxhGaVR8MMoSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShQwAkiRVyAAgSVKFDACSJFXIACBJUoUMAJIkVcgAIElShfaObkCjsD9wNPBg4J7AJmA/4HbgZuA7wNeX/pTUr8OAY5b+vBfp87iV9Hm8BbiK9HncGtWgxsEAoNUcApwJnA6cRhr+C1P8u1uAS4BPAX8DXNpXg1IlFoCTgDOAHwdOJoXwjewGriR9Fi8CLgRu6KlHSSO3D/AS0i+KHaRfIG3rSuDNwFEDLseYvZZu1nvO9drO1lbZHgD8J+Af6Wa9bwf+D/Bi3PGTtGR/4Gzgavr7pb8d+FPgocMs0mgZAPRw4N10F8JXq6uAVwP3GGiZJGXomXS3hzFN7QD+EDh4iIUbIQNAve4N/C79Dv6VdS1w1hALJykfhwAXEDcErieFD92VAaBOzwa+S9zP5EMYyqUqPAn4JvGDYBfwO6S7CZQYAOqyH/B7pM9C9M/ln0gX/Uoq1Fmk8/HRv2yW1ydItzLJAFCTzcBHif95LK+dwL/sc6Elxfj35LGnsVp9kXRPc+0MAHU4DPh74n8Wq9Uu0u8KSYX4ReJ/sWxUXwOO6GsFjIQBoHyHApcR/3PYqF7X1wpQPnwUcPleSrq6OHfHkE4H1B4CVK5DgY8zjtthfxN4eXQT6pcBoGyPBc5lPD/nY4CPAYdHNyJ17HDSE/nGMPwhPYHwj4BHRzei/oxlMGh2m4H3APtGNzKj44AJHglQOQ4lPRr7uOhGZrQv8D6me/SwRsgAUK7fB46NbmJOHglQKca257/SjwJvj25C/TAAlOnxjP/8nUcCNHZj3fNf6RWklxCpMAaA8iwC/43p3t6XO48EaKzGvue/3ALpiGIJv1O0jAGgPM8GToxuokMeCdDYlLLnv9xjgGdEN6FuGQDK8/roBnrgLYIaizHd6jerX41uQN0yAJTlJNL5/xJ5OkC5K+mw/2oeRzoSoEIYAMrysugGeubpAOWqxMP+q3lpdAPqjgGgHHsBL4xuYgAeCVBuSt/zX+5FODeK4Q+yHCeS9kJq4JEA5aKWPf89DgdOiG5C3TAAlOMJ0Q0MzAsDFa3kC/7Wc3p0A+qGAaAcp0Y3EMDTAYpS02H/lX48ugF1wwBQjodENxDE0wEaWm2H/Vc6ProBdcMAUIZF4EHRTQTydICGUuth/+WOxtlRBH+IZTgM2C+6iWCeDlDfaj7sv9x+wP2im1B7BoAyHBjdQCY8HaC+1H7YfyV/5xTAAFCGzdENZMTTAeqah/3vzgBQAAOASmQIUFcc/iqWAaAMt0Y3kCFDgNpy+K9tS3QDas8AUAY/jKvzwkDNywv+1ufvnAIYAMrwHWBbdBOZ8sJAzcoL/ta3FfhudBNqzwBQhl3AVdFNZMzTAZqWh/039g3S7xyNnAGgHJdHN5A5TwdoIx72n46/awphACjHxdENjICnA7QWD/tP72+jG1A3DADluCi6gZHwdIBW8rD/bCbRDagbBoByfJF0MaA25ukA7eFh/9l8E/hydBPqhgGgHHcA74tuYkQ8HSAP+8/uPLwAsBgGgLL8WXQDI+ORgHq55z+f90Y3oO4YAMryObwYcFYeCaiPe/7z+RTwd9FNqDsGgPK8NbqBEfLCwHp4wd/8zoluQN0yAJTnw8Dno5sYIU8HlM/D/vO7FLgwugl1ywBQnt3A2Ut/ajaeDiiXh/3ntwt/pxTJAFCmS4B3RTcxUh4JKI97/u28E/hsdBPqngGgXGcDV0Q3MVIeCSiHe/7tXAm8LroJ9cMAUK5bgZcB26MbGSmPBIyfe/7tbANeBNwS3Yj6YQAo2+eBl+ODO+blkYDxcs+/nd3AzwNfiG5E/TEAlO880ukAzcdbBMfHW/3aex3w7ugm1C8DQB3eAbwpuokR83TAeHjYv703AW+PbkL9MwDUo8EQ0IanA/LnYf/2ziH9rlAFDAB1aTAEtOHpgHx52L+9c4A3RDeh4RgA6tNgCGjDEJAfh397Dv8KGQDq1GAIaMMQkA+Hf3sO/0oZAOrVYAhowxAQz+HfnsO/YgaAujUYAtowBMRx+Lfn8K+cAUANhoA2DAHDc/i35/CXAUCAIaAtQ8BwHP7tOfwFGAB0pwZDQBuGgP45/Ntz+OufGQC0XIMhoA1DQH8c/u05/HUXBgCt1GAIaMMQ0D2Hf3sOf92NAUCraTAEtGEI6I7Dvz2Hv1ZlANBaGgwBbRgC2nP4t+fw15oMAFpPgyGgDUPA/Bz+7Tn8tS4DgDbSYAhowxAwO4d/ew5/bcgAoGk0GALaMARMz+HfnsNfUzEAaFoNhoA2DAEbc/i35/DX1AwAmkWDIaANQ8DaHP7tOfw1EwOAZtVgCGjDEHB3Dv/2HP6amQFA82gwBLRhCLiTw789h7/mYgDQvBoMAW0YAhz+XXD4a24GALXRYAhoo+YQ4PBvz+GvVgwAaqvBENBGjSHA4d+ew1+tGQDUhQZDQBt7QsDh0Y0MwOHfnsNfUnYaYLc1d+3KoAeXMe9qkDqyV3QDKsoEWACeGNvGaC1ENzCAGpaxL+cAvxbdhMphAFDXJhgCpK552F+dMwCoDxMMAVJXHP7qhQFAfZlgCJDacvirNwYA9WmCIUCal8NfvTIAqG8TDAHSrBz+6p0BQEOYYAiQpuXw1yAMABrKBEOAtBGHvwZjANCQJhgCpLU4/DUoA4CGNsEQIK3k8NfgDACKMMEQIO3h8FcIA4CiTDAESA5/hTEAKNIEQ4Dq5fBXKAOAok0wBKg+Dn+FMwAoBxMMAaqHw19ZMAAoFxMMASqfw1/ZMAAoJxMMASqXw19ZMQAoNxMMASqPw1/ZMQAoRxMMASqHw19ZMgAoVxMMARo/h7+yZQBQziYYAjReDn9lzQCg3E0wBGh8HP7KngFAYzDBEKDxcPhrFAwAGosJhgDlz+Gv0TAAaEwmGAKUL4e/RsUAoLGZYAhQfhz+Gh0DgMZogiFA+XD4a5QMABqrCYYAxXP4a7QMABqzCYYAxXH4a9QMABq7CYYADc/hr9EzAKgEEwwBGo7DX0UwAKgUEwwB6p/DX8UwAKgkEwwB6o/DX0UxAKg0EwwB6p7DX8UxAKhEEwwB6o7DX0UyAKhUEwwBas/hr2IZAFSyCYYAzc/hr6IZAFS6CYYAzc7hr+IZAFSDCYYATc/hryos9Pi1DwQeAhwPHA3cBzgA2AzcAtwG3AR8DbgCuBz4YY/9SA3w69FNKGtvIm0nUl82kWbjscBx3Dkb7wncSpqN3weuBL5Kmo1bQjqd0cnAfwU+A+wAds9QW0l7av8RePjAfaseDbNtl1Y91SD14xGknY+LSLNulu1yB3AJ8J+Bxw3d+EbuC/wKaS++yw/jF4FXk5KR1KWG+GFj5VUNUrc2A2eTZlmX2+pXgTeSjhyEOQR4K+lwfp8fzO8Bv0pamVJXGuKHjpVHNUjdORD4D6TZ1ed2ewvwFuCgYRYrWQDOov+FW1nfXPq+Ulca4oePFVtvQerOM4FrGHYbvgn4JWCx74U7CvjbgRduZZ1POu0gdaEhfghZMdUgdeMg4AJit+eLgCP7WsBnADcEL+CeuoZ0waHUhYb4bdoathqkbpwCXEv8Nr2bdGT+aV0v4CuY/ar+vmsr8IKuF1TVaojfpq1hysP+6sqzgduJ36aX107gF7pawF/LYIHWW9Cf62pBVb2G+G3a6rcapG68kjSDorfptepX2i7gv8lgITaqO4AXtl1QaUlD/DZt9VPu+asrzyHv4b+nXjPvAr6ENFyjF2Ca2oqPeVV3GuK3aavbapC68WRgG/Hb9DQ11w7yw0iPI4xufpa6Hjh81gWV1tAQv01b3ZR7/urKocC3id+mZ6lbSY8ensom4LIMmp6nPsYA90KqGg3x27TVrhqkbuxFelx99DY9T30J2H+ahXxLBs22qX89zUJKU2qI36at+co9f3Xp1cRv023qzRst4EOB7Rk02qZ+ANx/owWVZtAQv11bs5XDX106lPSGvujtuk1tI72dd00XZtBkF/UH6y2kNIeG+O3amq6aVX+C0vz+iPjtuou6YK0FfBSwK4MGu6itwBFrLag0p4b4bdtav9zzV9eOZDxX/U9TJ662kB/IoLEu67dXW0ippYb4bdtavZo1f2rS/N5O/LbdZZ23cgEPYfzn/lfWjcC+KxdU6kBD/PZt3bXc81cf9iWfd+B0VduBg5cv5NkZNNVHPQupHw3x27eVyuGvvjyP+O27j3rV8oWMfsVvX/VnSP1piN/Ga69mg5+R1MZ5xG/jfdRFexZwM+Ud/t9T1wMLSP1piN/Oay33/NWnBdIMid7O+6htwAEAZ2bQTJ/1sJU/ValjDfHbeW3l8FffTiB+O++zfnIReGxnqytPJ0U3oOI1wJuim6jIm4A3RDeh4hU/GxeB46K76Nmx0Q2oCg2GgCGcg+f9NYziZ2MNAWDdRx9KHWowBPTJPX8NqfjZuEh6xnHJ7hfdgKrSYAjog3v+Glrxs3GRdBdAyQ6MbkDVaTAEdOkc3PPX8KqYjTuIvxqxz7qqq7UlzaghfvsfezUzrnOpK1cRv/33WTvIoIm+67qVP1VpQA3xn4Gxlrf6KdJ1xH8G+q7wBvouA4CiNcR/DsZWDn9FMwAUUAYA5aAh/rMwlnL4KwcGgALKAKBcNMR/HnIvh79yYQAooAwAyklD/Gci13L4KycGgALKAKDcNMR/LnIrh79yYwAooAwAylFD/Gcjl3L4K0cGgALKAKBcNcR/PqLL4a9cGQAKKAOActYQ/xmJKoe/cmYAKKAMAMpdQ/znZOhy+Ct3BoACygCgMWiI/6wMVQ5/jYEBoIAyAGgsGuI/L32Xw19jYQAooAwAGpOG+M9MX+Xw15gYAAooA4DGpiH+c9N1Ofw1NgaAAsoAoDFqiP/sdFUOf42RAaCAMgBorBriPz9ty+GvsTIAFFAGAI1ZQ/xnaN5y+GvMDAAFlAFAY9cQ/zmatRz+GjsDQAFlAFAJGuI/S9OWw18lMAAUUAYAlaIh/vO0UTU9Lbs0NANAAWUAUEleD+wi/nO1Wr2xx+WWhmYAKKAMACrNS4FtxH+29tQPgZf1usTS8IoPAIvdrStJA/lz4DTgG9GNAFcBTwDeE92IpNkYAKRx+hxwIvBOUpof2m7gj4FHLvUiaYTCD0P0XJ4CUOkeD3ye4T5TlwKnDLJkUpziTwGQQQN9lwFAtXgK8Gn6+yx9ATgL2GuoBZICGQAKKAOAavNjwNuBb9P+8/Mt4G1LX1OqSfEBYGHpLyX7J+BHopuQAiwCjwCeDJwKHAccA+y3xn+/DfgacAVwMfAJ4EuU/ztCWs11wJHRTfRpAbiDsi8G/A5w/+gmpEzsBRwMHADcZ+l/+z5wK3AD6RkDktIRtMOim+jRrr2BHay9R1CCA6IbkDJyB3B9dBPSCBwY3UDPti8C26O76NkBpCMdkiRNYxHYFN1Ez7bVEABq+EFKkrpTw45jFUcAoPxDOZKk7tQwM7Yvkq78LV0NP0xJUjdqmBnbF4Et0V0M4IjoBiRJo1HDreM3LwI3RncxgGOjG5AkjcYx0Q0M4MZaAkANP0xJUjdqmBnVBACPAEiSplXDzLhxEbgpuosB1PDDlCR1o4aZcdMi8L3oLgbwo8D+0U1IkrK3CXhQdBMDuGGROt6Wtw9wcnQTkqTsnQLsHd3EAK5dBK6J7mIgp0c3IEnKXi2z4hoDgCRJd3pidAMDuXqB9LzjWyn/efnbSK8//WF0I5KkLG0iXRhf8htyAW4DNi8Cu4Frg5sZwn54HYAkaW2nUP7wB7ga0pvyAK6M62NQz4tuQJKUrZ+ObmAgV8KdAeArgY0M6UWkOwIkSVpuH+D50U0M5MtQXwA4BDgjuglJUnaeBhwc3cRAvgL1BQCAfxHdgCQpOzXNhq9AugMA0kUPW6jj8PjtwGHU8RpkSdLG7gl8hzqeGLsD2Axs33MEYBvwtbh+BrUJeHl0E5KkbLyCOoY/wFeB7XDnKQCAz8b0EuKXgX2jm5AkhdsHeE10EwO6ZM9fFlf7HyvwI8CLo5uQJIX7GeAB0U0MaNVZ/zDSQ4Fqqcu5awCSJNVlEbiM+Hk0ZB232opYID0CMbq5Ies5q60ISVIVXkD8HBqybuDOi//v5q8zaHDIuow67nyQJN3VvqQjwdFzaMj68PIVsPIQ+EWzrb/ReyhwdnQTkqTBvRY4PrqJga07408kPqEMXbcAR0y//iRJI3ck6Vkw0fNn6DphvZWyAFyfQZND15+vt1IkSUX5APFzZ+j6Nuuc/9/jPRk0GlFP3mjFSJJG7wzi501E/cnKFbHabXAfnWoVludPqOdFEJJUo/sCfxzdRJCPTPMfHQrsJD6tRNQFTHGIRJI0OgvAhcTPmYjawQw7uJMMGo6qmh4JKUm1+GXi50tU/d9ZVtQvZtBwVG0HHj/LypIkZe0k0kvvoudLVP3CLCvrcOCODJqOqquA+8+ywiRJWToCuJb4uRJVO0mn9mfyqQwaj6wvA/eZdaVJkrJxL+DviZ8nkfXxtVbOei/Def86/78aPBz4IHCP6EYkSTPbn/To20dGNxLsL+b5RwcBW4lPL9H1IWDveVagJCnEXqTBFz0/omsbLW5vf38GC5BDvZO0QUmS8rYXcC7xcyOHem+bFflTGSxALnU+6ZCSJClP++GO6/I6o83KXASuyWAhcqlLSKdGJEl5uTfpbXfRcyKXupYNjlyvdxEgwC7gXRv8NzU5mXRF5eHRjUiS/tkRwCeBJ0Q3kpF3km7nb+Vw6n6Awmp1NenBEpKkWCdT933+q9U2OnyWzZ9msEC51Q6gYeOjKJKk7i0Av4Q7qKvVuS3W692ckMEC5VofZY6nLEmS5nYw8JfE//7PtR41/6pd3ScyWKhc61rgJ+ZftZKkKZ0BXEf87/1ca6YX/0zrWRksWO51HuliFElSt47EW/ymqTPnXcHrWcBnKk9Tt5GuDdhvrrUsSVpuH9K5/luI//2ee32BNKt78dwMFnAs9Q/AT+NFgpI0j0Xg+cDlxP8+H0s9a641PaUF4IsZLOSY6kpSevWIgCRtbB/gLNJOVPTv7zHV39Hj3v8ez85gQcdY1wCvBg6cfZVLUvHuCZyN9/TPW8+YfZXPboGUNKIXdqx1O+kFDc8gJV1JqtW+wDNJF1DfTvzv57HWpQyw97/HkwdYoBrqe8A7SLcQ+qIhSTXYBDwF+O/ADcT/Hi6hTp/pJ7CkTWI4n3Q6QN3YCfw/0j2cF5NeanFLaEeS1N7+wKOBU0mD/zTgHqEdleV/kS6WnFmbAHAs8GXSIRx1bwfpnQNfA64Avr709+tItxreBtwc1ZwkLbkXcMBSHQUcQ5oPxy39/UHA3mHdlW0b8DDgG/P847bnDN4GvKbl11A7W0hh4PboRiRVYxNp4HtRc6zfAl4/7z9uGwDuQ9o7PaTl15EkSdO7nnSUZe4jwW0fUvN94N+1/BqSJGk2r6HlaeCubhv4CPDUjr6WJEla218DT2v7RboKAA8EvkI6JyRJkvpxO/AI4B/bfqG92vcCwA+AO0i3eEiSpH68Ebiwiy/U5ZOD9gYuAR7T4deUJEnJZ0nPUdjZxRfr+tGBR5NeFrS5468rSVLNbgNOJD0PphNdnQLY4ybSnQGDvJRAkqRKvIr0pNjO9PXygAtIL3iQJEntnA88t+sv2lcAuB/wJeDQnr6+JEk1+BbwSNKLkzrV9kFAa/ku8BI6ulBBkqQK7STN0s6HP3R/DcByV5NeVHBGj99DkqRSvQ54X19fvM8AAPBp4KGktxVJkqTpvI+eH7Xf1zUAy20m3bv40AG+lyRJY3cFcBJwS5/fpK9rAJa7FXg+6WmBkiRpbTcBz6Ln4Q/DBACAy4Fnk64JkCRJd7cDeAEdPuxnPUMFAIBPAq8Adg/4PSVJGoPdwCuBjw/1Dfu+CHClryx9z9MH/r6SJOXs14HfH/IbDh0AACbAg0kPNpAkqXbn0vMV/6uJCACQHhV8PN4eKEmq2weBs4BdQ3/jIW4DXMu+wP8Gnh7YgyRJUf6G9N6ckAvkIwMAwP7AhcATg/uQJGlIFwM/SXrNb4joAABwIPBR4OToRiRJGsBngKcCWyKbGPI2wLVsAZ4CfCy6EUmSevZJ0p5/6PCHPAIApEMgTyddHChJUon+CvgpBnjK3zSi7gJYzR2kiwIfgu8NkCSV5QLSY/G3RjeyR04BAFII+CDwQHxOgCSpDOcCLyM96jcbuQUASPdCfmjp76eTx4WKkiTNajfwG8BrCbjPfyM5BoA9JsDVwJnk3ackSSttB34O+L3oRtYyhr3rU4HzgYOjG5EkaQrfB55H2pHN1hgCAKTHBn9w6U9JknL1D8BzGeiVvm3kchvgRr4KPBb4QHQjkiSt4XzgFEYw/GE8AQDgVuCFwL8isyspJUlV2wm8gXTY/+bgXqY2llMAKz0ReC9wWHAfkqS6fQt4MfCp6EZmNaYjAMtNgBO483ZBSZKG9kHSM2tGN/xhvAEA4HvAc4CXk04PSJI0hB8C/5Z0yP+G4F7mNtZTACsdC7yHdKGgJEl9+SzpqX5XRjfSVikP2LmR9KjFm4DTgH1j25EkFeaHwH8BXsGI9/qXK+UIwHIPAv6A9LpFSZLa+gTpDrSvRzfSpTFfA7CWq0ivW/wZ0nUCkiTN43rgpcCTKWz4QzmnAFbzJeB/ko5yPBbYO7YdSdJI7ADeQXp97+eDe+lNiacAVnM06dzNC6IbkSQCdN2QAAAB2UlEQVRl7S9JV/h/I7qRvtUSAPZ4EvCbwKOjG5EkZeVzwOuBi6IbGUqJ1wCs5xPAY4AzKPiwjiRpal8iPWb+cVQ0/KG+IwArPQV4Cx4RkKTafBl4M/AXwO7gXkLUHgAgrYOnA68hXekpSSrXx4C3AX9FpYN/DwPAXT0SeBVwFnCP4F4kSd3YTnp3zG8Blwb3kg0DwOoOJz304WeBo2JbkSTN6RrgXcAfAt+ObSU/BoD1LZJOC5xFuh90/9h2JEkb2AZcALybdJh/Z2w7+TIATO8g4CWkZwmcRn13UEhSru4gvZL3A8B5pPfCaAMGgPkcRLpw8AWkdw7sE9uOJFVnF3AJaei/Hw/xz8wA0N4hwFNJQeAM4LDYdiSpWN8GPrqsingrXxQDQLcWSHcSPBU4HXg8cJ/QjiRpvG4i7eVfBHyEdO9+1bfudckA0K8F4HhSEDgFOGnp//aUgSTd1Q7gctJtep8mDf4rcOD3xgAwvH1IIeBhwCOW/jwGeCCwKa4tSRrEbcDVpNfrXkbaq7+MNOx3xLVVHwNAXg4BHrBUR5EuNjwIOHjpz/sCB5JebXzg0r/ZBOw3eKeSarcNuH3p71tIt9ttIR22vwG4caluAK4jDf1r8Lx9Nv4/FUYq2L3a75wAAAAASUVORK5CYII=",Lx=n.p+"static/media/cross.ced12f15b69b232e1e42.png",jx=function(t){var n=t.message,r=t.photo,i=t.isCurrentUser,a=t.name,o=t.picture,s=t.audioURL,u=nn((0,e.useState)(!1),2),f=u[0],c=u[1],l=nn((0,e.useState)(!1),2),d=l[0],h=l[1],v=nn((0,e.useState)(null),2),m=v[0],g=v[1];(0,e.useEffect)((function(){/^https:\/\/.*\.png$/.test(n)?c(!0):c(!1)}),[n]);var y=p(Qt),b=function(e){g(e),h(!0)},k=function(){g(null),h(!1)},w=function(){(0,Dx.saveAs)(m,"messanger_image.jpg")};return f?(0,mg.jsxs)("div",{className:"message__wrapper",style:{flexDirection:i?"row-reverse":"row"},children:[d&&(0,mg.jsxs)("div",{className:"modalImg",children:[(0,mg.jsx)("img",{onClick:k,className:"modalImgCross",src:Lx}),(0,mg.jsx)("img",{onClick:w,className:"modalImgDownload",src:Mx}),(0,mg.jsx)("img",{src:m,alt:""})]}),(0,mg.jsx)("div",{className:"light"===y.theme?"message light__background light__shadow":"message dark__background dark__shadow",style:{flexDirection:i?"row-reverse":"row"},children:(0,mg.jsx)("button",{onClick:function(){return b(n)},children:(0,mg.jsx)("img",{src:n,className:"message__content_img",alt:"picture"})})})]}):(0,mg.jsx)("div",{className:"message__wrapper",style:{flexDirection:i?"row-reverse":"row"},children:(0,mg.jsxs)("div",{className:"light"===y.theme?"message light__background light__shadow":"message dark__background dark__shadow",style:{flexDirection:i?"row-reverse":"row"},children:[r?(0,mg.jsx)("img",{src:r,alt:"avatar"}):(0,mg.jsx)("div",{style:{width:50,height:50,backgroundColor:"black",borderRadius:100}}),(0,mg.jsxs)("div",{className:"message__content",children:[o&&(0,mg.jsxs)(mg.Fragment,{children:[d&&(0,mg.jsxs)("div",{className:"modalImg",children:[(0,mg.jsx)("img",{onClick:k,className:"modalImgCross",src:Lx}),(0,mg.jsx)("img",{onClick:w,className:"modalImgDownload",src:Mx}),(0,mg.jsx)("img",{src:m,alt:""})]}),(0,mg.jsx)("img",{onClick:function(){return b(o)},src:o,className:"message__content_img",alt:"picture"})]}),s&&(0,mg.jsx)("audio",{controls:!0,onClick:function(e){return e.target.play()},children:(0,mg.jsx)("source",{src:s})}),0===n?null:(0,mg.jsx)(gg,{type:"p",label:n})]}),(0,mg.jsx)("p",{className:"message__displayName",children:a})]})})},Ux="@firebase/database",Fx="0.14.4",Bx="";var zx=function(){function e(t){yn(this,e),this.domStorage_=t,this.prefix_="firebase:"}return kn(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yn(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Xn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Vx=function(){function e(){yn(this,e),this.cache_={},this.isInMemoryStorage=!0}return kn(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Zn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),qx=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zx(t)}}catch(n){}return new Vx},Hx=qx("localStorage"),Wx=qx("sessionStorage"),Gx=new xr("@firebase/database"),Kx=function(){var e=1;return function(){return e++}}(),Qx=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,_n(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ur;n.update(t);var r=n.digest();return xn.encodeByteArray(r)},Jx=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Yn(r):r,t+=" "}return t},Xx=null,Yx=!0,$x=function(e,t){_n(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Gx.logLevel=yr.VERBOSE,Xx=Gx.log.bind(Gx),t&&Wx.set("logging_enabled",!0)):"function"===typeof e?Xx=e:(Xx=null,Wx.remove("logging_enabled"))},Zx=function(){if(!0===Yx&&(Yx=!1,null===Xx&&!0===Wx.get("logging_enabled")&&$x(!0)),Xx){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Jx.apply(null,t);Xx(r)}},eS=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Zx.apply(void 0,[e].concat(n))}},tS=function(){var e="FIREBASE INTERNAL ERROR: "+Jx.apply(void 0,arguments);Gx.error(e)},nS=function(){var e="FIREBASE FATAL ERROR: ".concat(Jx.apply(void 0,arguments));throw Gx.error(e),new Error(e)},rS=function(){var e="FIREBASE WARNING: "+Jx.apply(void 0,arguments);Gx.warn(e)},iS=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},aS="[MIN_NAME]",oS="[MAX_NAME]",sS=function(e,t){if(e===t)return 0;if(e===aS||t===oS)return-1;if(t===aS||e===oS)return 1;var n=vS(e),r=vS(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},uS=function(e,t){return e===t?0:e<t?-1:1},fS=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Yn(t))},cS=function e(t){if("object"!==typeof t||null===t)return Yn(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Yn(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},lS=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function dS(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var hS=function(e){_n(!iS(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),f="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),f+=c}return f.toLowerCase()};var pS=new RegExp("^-?(0*)\\d{1,10}$"),vS=function(e){if(pS.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},mS=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw rS("Exception was thrown by user callback.",e),t}),Math.floor(0))}},gS=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yS=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},bS=function(){function e(t,n){var r=this;yn(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return kn(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){rS('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),kS=function(){function e(t,n,r){var i=this;yn(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return kn(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Zx("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rS(e)}}]),e}(),wS=function(){function e(t){yn(this,e),this.accessToken=t}return kn(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();wS.OWNER="owner";var _S="5",ES=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CS="ac",xS="websocket",SS="long_polling",TS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];yn(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hx.get("host:"+t)||this._host}return kn(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hx.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function AS(e,t,n){var r;if(_n("string"===typeof t,"typeof type must == string"),_n("object"===typeof n,"typeof params must == object"),t===xS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==SS)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return dS(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var IS=function(){function e(){yn(this,e),this.counters_={}}return kn(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Rn(this.counters_)}}]),e}(),RS={},NS={};function PS(e){var t=e.toString();return RS[t]||(RS[t]=new IS),RS[t]}var OS=function(){function e(t){yn(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return kn(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&mS((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),DS="start",MS="close",LS="pLPCommand",jS="pRTLPCB",US=function(){function e(t,n,r,i,a,o,s){var u=this;yn(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eS(t),this.stats_=PS(n),this.urlFn=function(e){return u.appCheckToken&&(e[CS]=u.appCheckToken),AS(n,SS,e)}}return kn(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new OS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Hn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new FS((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===DS)n.id=a,n.password=o;else{if(i!==MS)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[DS]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=_S,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[CS]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ES.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Yn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Tn(t),r=lS(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Hn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Yn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Hn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),FS=function(){function e(t,n,r,i){if(yn(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Hn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Kx(),window[LS+this.uniqueCallbackIdentifier]=t,window[jS+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Zx("frame writing exception"),s.stack&&Zx(s.stack),Zx(s)}}}return kn(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Hn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Zx("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zx("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),BS=null;"undefined"!==typeof MozWebSocket?BS=MozWebSocket:"undefined"!==typeof WebSocket&&(BS=WebSocket);var zS=function(){function e(t,n,r,i,a,o,s){yn(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eS(this.connId),this.stats_=PS(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return kn(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hx.set("previous_websocket_failure",!0);try{var r;if(Hn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(_S,"/").concat(Bx,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/Messanger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new BS(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Hx.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Xn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(_n(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Yn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=lS(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=_S,!Hn()&&"undefined"!==typeof location&&location.hostname&&ES.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[CS]=r),i&&(a.p=i),AS(e,xS,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==BS&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Hx.isInMemoryStorage||!0===Hx.get("previous_websocket_failure")}}]),e}();zS.responsesRequiredToBeHealthy=2,zS.healthyTimeout=3e4;var VS=function(){function e(t){yn(this,e),this.initTransports_(t)}return kn(e,[{key:"initTransports_",value:function(t){var n=zS&&zS.isAvailable(),r=n&&!zS.previouslyFailed();if(t.webSocketOnly&&(n||rS("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zS];else{var i,a=this.transports_=[],o=hn(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[US,zS]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();VS.globalTransportInitialized_=!1;var qS=function(){function e(t,n,r,i,a,o,s,u,f,c){yn(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eS("c:"+this.id+":"),this.transportManager_=new VS(n),this.log_("Connection created"),this.start_()}return kn(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=yS((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=fS("t",e),n=fS("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=fS("t",e),n=fS("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=fS("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?tS("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tS("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_S!==n&&rS("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yS((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yS((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),HS=function(){function e(){yn(this,e)}return kn(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),WS=function(){function e(t){yn(this,e),this.allowedEvents_=t,this.listeners_={},_n(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return kn(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=gn(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){_n(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),GS=function(e){pn(n,e);var t=mn(n);function n(){var e;return yn(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||zn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return kn(n,[{key:"getInitialEvent",value:function(e){return _n("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(WS),KS=32,QS=768,JS=function(){function e(t,n){if(yn(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return kn(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function XS(){return new JS("")}function YS(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $S(e){return e.pieces_.length-e.pieceNum_}function ZS(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new JS(e.pieces_,t)}function eT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function tT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function nT(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new JS(t,0)}function rT(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof JS)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new JS(n,0)}function iT(e){return e.pieceNum_>=e.pieces_.length}function aT(e,t){var n=YS(e),r=YS(t);if(null===n)return t;if(n===r)return aT(ZS(e),ZS(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function oT(e,t){if($S(e)!==$S(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function sT(e,t){var n=e.pieceNum_,r=t.pieceNum_;if($S(e)>$S(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var uT=kn((function e(t,n){yn(this,e),this.errorPrefix_=n,this.parts_=tT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=dr(this.parts_[r]);fT(this)}));function fT(e){if(e.byteLength_>QS)throw new Error(e.errorPrefix_+"has a key path longer than "+QS+" bytes ("+e.byteLength_+").");if(e.parts_.length>KS)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+KS+") or object contains a cycle "+cT(e))}function cT(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var lT=function(e){pn(n,e);var t=mn(n);function n(){var e,r,i;return yn(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return kn(n,[{key:"getInitialEvent",value:function(e){return _n("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(WS),dT=1e3,hT=3e5,pT=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a,o,s,u,f){var c;if(yn(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=f,c.id=n.nextPersistentConnectionId_++,c.log_=eS("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=dT,c.maxReconnectDelay_=hT,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,f&&!Hn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return lT.getInstance().on("visible",c.onVisible_,vn(c)),-1===e.host.indexOf("fblocal")&&GS.getInstance().on("online",c.onOnline_,vn(c)),c}return kn(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Yn(i)),_n(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Un,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),_n(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_n(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=$n(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=$n(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),_n(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Yn(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):tS("Unrecognized action received from server: "+Yn(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;_n(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dT),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=on(rn().mark((function e(){var t,r,i,a,o,s,u,f,c,l,d,h,p,v,m=this;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,f=function(){u?u.close():(s=!0,i())},c=function(e){_n(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:f,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);case 19:d=e.sent,h=nn(d,2),p=h[0],v=h[1],s?Zx("getToken() completed but was canceled"):(Zx("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new qS(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){rS(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&rS(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Zx("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Zx("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tr(this.interruptReasons_)&&(this.reconnectDelay_=dT,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return cS(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new JS(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Zx("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Zx("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=hn(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=hn(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Hn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Bx.replace(/\./g,"-")]=1,zn()?e["framework.cordova"]=1:qn()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=GS.getInstance().currentlyOnline();return tr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Zn(e,"w")){var n=er(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();rS("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(HS);pT.nextPersistentConnectionId_=0,pT.nextConnectionId_=0;var vT,mT=function(){function e(t,n){yn(this,e),this.name=t,this.node=n}return kn(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),gT=function(){function e(){yn(this,e)}return kn(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new mT(aS,e),r=new mT(aS,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return mT.MIN}}]),e}(),yT=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"compare",value:function(e,t){return sS(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw En("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return mT.MIN}},{key:"maxPost",value:function(){return new mT(oS,vT)}},{key:"makePost",value:function(e,t){return _n("string"===typeof e,"KeyIndex indexValue must always be a string."),new mT(e,vT)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return vT},set:function(e){vT=e}}]),n}(gT),bT=new yT,kT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;yn(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return kn(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),wT=function(){function e(t,n,r,i,a){yn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:CT.EMPTY_NODE,this.right=null!=a?a:CT.EMPTY_NODE}return kn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return CT.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return CT.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();wT.RED=!0,wT.BLACK=!1;var _T,ET=function(){function e(){yn(this,e)}return kn(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wT(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),CT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;yn(this,e),this.comparator_=t,this.root_=n}return kn(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,wT.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,wT.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new kT(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new kT(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new kT(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new kT(this.root_,null,this.comparator_,!0,e)}}]),e}();function xT(e,t){return sS(e.name,t.name)}function ST(e,t){return sS(e,t)}CT.EMPTY_NODE=new ET;var TT,AT,IT,RT=function(e){return"number"===typeof e?"number:"+hS(e):"string:"+e},NT=function(e){if(e.isLeafNode()){var t=e.val();_n("string"===typeof t||"number"===typeof t||"object"===typeof t&&Zn(t,".sv"),"Priority must be a string or number.")}else _n(e===_T||e.isEmpty(),"priority of unexpected type.");_n(e===_T||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},PT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;yn(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,_n(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),NT(this.priorityNode_)}return kn(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return iT(t)?this:".priority"===YS(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=YS(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(_n(".priority"!==r||1===$S(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ZS(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+RT(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?hS(this.value_):this.value_,this.lazyHash_=Qx(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(_n(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return _n(i>=0,"Unknown leaf type: "+n),_n(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return TT},set:function(e){TT=e}}]),e}();PT.VALUE_TYPE_ORDER=["object","boolean","number","string"];var OT,DT,MT=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?sS(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return mT.MIN}},{key:"maxPost",value:function(){return new mT(oS,new PT("[PRIORITY-POST]",IT))}},{key:"makePost",value:function(e,t){var n=AT(e);return new mT(t,new PT("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(gT),LT=new MT,jT=Math.log(2),UT=function(){function e(t){yn(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/jT,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return kn(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),FT=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new wT(o,a.node,wT.BLACK,null,null);var u=parseInt(s/2,10)+r,f=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new wT(o,a.node,wT.BLACK,f,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var f=i(a+1,s),c=e[a],l=n?n(c):c;u(new wT(l,c.node,r,null,f))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},f=0;f<t.count;++f){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(f+1));c?s(l,wT.BLACK):(s(l,wT.BLACK),s(l,wT.RED))}return a}(new UT(e.length));return new CT(r||t,a)},BT={},zT=function(){function e(t,n){yn(this,e),this.indexes_=t,this.indexSet_=n}return kn(e,[{key:"get",value:function(e){var t=er(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof CT?t:null}},{key:"hasIndex",value:function(e){return Zn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){_n(t!==bT,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(mT.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?FT(i,t.getCompare()):BT;var u=t.toString(),f=Object.assign({},this.indexSet_);f[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,f)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(nr(this.indexes_,(function(e,i){var a=er(r.indexSet_,i);if(_n(a,"Missing index implementation for "+i),e===BT){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(mT.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),FT(o,a.getCompare())}return BT}var f=n.get(t.name),c=e;return f&&(c=c.remove(new mT(t.name,f))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(nr(this.indexes_,(function(e){if(e===BT)return e;var r=n.get(t.name);return r?e.remove(new mT(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return _n(BT&&LT,"ChildrenNode.ts has not been loaded"),OT=OT||new e({".priority":BT},{".priority":LT})}}]),e}(),VT=function(){function e(t,n,r){yn(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&NT(this.priorityNode_),this.children_.isEmpty()&&_n(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return kn(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||DT}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?DT:t}},{key:"getChild",value:function(e){var t=YS(e);return null===t?this:this.getImmediateChild(t).getChild(ZS(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(_n(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new mT(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?DT:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=YS(e);if(null===n)return t;_n(".priority"!==YS(e)||1===$S(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ZS(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(LT,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+RT(this.getPriority().val())+":"),this.forEachChild(LT,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Qx(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new mT(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new mT(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new mT(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,mT.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,mT.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qT?-1:0}},{key:"withIndex",value:function(t){if(t===bT||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===bT||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(LT),r=t.getIterator(LT),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===bT?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return DT||(DT=new e(new CT(ST),null,zT.Default))}}]),e}();VT.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var qT=new(function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.call(this,new CT(ST),VT.EMPTY_NODE,zT.Default)}return kn(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return VT.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(VT));Object.defineProperties(mT,{MIN:{value:new mT(aS,VT.EMPTY_NODE)},MAX:{value:new mT(oS,qT)}}),yT.__EMPTY_NODE=VT.EMPTY_NODE,PT.__childrenNodeConstructor=VT,_T=qT,function(e){IT=e}(qT);var HT=!0;function WT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return VT.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),_n(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new PT(e,WT(t));if(e instanceof Array||!HT){var n=VT.EMPTY_NODE;return dS(e,(function(t,r){if(Zn(e,t)&&"."!==t.substring(0,1)){var i=WT(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(WT(t))}var r=[],i=!1;if(dS(e,(function(e,t){if("."!==e.substring(0,1)){var n=WT(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new mT(e,n)))}})),0===r.length)return VT.EMPTY_NODE;var a=FT(r,xT,(function(e){return e.name}),ST);if(i){var o=FT(r,LT.getCompare());return new VT(a,WT(t),new zT({".priority":o},{".priority":LT}))}return new VT(a,WT(t),zT.Default)}!function(e){AT=e}(WT);var GT=function(e){pn(n,e);var t=mn(n);function n(e){var r;return yn(this,n),(r=t.call(this)).indexPath_=e,_n(!iT(e)&&".priority"!==YS(e),"Can't create PathIndex with empty path or .priority key"),r}return kn(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?sS(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=WT(e),r=VT.EMPTY_NODE.updateChild(this.indexPath_,n);return new mT(t,r)}},{key:"maxPost",value:function(){var e=VT.EMPTY_NODE.updateChild(this.indexPath_,qT);return new mT(oS,e)}},{key:"toString",value:function(){return tT(this.indexPath_,0).join("/")}}]),n}(gT),KT=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?sS(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return mT.MIN}},{key:"maxPost",value:function(){return mT.MAX}},{key:"makePost",value:function(e,t){var n=WT(e);return new mT(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(gT),QT=new KT;function JT(e){return{type:"value",snapshotNode:e}}function XT(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function YT(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $T(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ZT=function(){function e(){yn(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=LT}return kn(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return _n(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return _n(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aS}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return _n(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return _n(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oS}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return _n(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===LT}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function eA(e){var t,n={};if(e.isDefault())return n;if(e.index_===LT?t="$priority":e.index_===QT?t="$value":e.index_===bT?t="$key":(_n(e.index_ instanceof GT,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Yn(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Yn(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Yn(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Yn(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Yn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function tA(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==LT&&(t.i=e.index_.toString()),t}var nA=function(e){pn(n,e);var t=mn(n);function n(e,r,i,a){var o;return yn(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=eS("p:rest:"),o.listens_={},o}return kn(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var f=eA(e._queryParams);this.restRequest_(o+".json",f,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),er(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=eA(e._queryParams),r=e._path.toString(),i=new Un;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=nn(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ar(n);t.log_("Sending REST request for "+u);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(r&&4===f.readyState){t.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=Xn(f.responseText)}catch(n){rS("Failed to parse JSON response for "+u+": "+f.responseText)}r(null,e)}else 401!==f.status&&404!==f.status&&rS("Got unsuccessful REST response for "+u+" Status: "+f.status),r(f.status);r=null}},f.open("GET",u,!0),f.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(_n(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(HS),rA=function(){function e(){yn(this,e),this.rootNode_=VT.EMPTY_NODE}return kn(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function iA(){return{value:null,children:new Map}}function aA(e,t,n){if(iT(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=YS(t);e.children.has(r)||e.children.set(r,iA()),aA(e.children.get(r),t=ZS(t),n)}}function oA(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){oA(r,new JS(t.toString()+"/"+e),n)}))}var sA,uA=function(){function e(t){yn(this,e),this.collection_=t,this.last_=null}return kn(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&dS(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),fA=1e4,cA=3e4,lA=function(){function e(t,n){yn(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new uA(t);var r=fA+(cA-fA)*Math.random();yS(this.reportStats_.bind(this),Math.floor(r))}return kn(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;dS(t,(function(t,i){i>0&&Zn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),yS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function dA(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sA||(sA={}));var hA,pA=function(){function e(t,n,r){yn(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=sA.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return kn(e,[{key:"operationForChild",value:function(t){if(iT(this.path)){if(null!=this.affectedTree.value)return _n(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new JS(t));return new e(XS(),n,this.revert)}return _n(YS(this.path)===t,"operationForChild called for unrelated child."),new e(ZS(this.path),this.affectedTree,this.revert)}}]),e}(),vA=function(){function e(t,n,r){yn(this,e),this.source=t,this.path=n,this.snap=r,this.type=sA.OVERWRITE}return kn(e,[{key:"operationForChild",value:function(t){return iT(this.path)?new e(this.source,XS(),this.snap.getImmediateChild(t)):new e(this.source,ZS(this.path),this.snap)}}]),e}(),mA=function(){function e(t,n,r){yn(this,e),this.source=t,this.path=n,this.children=r,this.type=sA.MERGE}return kn(e,[{key:"operationForChild",value:function(t){if(iT(this.path)){var n=this.children.subtree(new JS(t));return n.isEmpty()?null:n.value?new vA(this.source,XS(),n.value):new e(this.source,XS(),n)}return _n(YS(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ZS(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),gA=function(){function e(t,n,r){yn(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return kn(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(iT(e))return this.isFullyInitialized()&&!this.filtered_;var t=YS(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function yA(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw En("Should only compare child_ events.");var r=new mT(t.childName,t.snapshotNode),i=new mT(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function bA(e,t){return{eventCache:e,serverCache:t}}function kA(e,t,n,r){return bA(new gA(t,n,r),e.serverCache)}function wA(e,t,n,r){return bA(e.eventCache,new gA(t,n,r))}function _A(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function EA(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var CA=function(){return hA||(hA=new CT(uS)),hA},xA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CA();yn(this,e),this.value=t,this.children=n}return kn(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:XS(),value:this.value};if(iT(e))return null;var n=YS(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ZS(e),t);return null!=i?{path:rT(new JS(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(iT(t))return this;var n=YS(t),r=this.children.get(n);return null!==r?r.subtree(ZS(t)):new e(null)}},{key:"set",value:function(t,n){if(iT(t))return new e(n,this.children);var r=YS(t),i=(this.children.get(r)||new e(null)).set(ZS(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(iT(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=YS(t),r=this.children.get(n);if(r){var i,a=r.remove(ZS(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(iT(e))return this.value;var t=YS(e),n=this.children.get(t);return n?n.get(ZS(e)):null}},{key:"setTree",value:function(t,n){if(iT(t))return n;var r,i=YS(t),a=(this.children.get(i)||new e(null)).setTree(ZS(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(XS(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(rT(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,XS(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(iT(e))return null;var i=YS(e),a=this.children.get(i);return a?a.findOnPath_(ZS(e),rT(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,XS(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(iT(t))return this;this.value&&r(n,this.value);var i=YS(t),a=this.children.get(i);return a?a.foreachOnPath_(ZS(t),rT(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(XS(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(rT(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return dS(t,(function(e,t){n=n.set(new JS(e),t)})),n}}]),e}(),SA=function(){function e(t){yn(this,e),this.writeTree_=t}return kn(e,null,[{key:"empty",value:function(){return new e(new xA(null))}}]),e}();function TA(e,t,n){if(iT(t))return new SA(new xA(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=aT(i,t);return a=a.updateChild(o,n),new SA(e.writeTree_.set(i,a))}var s=new xA(n),u=e.writeTree_.setTree(t,s);return new SA(u)}function AA(e,t,n){var r=e;return dS(n,(function(e,n){r=TA(r,rT(t,e),n)})),r}function IA(e,t){if(iT(t))return SA.empty();var n=e.writeTree_.setTree(t,new xA(null));return new SA(n)}function RA(e,t){return null!=NA(e,t)}function NA(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(aT(n.path,t)):null}function PA(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(LT,(function(e,n){t.push(new mT(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new mT(e,n.value))})),t}function OA(e,t){if(iT(t))return e;var n=NA(e,t);return new SA(null!=n?new xA(n):e.writeTree_.subtree(t))}function DA(e){return e.writeTree_.isEmpty()}function MA(e,t){return LA(XS(),e.writeTree_,t)}function LA(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(_n(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=LA(rT(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(rT(e,".priority"),r)),n}function jA(e,t){return XA(t,e)}function UA(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));_n(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&FA(s,r.path)?i=!1:sT(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=zA(e.allWrites,BA,XS()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=IA(e.visibleWrites,r.path):dS(r.children,(function(t){e.visibleWrites=IA(e.visibleWrites,rT(r.path,t))}));return!0}return!1}function FA(e,t){if(e.snap)return sT(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&sT(rT(e.path,n),t))return!0;return!1}function BA(e){return e.visible}function zA(e,t,n){for(var r=SA.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)sT(n,o)?r=TA(r,s=aT(n,o),a.snap):sT(o,n)&&(s=aT(o,n),r=TA(r,XS(),a.snap.getChild(s)));else{if(!a.children)throw En("WriteRecord should have .snap or .children");if(sT(n,o))r=AA(r,s=aT(n,o),a.children);else if(sT(o,n))if(iT(s=aT(o,n)))r=AA(r,XS(),a.children);else{var u=er(a.children,YS(s));if(u){var f=u.getChild(ZS(s));r=TA(r,XS(),f)}}}}}return r}function VA(e,t,n,r,i){if(r||i){var a=OA(e.visibleWrites,t);if(!i&&DA(a))return n;if(i||null!=n||RA(a,XS())){return MA(zA(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(sT(e.path,t)||sT(t,e.path))}),t),n||VT.EMPTY_NODE)}return null}var o=NA(e.visibleWrites,t);if(null!=o)return o;var s=OA(e.visibleWrites,t);return DA(s)?n:null!=n||RA(s,XS())?MA(s,n||VT.EMPTY_NODE):null}function qA(e,t,n,r){return VA(e.writeTree,e.treePath,t,n,r)}function HA(e,t){return function(e,t,n){var r=VT.EMPTY_NODE,i=NA(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(LT,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=OA(e.visibleWrites,t);return n.forEachChild(LT,(function(e,t){var n=MA(OA(a,new JS(e)),t);r=r.updateImmediateChild(e,n)})),PA(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return PA(OA(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function WA(e,t,n,r){return function(e,t,n,r,i){_n(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=rT(t,n);if(RA(e.visibleWrites,a))return null;var o=OA(e.visibleWrites,a);return DA(o)?i.getChild(n):MA(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function GA(e,t){return function(e,t){return NA(e.visibleWrites,t)}(e.writeTree,rT(e.treePath,t))}function KA(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=OA(e.visibleWrites,t),f=NA(u,XS());if(null!=f)s=f;else{if(null==n)return[];s=MA(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),d=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=d.getNext();h&&c.length<i;)0!==l(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function QA(e,t,n){return function(e,t,n,r){var i=rT(t,n),a=NA(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?MA(OA(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function JA(e,t){return XA(rT(e.treePath,t),e.writeTree)}function XA(e,t){return{treePath:e,writeTree:t}}var YA=function(){function e(){yn(this,e),this.changeMap=new Map}return kn(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;_n("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),_n(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,$T(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,YT(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,XT(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw En("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,$T(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),$A=new(function(){function e(){yn(this,e)}return kn(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),ZA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;yn(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return kn(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new gA(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QA(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:EA(this.viewCache_),i=KA(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function eI(e,t,n,r,i){var a,o,s=new YA;if(n.type===sA.OVERWRITE){var u=n;u.source.fromUser?a=rI(e,t,u.path,u.snap,r,i,s):(_n(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!iT(u.path),a=nI(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===sA.MERGE){var f=n;f.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var f=rT(n,r);iI(t,YS(f))&&(s=rI(e,s,f,u,i,a,o))})),r.foreach((function(r,u){var f=rT(n,r);iI(t,YS(f))||(s=rI(e,s,f,u,i,a,o))})),s}(e,t,f.path,f.children,r,i,s):(_n(f.source.fromServer,"Unknown source."),o=f.source.tagged||t.serverCache.isFiltered(),a=oI(e,t,f.path,f.children,r,i,o,s))}else if(n.type===sA.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=GA(r,n))return t;var s,u=new ZA(r,t,i),f=t.eventCache.getNode();if(iT(n)||".priority"===YS(n)){var c;if(t.serverCache.isFullyInitialized())c=qA(r,EA(t));else{var l=t.serverCache.getNode();_n(l instanceof VT,"serverChildren would be complete if leaf node"),c=HA(r,l)}s=e.filter.updateFullNode(f,c,a)}else{var d=YS(n),h=QA(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=f.getImmediateChild(d)),(s=null!=h?e.filter.updateChild(f,d,h,ZS(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(f,d,VT.EMPTY_NODE,ZS(n),u,a):f).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=qA(r,EA(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=GA(r,XS()),kA(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=GA(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(iT(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return nI(e,t,n,u.getNode().getChild(n),i,a,s,o);if(iT(n)){var f=new xA(null);return u.getNode().forEachChild(bT,(function(e,t){f=f.set(new JS(e),t)})),oI(e,t,n,f,i,a,s,o)}return t}var c=new xA(null);return r.foreach((function(e,t){var r=rT(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),oI(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==sA.LISTEN_COMPLETE)throw En("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=wA(t,a.getNode(),a.isFullyInitialized()||iT(n),a.isFiltered());return tI(e,o,n,r,$A,i)}(e,t,n.path,r,s)}var l=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=_A(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(JT(_A(t)))}}(t,a,l),{viewCache:a,changes:l}}function tI(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=GA(r,n))return t;if(iT(n))if(_n(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var f=EA(t),c=HA(r,f instanceof VT?f:VT.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var l=qA(r,EA(t));o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var d=YS(n);if(".priority"===d){_n(1===$S(n),"Can't have a priority with additional path components");var h=u.getNode(),p=WA(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=ZS(n);if(u.isCompleteForChild(d)){s=t.serverCache.getNode();var g=WA(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(d).updateChild(m,g):u.getNode().getImmediateChild(d)}else v=QA(r,d,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),d,v,m,i,a):u.getNode()}}return kA(t,o,u.isFullyInitialized()||iT(n),e.filter.filtersNodes())}function nI(e,t,n,r,i,a,o,s){var u,f=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(iT(n))u=c.updateFullNode(f.getNode(),r,null);else if(c.filtersNodes()&&!f.isFiltered()){var l=f.getNode().updateChild(n,r);u=c.updateFullNode(f.getNode(),l,null)}else{var d=YS(n);if(!f.isCompleteForPath(n)&&$S(n)>1)return t;var h=ZS(n),p=f.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?c.updatePriority(f.getNode(),p):c.updateChild(f.getNode(),d,p,h,$A,null)}var v=wA(t,u,f.isFullyInitialized()||iT(n),c.filtersNodes());return tI(e,v,n,i,new ZA(i,v,a),s)}function rI(e,t,n,r,i,a,o){var s,u,f=t.eventCache,c=new ZA(i,t,a);if(iT(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=kA(t,u,!0,e.filter.filtersNodes());else{var l=YS(n);if(".priority"===l)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=kA(t,u,f.isFullyInitialized(),f.isFiltered());else{var d,h=ZS(n),p=f.getNode().getImmediateChild(l);if(iT(h))d=r;else{var v=c.getCompleteChild(l);d=null!=v?".priority"===eT(h)&&v.getChild(nT(h)).isEmpty()?v:v.updateChild(h,r):VT.EMPTY_NODE}if(p.equals(d))s=t;else s=kA(t,e.filter.updateChild(f.getNode(),l,d,h,c,o),f.isFullyInitialized(),e.filter.filtersNodes())}}return s}function iI(e,t){return e.eventCache.isCompleteForChild(t)}function aI(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function oI(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,f=t;u=iT(n)?r:new xA(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=aI(0,t.serverCache.getNode().getImmediateChild(n),r);f=nI(e,f,new JS(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var l=aI(0,t.serverCache.getNode().getImmediateChild(n),r);f=nI(e,f,new JS(n),l,i,a,o,s)}})),f}var sI;function uI(e,t){var n=EA(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!iT(t)&&!n.getImmediateChild(YS(t)).isEmpty())?n.getChild(t):null}function fI(e,t,n,r){t.type===sA.MERGE&&null!==t.source.queryId&&(_n(EA(e.viewCache_),"We should always have a full cache before handling merges"),_n(_A(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=eI(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,_n(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),_n(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),_n(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,cI(e,s.changes,s.viewCache.eventCache.getNode(),null)}function cI(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),yA(e,i,"child_removed",t,r,n),yA(e,i,"child_added",t,r,n),yA(e,i,"child_moved",a,r,n),yA(e,i,"child_changed",t,r,n),yA(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var lI;function dI(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return _n(null!=a,"SyncTree gave us an op for an invalid query."),fI(a,t,n,r)}var o,s=[],u=hn(e.views.values());try{for(u.s();!(o=u.n()).done;){var f=o.value;s=s.concat(fI(f,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function hI(e,t){var n,r=null,i=hn(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||uI(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var pI=kn((function e(t){yn(this,e),this.listenProvider_=t,this.syncPointTree_=new xA(null),this.pendingWriteTree_={visibleWrites:SA.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function vI(e,t,n,r,i){return function(e,t,n,r,i){_n(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=TA(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?kI(e,new vA({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function mI(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(UA(e.pendingWriteTree_,t)){var i=new xA(null);return null!=r.snap?i=i.set(XS(),!0):dS(r.children,(function(e){i=i.set(new JS(e),!0)})),kI(e,new pA(r.path,i,n))}return[]}function gI(e,t,n){return kI(e,new vA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function yI(e,t,n,r){var i=EI(e,r);if(null!=i){var a=CI(i),o=a.path,s=a.queryId,u=aT(o,t);return xI(e,o,new vA(dA(s),u,n))}return[]}function bI(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=hI(n,aT(e,t));if(r)return r}));return VA(r,t,i,n,!0)}function kI(e,t){return wI(t,e.syncPointTree_,null,jA(e.pendingWriteTree_,XS()))}function wI(e,t,n,r){if(iT(e.path))return _I(e,t,n,r);var i=t.get(XS());null==n&&null!=i&&(n=hI(i,XS()));var a=[],o=YS(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var f=n?n.getImmediateChild(o):null,c=JA(r,o);a=a.concat(wI(s,u,f,c))}return i&&(a=a.concat(dI(i,e,r,n))),a}function _I(e,t,n,r){var i=t.get(XS());null==n&&null!=i&&(n=hI(i,XS()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=JA(r,t),u=e.operationForChild(t);u&&(a=a.concat(_I(u,i,o,s)))})),i&&(a=a.concat(dI(i,e,r,n))),a}function EI(e,t){return e.tagToQueryMap.get(t)}function CI(e){var t=e.indexOf("$");return _n(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new JS(e.substr(0,t))}}function xI(e,t,n){var r=e.syncPointTree_.get(t);return _n(r,"Missing sync point for query tag that we're tracking"),dI(r,n,jA(e.pendingWriteTree_,t),null)}var SI=function(){function e(t){yn(this,e),this.node_=t}return kn(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),TI=function(){function e(t,n){yn(this,e),this.syncTree_=t,this.path_=n}return kn(e,[{key:"getImmediateChild",value:function(t){var n=rT(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return bI(this.syncTree_,this.path_)}}]),e}(),AI=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},II=function(e,t,n){return e&&"object"===typeof e?(_n(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?RI(e[".sv"],t,n):"object"===typeof e[".sv"]?NI(e[".sv"],t):void _n(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},RI=function(e,t,n){if("timestamp"===e)return n.timestamp;_n(!1,"Unexpected server value: "+e)},NI=function(e,t,n){e.hasOwnProperty("increment")||_n(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&_n(!1,"Unexpected increment value: "+r);var i=t.node();if(_n(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},PI=function(e,t,n,r){return DI(t,new TI(n,e),r)},OI=function(e,t,n){return DI(e,new SI(t),n)};function DI(e,t,n){var r,i=e.getPriority().val(),a=II(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=II(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new PT(s,WT(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new PT(a))),u.forEachChild(LT,(function(e,i){var a=DI(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var MI=kn((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};yn(this,e),this.name=t,this.parent=n,this.node=r}));function LI(e,t){for(var n=t instanceof JS?t:new JS(t),r=e,i=YS(n);null!==i;){var a=er(r.node.children,i)||{children:{},childCount:0};r=new MI(i,r,a),i=YS(n=ZS(n))}return r}function jI(e){return e.node.value}function UI(e,t){e.node.value=t,qI(e)}function FI(e){return e.node.childCount>0}function BI(e,t){dS(e.node.children,(function(n,r){t(new MI(n,e,r))}))}function zI(e,t,n,r){n&&!r&&t(e),BI(e,(function(e){zI(e,t,!0,r)})),n&&r&&t(e)}function VI(e){return new JS(null===e.parent?e.name:VI(e.parent)+"/"+e.name)}function qI(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===jI(e)&&!FI(e)}(n),i=Zn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qI(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,qI(e))}(e.parent,e.name,e)}var HI=/[\[\].#$\/\u0000-\u001F\u007F]/,WI=/[\[\].#$\u0000-\u001F\u007F]/,GI=10485760,KI=function(e){return"string"===typeof e&&0!==e.length&&!HI.test(e)},QI=function(e){return"string"===typeof e&&0!==e.length&&!WI.test(e)},JI=function e(t,n,r){var i=r instanceof JS?new uT(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+cT(i));if("function"===typeof n)throw new Error(t+"contains a function "+cT(i)+" with contents = "+n.toString());if(iS(n))throw new Error(t+"contains "+n.toString()+" "+cT(i));if("string"===typeof n&&n.length>GI/3&&dr(n)>GI)throw new Error(t+"contains a string greater than "+GI+" utf8 bytes "+cT(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(dS(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!KI(n)))throw new Error(t+" contains an invalid key ("+n+") "+cT(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=dr(t),fT(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=dr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+cT(i)+" in addition to actual children.")}},XI=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!KI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),QI(e)}(n))throw new Error(lr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},YI=kn((function e(){yn(this,e),this.eventLists_=[],this.recursionDepth_=0}));function $I(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||oT(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ZI(e,t,n){$I(e,n),eR(e,(function(e){return sT(e,t)||sT(t,e)}))}function eR(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(tR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function tR(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Xx&&Zx("event: "+n.toString()),mS(r)}}}var nR="repo_interrupt",rR=25,iR=function(){function e(t,n,r,i){yn(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=iA(),this.transactionQueueTree_=new MI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return kn(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function aR(e,t,n){if(e.stats_=PS(e.repoInfo_),e.forceRestClient_||gS())e.server_=new nA(e.repoInfo_,(function(t,n,r,i){uR(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fR(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new pT(e.repoInfo_,t,(function(t,n,r,i){uR(e,t,n,r,i)}),(function(t){fR(e,t)}),(function(t){!function(e,t){dS(t,(function(t,n){cR(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return NS[n]||(NS[n]=t()),NS[n]}(e.repoInfo_,(function(){return new lA(e.stats_,e.server_)})),e.infoData_=new rA,e.infoSyncTree_=new pI({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=gI(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),cR(e,"connected",!1),e.serverSyncTree_=new pI({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);ZI(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function oR(e){var t=e.infoData_.getNode(new JS(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sR(e){return AI({timestamp:oR(e)})}function uR(e,t,n,r,i){e.dataUpdateCount++;var a=new JS(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=nr(n,(function(e){return WT(e)}));o=function(e,t,n,r){var i=EI(e,r);if(i){var a=CI(i),o=a.path,s=a.queryId,u=aT(o,t),f=xA.fromObject(n);return xI(e,o,new mA(dA(s),u,f))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=WT(n);o=yI(e.serverSyncTree_,a,u,i)}else if(r){var f=nr(n,(function(e){return WT(e)}));o=function(e,t,n){var r=xA.fromObject(n);return kI(e,new mA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,f)}else{var c=WT(n);o=gI(e.serverSyncTree_,a,c)}var l=a;o.length>0&&(l=mR(e,a)),ZI(e.eventQueue_,l,o)}function fR(e,t){cR(e,"connected",t),!1===t&&function(e){hR(e,"onDisconnectEvents");var t=sR(e),n=iA();oA(e.onDisconnect_,XS(),(function(r,i){var a=PI(r,i,e.serverSyncTree_,t);aA(n,r,a)}));var r=[];oA(n,XS(),(function(t,n){r=r.concat(gI(e.serverSyncTree_,t,n));var i=wR(e,t);mR(e,i)})),e.onDisconnect_=iA(),ZI(e.eventQueue_,XS(),r)}(e)}function cR(e,t,n){var r=new JS("/.info/"+t),i=WT(n);e.infoData_.updateSnapshot(r,i);var a=gI(e.infoSyncTree_,r,i);ZI(e.eventQueue_,r,a)}function lR(e){return e.nextWriteId_++}function dR(e){e.persistentConnection_&&e.persistentConnection_.interrupt(nR)}function hR(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Zx.apply(void 0,[t].concat(r))}function pR(e,t,n){return bI(e.serverSyncTree_,t,n)||VT.EMPTY_NODE}function vR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||kR(e,t),jI(t)){var n=yR(e,t);_n(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=pR(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];_n(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var f=aT(t,u.path);a=a.updateChild(f,u.currentOutputSnapshotRaw)}var c=a.val(!0),l=t;e.server_.put(l.toString(),c,(function(r){hR(e,"transaction put response",{path:l.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(mI(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);kR(e,LI(e.transactionQueueTree_,t)),vR(e,e.transactionQueueTree_),ZI(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)mS(a[u])}else{if("datastale"===r)for(var f=0;f<n.length;f++)3===n[f].status?n[f].status=4:n[f].status=0;else{rS("transaction at "+l.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}mR(e,t)}}),o)}(e,VI(t),n)}else FI(t)&&BI(t,(function(t){vR(e,t)}))}function mR(e,t){var n=gR(e,t),r=VI(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,f=t[a],c=aT(n,f.path),l=!1;if(_n(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)l=!0,s=f.abortReason,i=i.concat(mI(e.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=rR)l=!0,s="maxretry",i=i.concat(mI(e.serverSyncTree_,f.currentWriteId,!0));else{var d=pR(e,f.path,o);f.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){JI("transaction failed: Data returned ",h,f.path);var p=WT(h);"object"===typeof h&&null!=h&&Zn(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=f.currentWriteId,m=sR(e),g=OI(p,d,m);f.currentOutputSnapshotRaw=p,f.currentOutputSnapshotResolved=g,f.currentWriteId=lR(e),o.splice(o.indexOf(v),1),i=(i=i.concat(vI(e.serverSyncTree_,f.path,g,f.currentWriteId,f.applyLocally))).concat(mI(e.serverSyncTree_,v,!0))}else l=!0,s="nodata",i=i.concat(mI(e.serverSyncTree_,f.currentWriteId,!0))}ZI(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);kR(e,e.transactionQueueTree_);for(var f=0;f<r.length;f++)mS(r[f]);vR(e,e.transactionQueueTree_)}(e,yR(e,n),r),r}function gR(e,t){var n,r=e.transactionQueueTree_;for(n=YS(t);null!==n&&void 0===jI(r);)r=LI(r,n),n=YS(t=ZS(t));return r}function yR(e,t){var n=[];return bR(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function bR(e,t,n){var r=jI(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);BI(t,(function(t){bR(e,t,n)}))}function kR(e,t){var n=jI(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,UI(t,n.length>0?n:void 0)}BI(t,(function(t){kR(e,t)}))}function wR(e,t){var n=VI(gR(e,t)),r=LI(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){_R(e,t)})),_R(e,r),zI(r,(function(t){_R(e,t)})),n}function _R(e,t){var n=jI(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(_n(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(_n(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mI(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?UI(t,void 0):n.length=a+1,ZI(e.eventQueue_,VI(t),i);for(var s=0;s<r.length;s++)mS(r[s])}}var ER=function(e,t){var n=CR(e),r=n.namespace;"firebase.com"===n.domain&&nS(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nS("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rS("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new TS(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new JS(n.pathString)}},CR=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var f=e.indexOf("//");f>=0&&(s=e.substring(0,f-1),e=e.substring(f+2));var c=e.indexOf("/");-1===c&&(c=e.length);var l=e.indexOf("?");-1===l&&(l=e.length),t=e.substring(0,Math.min(c,l)),c<l&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,l)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=hn(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rS("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,l)));(f=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(f+1),10)):f=t.length;var h=t.slice(0,f);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},xR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SR=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){yn(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return kn(e,[{key:"key",get:function(){return iT(this._path)?null:eT(this._path)}},{key:"ref",get:function(){return new TR(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=tA(this._queryParams),t=cS(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return tA(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=hr(t))instanceof e))return!1;var n=this._repo===t._repo,r=oT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var TR=function(e){pn(n,e);var t=mn(n);function n(e,r){return yn(this,n),t.call(this,e,r,new ZT,!1)}return kn(n,[{key:"parent",get:function(){var e=nT(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(SR);!function(e){_n(!sI,"__referenceConstructor has already been defined"),sI=e}(TR),function(e){_n(!lI,"__referenceConstructor has already been defined"),lI=e}(TR);var AR="FIREBASE_DATABASE_EMULATOR_HOST",IR={},RR=!1;function NR(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||nS("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zx("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ER(a,i),u=s.repoInfo,f=void 0;"undefined"!==typeof process&&(f={NODE_ENV:"production",PUBLIC_URL:"/Messanger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[AR]),f?(o=!0,a="http://".concat(f,"?ns=").concat(u.namespace),u=(s=ER(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new wS(wS.OWNER):new kS(e.name,e.options,t);XI("Invalid Firebase Database URL",s),iT(s.path)||nS("Database URL must point to the root of a Firebase Database (not including a child path).");var l=function(e,t,n,r){var i=IR[t.name];i||(i={},IR[t.name]=i);var a=i[e.toURLString()];a&&nS("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new iR(e,RR,n,r),i[e.toURLString()]=a,a}(u,e,c,new bS(e.name,n));return new PR(l,e)}var PR=function(){function e(t,n){yn(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return kn(e,[{key:"_repo",get:function(){return this._instanceStarted||(aR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new TR(this._repo,XS())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=IR[t];n&&n[e.key]===e||nS("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),dR(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&nS("Cannot call "+e+" on a deleted database.")}}]),e}();pT.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},pT.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Bx=e}(ai),ei(new pr("database",(function(e,t){var n=t.instanceIdentifier;return NR(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),ui(Ux,Fx,e),ui(Ux,Fx,"esm2017")}();var OR,DR=function(){var t=p(Et),n=p(Tt),r=p(Bt),i=E(),a=p(Lt),o=function(){var e=on(rn().mark((function e(){var t,n,r,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fm(),n=im(t,"users"),e.next=4,sg(n);case 4:r=e.sent,a=[],r.forEach((function(e){var t=e.data();a.push(t)})),i(St(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){var e;o();var t=null===(e=a.choosedThread)||void 0===e?void 0:e.id,n=function(e){for(var t=hr(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++)t=o[a]._apply(t);return t}(im(n_,"threads",t,"messages")),r=dg(n,(function(e){var t=e.docs.map((function(e){return Ie({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),i(Ft(t))}));return function(){r()}}),[]),(0,mg.jsx)("div",{className:"messagearea__messages",children:r.messages.map((function(e){var r=function(e){var t="";return n.users.map((function(n){n.id===e&&(t=n.photo)})),t}(e.userId),i=function(e){var t="";return n.users.map((function(n){n.id===e&&(t=n.displayName)})),t}(e.userId);return(0,mg.jsx)(jx,{message:e.message,photo:r,picture:e.fileUrl,name:i,audioURL:e.audioURL,isCurrentUser:t.user.id===e.userId},e.id)}))})},MR=function(){var e=p(Qt),t=p($t);return(0,mg.jsxs)("div",{className:"plug",children:[(0,mg.jsx)("div",{className:"light"===e.theme?"neu light__background":"neu dark__background",children:(0,mg.jsx)("div",{className:"light"===e.theme?"neu_shap light__shadow":"neu_shap dark__shadow",children:(0,mg.jsxs)("div",{className:"light"===e.theme?"neu_inner light__shadow light__background":"neu_inner dark__shadow dark__background",children:[(0,mg.jsx)("div",{className:"neu_ball"}),(0,mg.jsx)("div",{className:"neu_ball"}),(0,mg.jsx)("div",{className:"neu_ball"})]})})}),(0,mg.jsx)(gg,{type:"h3",label:"en"===t.language?"Select or create thread to start messanger!":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433 \u0434\u043b\u044f \u043e\u0431\u0449\u0435\u043d\u0438\u044f!"})]})},LR="firebasestorage.googleapis.com",jR="storageBucket",UR=12e4,FR=6e5,BR=1e3,zR=function(e){pn(n,e);var t=mn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return yn(this,n),(i=t.call(this,VR(e),"Firebase Storage: ".concat(r," (").concat(VR(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(vn(i),n.prototype),i}return kn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return VR(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Kn);function VR(e){return"storage/"+e}function qR(){return new zR(OR.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function HR(){return new zR(OR.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WR(){return new zR(OR.CANCELED,"User canceled the upload/download.")}function GR(){return new zR(OR.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KR(e){return new zR(OR.INVALID_ARGUMENT,e)}function QR(){return new zR(OR.APP_DELETED,"The Firebase app was deleted.")}function JR(e,t){return new zR(OR.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function XR(e){throw new zR(OR.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(OR||(OR={}));var YR,$R=function(){function e(t,n){yn(this,e),this.bucket=t,this.path_=n}return kn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new zR(OR.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===LR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],f=0;f<u.length;f++){var c=u[f],l=c.regex.exec(t);if(l){var d=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new e(d,h),c.postModify(r);break}}if(null==r)throw function(e){return new zR(OR.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ZR=function(){function e(t){yn(this,e),this.promise_=Promise.reject(t)}return kn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function eN(e){return"string"===typeof e||e instanceof String}function tN(e){return nN()&&e instanceof Blob}function nN(){return"undefined"!==typeof Blob&&!Vn()}function rN(e,t,n,r){if(r<t)throw KR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw KR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function iN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function aN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function oN(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(YR||(YR={}));var sN=function(){function e(t,n,r,i,a,o,s,u,f,c,l){var d=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];yn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=c,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return kn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=qR();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?QR():WR());else i(HR())}};this.canceled_?t(0,new uN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var f=!1;function c(){if(!f){f=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function l(t){i=setTimeout((function(){i=null,e(h,u())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(f)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return d(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),l(a)}}var p=!1;function v(e){p||(p=!0,d(),f||(null!==i?(e||(s=2),clearTimeout(i),l(0)):e||(s=1)))}return l(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===YR.NO_ERROR,a=r.getStatus();if(!n||oN(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===YR.ABORT;t(!1,new uN(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new uN(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),uN=kn((function e(t,n,r){yn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function fN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cN(){for(var e=fN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(nN())return new Blob(n);throw new zR(OR.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function lN(e){if("undefined"===typeof atob)throw t="base-64",new zR(OR.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var dN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hN=kn((function e(t,n){yn(this,e),this.data=t,this.contentType=n||null}));function pN(e,t){switch(e){case dN.RAW:return new hN(vN(t));case dN.BASE64:case dN.BASE64URL:return new hN(mN(e,t));case dN.DATA_URL:return new hN(function(e){var t=new gN(e);return t.base64?mN(dN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw JR(dN.DATA_URL,"Malformed data URL.")}return vN(t)}(t.rest)}(t),new gN(t).contentType)}throw qR()}function vN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mN(e,t){switch(e){case dN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw JR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case dN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw JR(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=lN(t)}catch(f){if(f.message.includes("polyfill"))throw f;throw JR(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var gN=kn((function e(t){yn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw JR(dN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var yN=function(){function e(t,n){yn(this,e);var r=0,i="";tN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return kn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(tN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(nN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(cN.apply(null,i))}var a=n.map((function(e){return eN(e)?pN(dN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function bN(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wN(e,t){return t}var _N=kn((function e(t,n,r,i){yn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||wN})),EN=null;function CN(){if(EN)return EN;var e=[];e.push(new _N("bucket")),e.push(new _N("generation")),e.push(new _N("metageneration")),e.push(new _N("name","fullPath",!0));var t=new _N("name");t.xform=function(e,t){return function(e){return!eN(e)||e.length<2?e:kN(e)}(t)},e.push(t);var n=new _N("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new _N("timeCreated")),e.push(new _N("updated")),e.push(new _N("md5Hash",null,!0)),e.push(new _N("cacheControl",null,!0)),e.push(new _N("contentDisposition",null,!0)),e.push(new _N("contentEncoding",null,!0)),e.push(new _N("contentLanguage",null,!0)),e.push(new _N("contentType",null,!0)),e.push(new _N("metadata","customMetadata",!0)),EN=e}function xN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new $R(n,r);return t._makeStorageReference(i)}})}(r,e),r}function SN(e,t,n){var r=bN(t);return null===r?null:xN(e,r,n)}function TN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var AN=kn((function e(t,n,r,i){yn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function IN(e){if(!e)throw qR()}function RN(e,t){return function(n,r){var i=SN(e,r,t);return IN(null!==i),i}}function NN(e,t){return function(n,r){var i=SN(e,r,t);return IN(null!==i),function(e,t,n,r){var i=bN(t);if(null===i)return null;if(!eN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return iN("/b/"+o(i)+"/o/"+o(a),n,r)+aN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function PN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new zR(OR.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new zR(OR.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new zR(OR.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new zR(OR.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ON(e){var t=PN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new zR(OR.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function DN(e,t,n){var r=iN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new AN(r,"GET",RN(e,n),i);return a.errorHandler=ON(t),a}function MN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function LN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=MN(t,r,i),f="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+TN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",l=yN.getBlob(f,r,c);if(null===l)throw GR();var d={name:u.fullPath},h=iN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new AN(h,"POST",RN(e,n),p);return v.urlParams=d,v.headers=o,v.body=l.uploadData(),v.errorHandler=PN(t),v}var jN=kn((function e(t,n,r,i){yn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function UN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){IN(!1)}return IN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var FN=262144;function BN(e,t,n,r,i,a,o,s){var u=new jN(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new zR(OR.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var f=u.total-u.current,c=f;i>0&&(c=Math.min(c,i));var l=u.current,d=l+c,h={"X-Goog-Upload-Command":0===c?"finalize":f===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(l,d);if(null===p)throw GR();var v=t.maxUploadRetryTime,m=new AN(n,"POST",(function(e,n){var i,o=UN(e,["active","final"]),s=u.current+c,f=r.size();return i="final"===o?RN(t,a)(e,n):null,new jN(s,f,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=PN(e),m}var zN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VN(e){switch(e){case"running":case"pausing":case"canceling":return zN.RUNNING;case"paused":return zN.PAUSED;case"success":return zN.SUCCESS;case"canceled":return zN.CANCELED;default:return zN.ERROR}}var qN=kn((function e(t,n,r){yn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function HN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var WN=null,GN=function(){function e(){var t=this;yn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=YR.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=YR.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=YR.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return kn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw XR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw XR("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw XR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw XR("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw XR("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),KN=function(e){pn(n,e);var t=mn(n);function n(){return yn(this,n),t.apply(this,arguments)}return kn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(GN);function QN(){return WN?WN():new KN}var JN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;yn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=CN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(OR.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(oN(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,BR),r._needToFetchStatus=!0,void r.completeTransitions_();e=HR()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(OR.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return kn(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=nn(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=MN(t,r,i),s={name:o.fullPath},u=iN(a,e.host,e._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=TN(o,n),l=e.maxUploadRetryTime,d=new AN(u,"POST",(function(e){var t;UN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){IN(!1)}return IN(eN(t)),t}),l);return d.urlParams=s,d.headers=f,d.body=c,d.errorHandler=PN(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new AN(n,"POST",(function(e){var t=UN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){IN(!1)}n||IN(!1);var i=Number(n);return IN(!isNaN(i)),new jN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=PN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,QN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=FN*this._chunkMultiplier,n=new jN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=BN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,QN,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(FN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=DN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,QN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=LN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WR(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=VN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new qN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(VN(this._state)){case zN.SUCCESS:HN(this._resolve.bind(null,this.snapshot))();break;case zN.CANCELED:case zN.ERROR:HN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(VN(this._state)){case zN.RUNNING:case zN.PAUSED:e.next&&HN(e.next.bind(e,this.snapshot))();break;case zN.SUCCESS:e.complete&&HN(e.complete.bind(e))();break;case zN.CANCELED:case zN.ERROR:default:e.error&&HN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),XN=function(){function e(t,n){yn(this,e),this._service=t,this._location=n instanceof $R?n:$R.makeFromUrl(n,t.host)}return kn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new $R(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return kN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new $R(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new zR(OR.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function YN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=iN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new AN(r,"GET",NN(e,n),i);return a.errorHandler=ON(t),a}(e.storage,e._location,CN());return e.storage.makeRequestWithTokens(t,QN).then((function(e){if(null===e)throw new zR(OR.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function $N(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $R(e._location.bucket,n);return new XN(e.storage,r)}function ZN(e,t){if(e instanceof nP){var n=e;if(null==n._bucket)throw new zR(OR.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jR+"' property when initializing the app?");var r=new XN(n,n._bucket);return null!=t?ZN(r,t):r}return void 0!==t?$N(e,t):e}function eP(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof nP)return new XN(e,t);throw KR("To use ref(service, url), the first argument must be a Storage instance.")}return ZN(e,t)}function tP(e,t){var n=null===t||void 0===t?void 0:t[jR];return null==n?null:$R.makeFromBucketSpec(n,e)}var nP=function(){function e(t,n,r,i,a){yn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=LR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UR,this._maxUploadRetryTime=FR,this._requests=new Set,this._bucket=null!=i?$R.makeFromBucketSpec(i,this._host):tP(this._host,this.app.options)}return kn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=$R.makeFromBucketSpec(this._url,e):this._bucket=tP(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=on(rn().mark((function e(){var t,n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=on(rn().mark((function e(){var t,n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new XN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ZR(QR());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=aN(e.urlParams),u=e.url+s,f=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(f,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(f,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(f,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(f,r),new sN(u,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=on(rn().mark((function e(t,n){var r,i,a,o;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=nn(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),rP="@firebase/storage",iP="0.11.2",aP="storage";function oP(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new JN(e,new yN(t),n)}(e=hr(e),t,n)}function sP(e){return YN(e=hr(e))}function uP(e,t){return eP(e=hr(e),t)}function fP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si(),t=arguments.length>1?arguments[1]:void 0,n=ti(e=hr(e),aP).getImmediate({identifier:t}),r=Mn("storage");return r&&cP.apply(void 0,[n].concat(gn(r))),n}function cP(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Fn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function lP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new nP(r,i,a,n,ai)}ei(new pr(aP,lP,"PUBLIC").setMultipleInstances(!0)),ui(rP,iP,""),ui(rP,iP,"esm2017");var dP=n(3531),hP=n.n(dP),pP=function(){var e=on(rn().mark((function e(){var t,n;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,n=hP()(t,{type:"audio",recorderType:dP.StereoAudioRecorder,mimeType:"audio/wav"}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vP=function(){var e=on(rn().mark((function e(t,n){var r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=im(fm(),"userActivity"),e.next=3,lg(r,{id:Math.random(),userId:t,activity:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mP=n(9020),gP=function(t){var n=t.isSidebarVisible,r=t.setSidebarVisibility,i=t.isGenuis,a=(t.setIsGenuis,E()),o=p(Lt),s=p(Et),u=(0,e.useMemo)((function(){return yP}),[]),f=nn((0,e.useState)(!1),2),c=f[0],l=f[1],d=nn((0,e.useState)(""),2),h=d[0],v=d[1],m=nn((0,e.useState)(null),2),g=m[0],y=m[1],b=function(){var t=nn((0,e.useState)(""),2),n=t[0],r=t[1],i=nn((0,e.useState)(!1),2),a=i[0],o=i[1],s=nn((0,e.useState)(null),2),u=s[0],f=s[1];return(0,e.useEffect)((function(){null!==u?a?u.startRecording():u.stopRecording((function(){r(u.toURL()),u.destroy(),f(null)})):a&&pP().then(f,console.error)}),[u,a]),[n,a,function(){return o(!0)},function(){return o(!1)}]}(),k=nn(b,4),w=k[0],_=k[1],C=k[2],x=k[3],S=function(){try{R()}catch(tS){console.log(tS)}v(""),y(null)},T=function(){var e=on(rn().mark((function e(t){var n,r;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",r.size/1e3>100);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=on(rn().mark((function e(){var t,n,r,i,a,u,f;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.choosedThread.id,n=im(fm(),"threads",t,"messages"),!w){e.next=22;break}return e.next=5,T(w);case 5:if(!e.sent){e.next=20;break}return r=fP(),e.next=9,fetch(w);case 9:return i=e.sent,e.next=12,i.blob();case 12:a=e.sent,u=uP(r,"audio/"+w.substring(w.length-36)),(f=oP(u,a)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.error(e)}),(function(){console.log("Upload successful"),sP(f.snapshot.ref).then((function(e){lg(n,{userId:s.user.id,message:h||"",id:"id"+Math.random().toString(16).slice(2),date:rf.fromDate(new Date).seconds,audioURL:e}).then((function(e){ug(am(fm(),"threads/".concat(t,"/messages/").concat(e.id)),{messageId:e.id},{merge:!0})}))}))})),S(),vP(s.user.id,"USER SEND AUDIO MESSAGE "+t),e.next=22;break;case 20:return alert("Toooo short audio message dude..."),e.abrupt("return");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=on(rn().mark((function e(t){var n,r,i,a,u;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=o.choosedThread.id,r=im(fm(),"threads",n,"messages"),null===s||null===o){e.next=18;break}if(!g){e.next=13;break}return i=fP(),a=uP(i,"files/"+g.name),(u=oP(a,g)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.error(e)}),(function(){console.log("Upload successful"),vP(s.user.id,"USER SEND FILE MESSAGE "+g.name),sP(u.snapshot.ref).then((function(e){lg(r,{userId:s.user.id,message:h||"",id:"id"+Math.random().toString(16).slice(2),date:rf.fromDate(new Date).seconds,fileUrl:e,fileName:g.name}).then((function(e){ug(am(fm(),"threads/".concat(n,"/messages/").concat(e.id)),{messageId:e.id},{merge:!0})}))}))})),S(),e.abrupt("return");case 13:if(!h){e.next=18;break}return e.next=16,lg(r,{userId:s.user.id,message:h,id:"id"+Math.random().toString(16).slice(2),date:rf.fromDate(new Date).seconds});case 16:vP(s.user.id,"USER SEND MESSAGE "+h),S();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=on(rn().mark((function e(){var t,n,r,i,s,u,f,l,d,h;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isSelected){e.next=22;break}if(!c){e.next=13;break}return n=null===(t=o.choosedThread)||void 0===t?void 0:t.id,r=im(fm(),"bots",n,"messages"),e.next=6,sg(r);case 6:i=e.sent,s=[],i.forEach((function(e){var t=e.data();s.push(t)})),s.sort((function(e,t){return e.date-t.date})),a(Ft(s)),e.next=22;break;case 13:return f=null===(u=o.choosedThread)||void 0===u?void 0:u.id,l=im(fm(),"threads",f,"messages"),e.next=17,sg(l);case 17:d=e.sent,h=[],d.forEach((function(e){var t=e.data();h.push(t)})),h.sort((function(e,t){return e.date-t.date})),a(Ft(h));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e,t;o.isSelected&&(R(),""!=(null===(e=o.choosedThread)||void 0===e?void 0:e.desc)&&void 0!=(null===(t=o.choosedThread)||void 0===t?void 0:t.desc)?l(!0):l(!1))}),[o.isSelected,o.choosedThread]);var N=function(){var e=on(rn().mark((function e(t){var n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n="Dpb8UO5YPeKd31MJOZ11jcmPuJtQN3H5DXEuIjm6SFXtYZR23Yfn4CJA69ak",""!==h.trim()){e.next=5;break}return alert("Empty message"),e.abrupt("return",null);case 5:try{(r=new Headers).append("Content-Type","application/json"),i=JSON.stringify({key:n,prompt:h,negative_prompt:null,width:"512",height:"512",samples:"1",num_inference_steps:"20",seed:null,guidance_scale:7.5,safety_checker:"yes",multi_lingual:"no",panorama:"no",self_attention:"no",upscale:"no",embeddings_model:null,webhook:null,track_id:null}),fetch("https://stablediffusionapi.com/api/v3/text2img",{method:"POST",headers:r,body:i,redirect:"follow"}).then((function(e){return e.text()})).then(function(){var e=on(rn().mark((function e(t){var n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.choosedThread.id,r=im(fm(),"bots",n,"messages"),i=JSON.parse(t).output[0],vP(s.user.id,"USER SEND BOT MESSAGE "+h),e.next=6,lg(r,{userId:s.user.id,message:h,id:"id"+Math.random().toString(16).slice(2),date:rf.fromDate(new Date).seconds});case 6:return e.next=8,lg(r,{userId:s.user.id+1,message:i,id:"id"+Math.random().toString(16).slice(2),date:rf.fromDate(new Date).seconds});case 8:S();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}))}catch(tS){console.log(tS)}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P={bot:{name:"HawkingBot",picture:"https://nlux.ai/images/demos/persona-hawking.jpeg",tagline:"Outsmarts Einstein and E.T."},user:{name:s.user.displayName?s.user.displayName:"User",picture:s.user.photo?s.user.photo:"https://nlux.ai/images/demos/persona-woman.jpeg"}};return(0,mg.jsxs)("div",{className:"messagearea",children:[(0,mg.jsx)(o_,{isSidebarVisible:n,setSidebarVisibility:r}),i?(0,mg.jsx)("div",{style:{zIndex:0,width:"100%",height:"90%"},children:(0,mg.jsx)(mP.AiChat,{adapter:u,personaOptions:P,layoutOptions:{height:"100%",maxWidth:600}})}):o.isSelected?(0,mg.jsxs)("main",{style:{height:"inherit"},children:[(0,mg.jsx)(DR,{}),(0,mg.jsx)(Ox,{isRecording:_,audioURL:w,sendAudioMessage:A,startRecording:C,stopRecording:x,file:g,setFile:y,message:h,setMessage:v,sendMessage:c?N:I,isBot:c})]}):(0,mg.jsx)(MR,{})]})},yP={streamText:function(){var e=on(rn().mark((function e(t,n){var r,i,a,o,s,u,f,c;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={prompt:t},e.next=3,fetch("https://demo.api.nlux.ai/openai/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if(200===(i=e.sent).status){e.next=7;break}return n.error(new Error("Failed to connect to the server")),e.abrupt("return");case 7:if(i.body){e.next=9;break}return e.abrupt("return");case 9:a=i.body.getReader(),o=new TextDecoder,s=!1;case 12:if(s){e.next=25;break}return e.next=15,a.read();case 15:if(u=e.sent,f=u.value,!u.done){e.next=21;break}return s=!0,e.abrupt("continue",12);case 21:(c=o.decode(f))&&n.next(c),e.next=12;break;case 25:n.complete();case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},bP=function(e){var t=e.onClick,n=e.text,r=p(Qt);return(0,mg.jsx)("button",{onClick:t,className:"light"===r.theme?"neumorph__button light__background light__shadow":"neumorph__button dark__background dark__shadow",children:(0,mg.jsx)("p",{className:"light"===r.theme?"light__color":"dark__color",children:n})})},kP=function(e){var t=e.theme,n=e.user,r=e.setModalShow,i=e.searchInput,a=e.setSearchInput,o=e.setSidebarVisibility,s=e.setModalShowBot,u=p($t);return(0,mg.jsxs)("header",{className:"light"===t?"sidebar__top light__background light__shadow":"sidebar__top dark__background dark__shadow",children:[(0,mg.jsxs)("div",{className:"user-info",children:[""!==n.photo&&(0,mg.jsx)("img",{src:n.photo,alt:"user"}),(0,mg.jsx)(gg,{type:"h3",label:n.displayName}),(0,mg.jsx)("div",{onClick:function(){return o((function(e){return!e}))},className:"sidebar__close-mobile",style:{backgroundImage:"url(".concat("light"===t?Gg.Close_def:Kg.Close_night,")")}})]}),(0,mg.jsx)("input",{className:"light"===t?"light__color light__background light__shadow":"dark__color dark__background dark__shadow",value:i,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"en"===u.language?"Search":"\u041f\u043e\u0438\u0441\u043a"}),(0,mg.jsx)(bP,{onClick:function(){return r((function(e){return!e}))},text:"en"===u.language?"create chat":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0447\u0430\u0442"}),(0,mg.jsx)(bP,{onClick:function(){return s((function(e){return!e}))},text:"en"===u.language?"create chatbot":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"})]})},wP=function(){var e=E(),t=p(Qt);return(0,mg.jsxs)("footer",{className:"light"===t.theme?"sidebar__bottom light__background light__shadow":"sidebar__bottom dark__background dark__shadow",children:[(0,mg.jsx)("div",{className:"light"===t.theme?"sidebar__bottom_logout bottom-btn light__shadow":"sidebar__bottom_logout bottom-btn dark__shadow",style:{backgroundImage:"url(".concat("light"===t.theme?Gg.Logout_def:Kg.Logout_night,")")},onClick:function(){localStorage.clear(),function(e){return hr(e).signOut()}(r_).then((function(){e(_t(null)),e(Mt(null))}))}}),(0,mg.jsx)("div",{className:"light"===t.theme?"sidebar__bottom_settings bottom-btn light__shadow":"sidebar__bottom_settings bottom-btn dark__shadow",style:{backgroundImage:"url(".concat("light"===t.theme?Gg.Settings_def:Kg.Settings_night,")")},onClick:function(){e(qt(!0))}})]})},_P="SUN",EP="MON",CP="TUE",xP="WEN",SP="THU",TP="FRI",AP="SAT",IP=function(e){var t=Math.floor(+new Date/1e3),n=Math.floor(t-e);if(n<5)return"just now";if(n>5&&n<60)return"1 min";if(n>60&&n<120)return"2 min";if(n>120&&n<180)return"3 min";if(n>180&&n<240)return"4 min";if(n>240&&n<300)return"5 min";if(n>300&&n<360)return"5 min";var r=1e3*e;if(r/1e3-Math.floor(Date.now()/1e3)>864e5)switch(new Date(r).getDay()){case 0:return _P;case 1:return EP;case 2:return CP;case 3:return xP;case 4:return SP;case 5:return TP;case 6:return AP}return new Date(r).toISOString().slice(11,16)},RP="#fff",NP="#eaeaea",PP="rgb(26,34,44)",OP="rgb(36,48,63)",DP=function(e){var t=e.name,n=e.date,r=e.onClick,i=e.id,a=e.file,o=p(Qt),s=p(Lt);return(0,mg.jsxs)("li",{onClick:r,className:"light"===o.theme?"threads__item light__background light__shadow":"threads__item dark__background dark__shadow",style:{boxShadow:"".concat(s.isSelected&&s.choosedThread.id===i?"0px 0 10px #ea9c5c":"light"===o.theme?"0px 0 10px ".concat(NP):"0px 0 10px ".concat(OP))},children:[(0,mg.jsx)("img",{src:a||"https://random.imagecdn.app/200/200",alt:"avatar"}),(0,mg.jsx)(gg,{type:"p",label:t}),(0,mg.jsx)("small",{children:IP(n)})]})},MP=function(e){var t=e.threads,n=e.setSidebarVisibility,r=e.bots,i=e.setIsGenuis,a=E(),o=p($t),s=p(Qt),u=function(e){window.screen.width<=500&&n(!1),a(Dt(e)),i(!1)};return(0,mg.jsxs)("ul",{className:"light"===s.theme?"threads light__background light__shadow":"threads dark__background dark__shadow",children:[(0,mg.jsx)("h1",{style:{color:"rgb(139, 182, 255)"},children:"en"===o.language?"Threads":"\u0427\u0430\u0442\u044b"}),t.map((function(e){return(0,mg.jsx)(DP,{theme:s.theme,onClick:function(){return u(e)},id:e.id,name:e.name,date:e.date,file:e.file},e.id)})),(0,mg.jsx)("h1",{style:{color:"rgb(139, 182, 255)"},children:"en"===o.language?"Bots":"\u0411\u043e\u0442\u044b"}),r.map((function(e){return(0,mg.jsx)(DP,{theme:s.theme,onClick:function(){return u(e)},id:e.id,name:e.name,date:e.date,file:e.file},e.id)}))]})},LP=function(t){var n=t.handleAddThread,r=t.setModalShow,i=t.threadName,a=t.setThreadName,o=t.isModalShow,s=t.setFileModal,u=t.fileModal,f=p(Qt),c=p($t),l=nn((0,e.useState)(0),2),d=l[0],h=l[1];return(0,mg.jsx)("div",{className:"light"===f.theme?"modal light__background light__shadow":"modal dark__background dark__shadow",style:{opacity:o?"0":"1",transition:"all 0.3s",visibility:o?"hidden":"visible",transform:"translateY(".concat(o?"200%":"0%",")")},children:(0,mg.jsxs)("div",{className:"modal__container",children:[(0,mg.jsx)("div",{tabIndex:2,onClick:function(){return r((function(e){return!e}))},className:"modal__container-close",style:{backgroundImage:"url(".concat("light"===f.theme?Gg.Close_def:Kg.Close_night,")")}}),(0,mg.jsx)("input",{className:"light"===f.theme?"light__color light__background light__shadow":"dark__color dark__background dark__shadow",maxLength:20,value:i,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"en"===c.language?"Type name of your chat":"\u0418\u043c\u044f \u0447\u0430\u0442\u0430"}),(0,mg.jsxs)("button",{className:"file_upload",children:[(0,mg.jsx)("label",{htmlFor:"file-upload2",className:"light"===f.theme?"custom-file-upload light__background light__shadow":"custom-file-upload dark__background dark__shadow",style:{backgroundImage:"url(".concat("light"===f.theme?Gg.Clip_def:Kg.Clip_night,")")}}),u&&(0,mg.jsx)("div",{className:"file_upload_dot"}),(0,mg.jsx)("input",{id:"file-upload2",accept:"images/*",type:"file",name:"fileModal",onChange:function(e){var t=e.target.files[0];s(t),h((function(e){return e+1}))}},d)]}),(0,mg.jsx)(bP,{onClick:n,text:"en"===c.language?"Create chat":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0447\u0430\u0442"})]})})},jP=function(t){var n=t.handleAddThread,r=t.setModalShow,i=t.threadName,a=t.setThreadName,o=t.isModalShow,s=t.setFileModal,u=t.fileModal,f=t.botDesc,c=t.setBotDesc,l=p(Qt),d=p($t),h=nn((0,e.useState)(0),2),v=h[0],m=h[1];return(0,mg.jsx)("div",{className:"light"===l.theme?"modal light__background light__shadow":"modal dark__background dark__shadow",style:{opacity:o?"0":"1",transition:"all 0.3s",visibility:o?"hidden":"visible",transform:"translateY(".concat(o?"200%":"0%",")")},children:(0,mg.jsxs)("div",{className:"modal__container",children:[(0,mg.jsx)("div",{tabIndex:2,onClick:function(){return r((function(e){return!e}))},className:"modal__container-close",style:{backgroundImage:"url(".concat("light"===l.theme?Gg.Close_def:Kg.Close_night,")")}}),(0,mg.jsx)("input",{className:"light"===l.theme?"light__color light__background light__shadow":"dark__color dark__background dark__shadow",maxLength:20,value:i,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"en"===d.language?"Type name of your chatbot":"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),(0,mg.jsx)("input",{className:"light"===l.theme?"light__color light__background light__shadow":"dark__color dark__background dark__shadow",maxLength:25,value:f,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"en"===d.language?"Description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,mg.jsxs)("button",{className:"file_upload",children:[(0,mg.jsx)("label",{htmlFor:"file-upload2",className:"light"===l.theme?"custom-file-upload light__background light__shadow":"custom-file-upload dark__background dark__shadow",style:{backgroundImage:"url(".concat("light"===l.theme?Gg.Clip_def:Kg.Clip_night,")")}}),u&&(0,mg.jsx)("div",{className:"file_upload_dot"}),(0,mg.jsx)("input",{id:"file-upload2",accept:"images/*",type:"file",name:"fileModal",onChange:function(e){var t=e.target.files[0];s(t),m((function(e){return e+1}))}},v)]}),(0,mg.jsx)(bP,{onClick:n,text:"en"===d.language?"Create chatbot":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"})]})})},UP=ft({name:"bot",initialState:{bots:[]},reducers:{setBots:function(e,t){e.bots=t.payload}}}),FP=UP.actions.setBots;UP.reducer;function BP(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var zP=function(t){var n=t.isSidebarVisible,r=t.setSidebarVisibility,i=t.isGenuis,a=t.setIsGenuis,o=E(),s=nn((0,e.useState)(!0),2),u=s[0],f=s[1],c=nn((0,e.useState)(!0),2),l=c[0],d=c[1],h=nn((0,e.useState)(""),2),v=h[0],m=h[1],g=nn((0,e.useState)(""),2),y=g[0],b=g[1],k=nn((0,e.useState)([]),2),w=k[0],_=k[1],C=nn((0,e.useState)(null),2),x=C[0],S=C[1],T=function(){var t=nn((0,e.useState)(BP()),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){function e(){r(BP())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),A=(T.height,T.width),I=nn((0,e.useState)(""),2),R=I[0],N=I[1],P=nn((0,e.useState)([]),2),O=P[0],D=P[1],M=p(Et),L=p(Qt),j=function(){var e=on(rn().mark((function e(){var t,n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wm(im(n_,"threads")),e.next=3,sg(t);case 3:n=e.sent,r=n.docs.map((function(e){return Ie({id:e.id},e.data())})),r.sort((function(e,t){return t.date-e.date})),i=r.filter((function(e){return e.members.some((function(e){return e===M.user.id}))})),o(Rt(i)),_(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=on(rn().mark((function e(){var t,n,r,i;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wm(im(n_,"bots")),e.next=3,sg(t);case 3:n=e.sent,r=n.docs.map((function(e){return Ie({id:e.id},e.data())})),i=r.filter((function(e){return e.userId===M.user.id})).sort((function(e,t){return t.date-e.date})),o(FP(i)),_(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=dg(Wm(im(n_,"bots")),(function(e){var t=e.docs.map((function(e){return Ie({id:e.id},e.data())})).filter((function(e){return e.userId===M.user.id})).sort((function(e,t){return e.date-t.date}));o(FP(t)),D(t)})),t=dg(Wm(im(n_,"threads")),(function(e){var t=e.docs.map((function(e){return Ie({id:e.id},e.data())}));t.sort((function(e,t){return e.date-t.date})),o(Rt(t)),_(t)}));return function(){t(),e()}}),[M]),(0,e.useEffect)((function(){if(y){var e=w.filter((function(e){return e.name.toLowerCase().includes("".concat(y.toLowerCase()))})),t=O.filter((function(e){return e.name.toLowerCase().includes("".concat(y.toLowerCase()))}));D(t),_(e)}else U(),j()}),[y]);var F=function(){var e=on(rn().mark((function e(){var t,n,r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==x||!v.trim()){e.next=9;break}return t={name:v,userId:M.user.id,date:rf.fromDate(new Date).seconds,admin:M.user.id,members:[M.user.id]},e.next=4,ug(am(n_,"threads",t.name),t);case 4:j(),vP(M.user.id,"USER CREATE TREAD"+v),m(""),e.next=21;break;case 9:if(!x){e.next=19;break}n=fP(),r=uP(n,"filesthreads/"+x.name),i=oP(r,x),a=im(fm(),"threads"),i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.error(e)}),(function(){vP(M.user.id,"USER CREATE TREAD"+v),console.log("Upload successful"),sP(i.snapshot.ref).then((function(e){lg(a,{name:v,userId:M.user.id,date:rf.fromDate(new Date).seconds,file:e,admin:M.user.id,members:[M.user.id]})}))})),f((function(e){return!e})),S(null),e.next=21;break;case 19:return alert("Please, write thread name!"),e.abrupt("return");case 21:f(!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=on(rn().mark((function e(){var t,n,r,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==x||!v.trim()||!R.trim()){e.next=9;break}return t={name:v,userId:M.user.id,date:rf.fromDate(new Date).seconds,desc:R},e.next=4,ug(am(n_,"bots",t.name),t);case 4:U(),vP(M.user.id,"USER CREATE BOT"+v),m(""),e.next=21;break;case 9:if(!x){e.next=19;break}n=fP(),r=uP(n,"botsthreads/"+x.name),i=oP(r,x),a=im(fm(),"bots"),i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){console.error(e)}),(function(){vP(M.user.id,"USER CREATE BOT"+v),console.log("Upload successful"),sP(i.snapshot.ref).then((function(e){lg(a,{name:v,userId:M.user.id,date:rf.fromDate(new Date).seconds,file:e,desc:R})}))})),d((function(e){return!e})),S(null),e.next=21;break;case 19:return alert("Please, fill all inputs!"),e.abrupt("return");case 21:d(!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,mg.jsxs)("section",{className:"light"===L.theme?"sidebar light__background light__shadow":"sidebar dark__background dark__shadow",style:{transform:"translateX(".concat(n?"0":"-200%",")"),opacity:"".concat(n?"1":"0"),zIndex:n?"123":"-21"},children:[(0,mg.jsx)(kP,{setSidebarVisibility:r,theme:L.theme,user:M.user,setModalShow:f,setModalShowBot:d,searchInput:y,setSearchInput:b}),(0,mg.jsx)("div",{style:{width:"100%",alignItems:"center",display:"flex",justifyContent:"center"},children:(0,mg.jsx)(bP,{onClick:function(){a(!i),A<=425&&r(!1)},text:"open genuis"})}),(0,mg.jsx)(MP,{setIsGenuis:a,threads:w,bots:O,setSidebarVisibility:r}),(0,mg.jsx)(wP,{}),(0,mg.jsx)(LP,{fileModal:x,setFileModal:S,handleAddThread:F,setModalShow:f,threadName:v,setThreadName:m,isModalShow:u}),(0,mg.jsx)(jP,{fileModal:x,setFileModal:S,handleAddThread:B,setModalShow:d,threadName:v,setThreadName:m,isModalShow:l,botDesc:R,setBotDesc:N})]})},VP=function(){var t=p(Qt),n=nn((0,e.useState)(!0),2),r=n[0],i=n[1],a=nn((0,e.useState)(!1),2),o=a[0],s=a[1];return(0,mg.jsxs)("div",{className:"light"===t.theme?"messenger light__background":"messenger dark__background",children:[(0,mg.jsx)(zP,{isSidebarVisible:r,setSidebarVisibility:i,isGenuis:o,setIsGenuis:s}),(0,mg.jsx)(gP,{isSidebarVisible:r,setSidebarVisibility:i,isGenuis:o,setIsGenuis:s})]})},qP=function(e){var t=e.label,n=e.activeTab,r=e.onClick,i=e.icon,a=e.name,o=e.width,s=p(Qt);return(0,mg.jsxs)("li",{className:n===t?"settings__sidebar_item-active":"settings__sidebar_item",style:{background:"".concat("light"===s.theme?RP:PP)},onClick:function(){return r(t)},children:[(0,mg.jsx)("img",{style:{width:o},src:i,alt:"icon"}),(0,mg.jsx)(gg,{type:"h3",label:a})]})},HP=function(t){var n=t.setChoice,r=p($t),i=p(Qt),a=[{id:"id13r2453g24",label:"theme",name:"en"===r.language?"theme":"\u0442\u0435\u043c\u0430",icon:"light"===i.theme?Gg.Light_def:Kg.Night_night},{id:"id13r2453g242311",label:"report",name:"en"===r.language?"report":"\u0436\u0430\u043b\u043e\u0431\u0430",icon:"light"===i.theme?"https://cdn-icons-png.flaticon.com/512/2912/2912794.png":"https://cdn-icons-png.flaticon.com/512/2912/2912785.png"},{id:"id13r24dafvrbwe53g24",label:"language",name:"en"===r.language?"speech":"\u044f\u0437\u044b\u043a",icon:"light"===i.theme?Gg.Language_def:Kg.Language_night,width:"25px"}],o=nn((0,e.useState)(a[0].label),2),s=o[0],u=o[1],f=E(),c=function(e){u(e),n(e)};return(0,mg.jsxs)("div",{className:"settings__sidebar",style:{background:"".concat("light"===i.theme?RP:PP),boxShadow:"".concat("light"===i.theme?"2px 0 10px ".concat(NP):"2px 0 10px ".concat(OP))},children:[(0,mg.jsx)(gg,{type:"h3",label:"en"===r.language?"Settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),a.map((function(e){return(0,mg.jsx)(qP,{activeTab:s,label:e.label,name:e.name,width:e.width,onClick:c,icon:e.icon},e.id)})),(0,mg.jsxs)("div",{className:"settings__sidebar_item",onClick:function(){f(qt(!1)),n("")},style:{background:"".concat("light"===i.theme?RP:PP)},children:[(0,mg.jsx)("img",{src:"light"===i.theme?Gg.Back_def:Kg.Back_night,alt:"icon"}),(0,mg.jsx)(gg,{type:"h3",label:"en"===r.language?"back":"\u043d\u0430\u0437\u0430\u0434"})]})]})},WP=function(){return(0,mg.jsx)("div",{className:"bubble-inner"})},GP={_origin:"https://api.emailjs.com"},KP=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},QP=kn((function e(t){yn(this,e),this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"})),JP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new QP(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new QP(t))})),a.open("POST",GP._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},XP=function(e,t,n,r){var i=r||GP._userID,a=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);KP(i,e,t);var o=new FormData(a);return o.append("lib_version","3.11.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),JP("/api/v1.0/email/send-form",o)},YP=function(){var e=E(),t=p(Qt),n=p($t),r=p(Et);return(0,mg.jsx)("div",{className:"themeModify",children:(0,mg.jsx)(bP,{onClick:function(){if(vP(r.user.id,"USER CHANGE THEME"),"light"===t.theme)e(Kt("dark"));else{if("dark"!==t.theme)return null;e(Kt("light"))}},text:"en"===n.language?"Switch Theme":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443"})})},$P=function(){var e=p(Et),t=E(),n=function(n){t(Yt(n)),vP(e.user.id,"USER CHANGE LANGUAGE TO "+n)};return(0,mg.jsxs)("div",{className:"languageModify",children:[(0,mg.jsx)(bP,{onClick:function(){return n("en")},text:"English"}),(0,mg.jsx)(bP,{onClick:function(){return n("ru")},text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"})]})},ZP=function(){return(0,mg.jsx)("div",{className:"bubble",children:(0,mg.jsx)(WP,{})})},eO=function(){var e=p(Et),t=function(){var t=on(rn().mark((function t(n){var r;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==document.getElementById("emailForm").value&&""!==document.getElementById("emailText").value){t.next=4;break}return alert("fill all fields"),t.abrupt("return",null);case 4:return XP("service_td2wdzp","template_exkvwuu",n.target,"dHCyn07M0V4bPsc53"),alert("success sended"),r=im(fm(),"reports"),t.next=9,lg(r,{userId:e.user.id,reportDesc:document.getElementById("emailText").value,reportH:document.getElementById("emailForm").value,timestamp:rf.fromDate(new Date).seconds});case 9:vP(e.user.id,"USER SEND REPORT "+document.getElementById("emailForm").value),document.getElementById("emailForm").value="",document.getElementById("emailText").value="";case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,mg.jsx)("div",{style:{alignItems:"center",justifyContent:"center",zIndex:20},children:(0,mg.jsxs)("form",{onSubmit:t,style:{display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",padding:30,borderRadius:20},children:[(0,mg.jsxs)("label",{htmlFor:"email_form",style:{textAlign:"left",width:"100%"},children:["Email:"," "]}),(0,mg.jsx)("input",{type:"text",name:"email_form",id:"emailForm",style:{borderRadius:10,borderColor:"rgb(26, 34, 44)",height:36,width:200,paddingLeft:10}}),(0,mg.jsxs)("label",{htmlFor:"email_text",style:{marginTop:20,textAlign:"left",width:"100%"},children:["Text:"," "]}),(0,mg.jsx)("input",{type:"text",name:"email_text",id:"emailText",style:{borderRadius:10,borderColor:"rgb(26, 34, 44)",height:36,width:200,paddingLeft:10}}),(0,mg.jsx)("button",{type:"submit",style:{fontSize:18,color:"#fff",backgroundColor:"rgb(26, 34, 44)",borderRadius:20,padding:"10px 20px",marginTop:20},children:"send"})]})})},tO=function(e){var t=e.choice,n=p(Qt);return(0,mg.jsxs)("main",{className:"settings__modify",style:{background:"".concat("light"===n.theme?RP:PP)},children:[(0,mg.jsx)(ZP,{}),"theme"===t?(0,mg.jsx)(YP,{}):null,"language"===t?(0,mg.jsx)($P,{}):null,"report"===t?(0,mg.jsx)(eO,{}):null]})},nO=function(){var t=nn((0,e.useState)("theme"),2),n=t[0],r=t[1];return(0,mg.jsxs)("section",{className:"settings",children:[(0,mg.jsx)(HP,{setChoice:r}),(0,mg.jsx)(tO,{choice:n,setChoice:r})]})},rO=function(){var e=E(),t=p(Qt),n=function(){var t=on(rn().mark((function t(){var n,r,i,a,o,s,u,f,c,l,d,h,p;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=localStorage.getItem("user"))){t.next=9;break}return r=JSON.parse(n),i=im(fm(),"analytycs"),t.next=6,lg(i,{id:Math.random(),userId:r.user.id,action:"SUCCESS_LOGIN",timestamp:rf.fromDate(new Date).seconds});case 6:return e(wt(r)),vP(r.uid,"USER LOGIN"),t.abrupt("return");case 9:return a=fm(),(o=new Kb).setCustomParameters({prompt:"select_account"}),t.prev=12,t.next=15,Zk(r_,o);case 15:return s=t.sent,u=s.user,f=am(a,"users",u.uid),t.next=20,ag(f);case 20:if(c=t.sent,l={displayName:u.displayName,email:u.email,photo:u.photoURL,id:u.uid},c.exists()){t.next=25;break}return t.next=25,ug(f,l);case 25:e(wt(l)),localStorage.setItem("user",JSON.stringify(l)),vP(u.uid,"USER LOGIN"),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(12),console.log("[SETTING USER ERROR]"),console.log(t.t0.message);case 34:return t.prev=34,d=im(a,"users"),t.next=38,sg(d);case 38:h=t.sent,p=[],h.forEach((function(e){var t=e.data();p.push(t)})),e(St(p)),t.next=48;break;case 44:t.prev=44,t.t1=t.catch(34),console.log("[GETTING USERS ERROR]"),console.log(t.t1.message);case 48:case"end":return t.stop()}}),t,null,[[12,30],[34,44]])})));return function(){return t.apply(this,arguments)}}();return(0,mg.jsx)("div",{className:"login",style:{backgroundColor:"light"===t.theme?RP:PP},children:(0,mg.jsxs)("div",{className:"login__modal",style:{backgroundColor:"light"===t.theme?RP:PP},children:[(0,mg.jsx)(gg,{type:"h1",label:"messenger"}),(0,mg.jsx)(bP,{onClick:n,text:"login"})]})})},iO=function(){var t=p(Et),n=p(Ht),r=E();return(0,e.useEffect)((function(){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(){console.log("\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e")})).catch((function(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0430",e)}));try{var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);r(wt(t))}}catch(tS){console.log("[NO USERS IN LOCAL STORAGE]")}r(Mt(null))}),[]),(0,mg.jsx)("div",{className:"App",children:t.user?n.settings?(0,mg.jsx)(nO,{}):(0,mg.jsx)(VP,{}):(0,mg.jsx)(rO,{})})};t.createRoot(document.getElementById("root")).render((0,mg.jsx)(e.StrictMode,{children:(0,mg.jsx)(y,{store:Zt,children:(0,mg.jsx)(iO,{})})}))}()}();
//# sourceMappingURL=main.d2883301.js.map